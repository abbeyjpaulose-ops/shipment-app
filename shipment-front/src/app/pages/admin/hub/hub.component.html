<div class="hubs-container">
  <h2>Manage Hubs</h2>

  <!-- Add Hub Form -->
  <div class="add-hub-form">
    <input [(ngModel)]="newHub.hubName" placeholder="Hub Name" required>
    <input [(ngModel)]="newHub.address" placeholder="Address" required>
    <input [(ngModel)]="newHub.city" placeholder="City">
    <input [(ngModel)]="newHub.state" placeholder="State">
    <input [(ngModel)]="newHub.pinCode" placeholder="Pin Code">
    <input [(ngModel)]="newHub.GSTIN" placeholder="GSTIN" required>
    <input [(ngModel)]="newHub.perRev" placeholder="% of revenue" required>
    <button (click)="addHub()">+ Add Hub</button>
  </div>

  <!-- Hubs List -->
  <div class="hubs-table-wrapper">
    <table>
      <tr>
        <th>Hub Name</th>
        <th>Address</th>
        <th>City</th>
        <th>State</th>
        <th>Pin</th>
        <th>GSTIN</th>
        <th>% of revenue</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
      <tr *ngFor="let h of hubs">
        <!-- Hub Name -->
        <td>
          <span *ngIf="editingHub?._id !== h._id">{{ h.hubName }}</span>
          <div *ngIf="editingHub?._id === h._id" class="edit-field">
            <input [(ngModel)]="editingHub.hubName">
          </div>
        </td>

        <!-- Address -->
        <td>
          <span *ngIf="editingHub?._id !== h._id">{{ h.address }}</span>
          <div *ngIf="editingHub?._id === h._id" class="edit-field">
            <input [(ngModel)]="editingHub.address">
          </div>
        </td>

        <!-- City -->
        <td>
          <span *ngIf="editingHub?._id !== h._id">{{ h.city }}</span>
          <div *ngIf="editingHub?._id === h._id" class="edit-field">
            <input [(ngModel)]="editingHub.city">
          </div>
        </td>

        <!-- State -->
        <td>
          <span *ngIf="editingHub?._id !== h._id">{{ h.state }}</span>
          <div *ngIf="editingHub?._id === h._id" class="edit-field">
            <input [(ngModel)]="editingHub.state">
          </div>
        </td>

        <!-- Pin Code -->
        <td>
          <span *ngIf="editingHub?._id !== h._id">{{ h.pinCode }}</span>
          <div *ngIf="editingHub?._id === h._id" class="edit-field">
            <input [(ngModel)]="editingHub.pinCode">
          </div>
        </td>

        <!-- GSTIN -->
        <td>
          <span *ngIf="editingHub?._id !== h._id">{{ h.GSTIN }}</span>
          <div *ngIf="editingHub?._id === h._id" class="edit-field">
            <input [(ngModel)]="editingHub.GSTIN">
          </div>
        </td>

        <!-- % of Revenue -->
        <td>
          <span *ngIf="editingHub?._id !== h._id">{{ h.perRev }}</span>
          <div *ngIf="editingHub?._id === h._id" class="edit-field">
            <input [(ngModel)]="editingHub.perRev">
          </div>
        </td>

        <!-- Status -->
        <td>
          <button (click)="toggleStatus(h)">
            {{ h.status === 'active' ? 'Deactivate' : 'Activate' }}
          </button>
        </td>

        <!-- Actions -->
        <td>
          <button *ngIf="editingHub?._id !== h._id" (click)="editHub(h)">Edit</button>
          <button *ngIf="editingHub?._id === h._id" (click)="saveEdit()">Save</button>
        </td>
      </tr>
    </table>
  </div>
</div>
