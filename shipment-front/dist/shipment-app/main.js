"use strict";(self.webpackChunkshipment_app=self.webpackChunkshipment_app||[]).push([[792],{261:()=>{function qo(e,n){return Object.is(e,n)}let Ve=null,Mr=!1,Dr=1;const sn=Symbol("SIGNAL");function ie(e){const n=Ve;return Ve=e,n}const Ha={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yu(e){if(Mr)throw new Error("");if(null===Ve)return;Ve.consumerOnSignalRead(e);const n=Ve.nextProducerIndex++;za(Ve),n<Ve.producerNode.length&&Ve.producerNode[n]!==e&&Wo(Ve)&&$a(Ve.producerNode[n],Ve.producerIndexOfThis[n]),Ve.producerNode[n]!==e&&(Ve.producerNode[n]=e,Ve.producerIndexOfThis[n]=Wo(Ve)?wm(e,Ve,n):0),Ve.producerLastReadVersion[n]=e.version}function vm(e){if((!Wo(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Dr)){if(!e.producerMustRecompute(e)&&!Ju(e))return e.dirty=!1,void(e.lastCleanEpoch=Dr);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Dr}}function ym(e){if(void 0===e.liveConsumerNode)return;const n=Mr;Mr=!0;try{for(const t of e.liveConsumerNode)t.dirty||bm(t)}finally{Mr=n}}function Cm(){return!1!==Ve?.consumerAllowSignalWrites}function bm(e){e.dirty=!0,ym(e),e.consumerMarkedDirty?.(e)}function Ga(e){return e&&(e.nextProducerIndex=0),ie(e)}function Ku(e,n){if(ie(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Wo(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)$a(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ju(e){za(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(vm(t),i!==t.version))return!0}return!1}function Xu(e){if(za(e),Wo(e))for(let n=0;n<e.producerNode.length;n++)$a(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function wm(e,n,t){if(Mm(e),0===e.liveConsumerNode.length&&Dm(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=wm(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function $a(e,n){if(Mm(e),1===e.liveConsumerNode.length&&Dm(e))for(let i=0;i<e.producerNode.length;i++)$a(e.producerNode[i],e.producerIndexOfThis[i]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];za(r),r.producerIndexOfThis[i]=n}}function Wo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function za(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Mm(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Dm(e){return void 0!==e.producerNode}const ed=Symbol("UNSET"),td=Symbol("COMPUTING"),qa=Symbol("ERRORED"),xT={...Ha,value:ed,dirty:!0,error:null,equal:qo,producerMustRecompute:e=>e.value===ed||e.value===td,producerRecomputeValue(e){if(e.value===td)throw new Error("Detected cycle in computations.");const n=e.value;e.value=td;const t=Ga(e);let i;try{i=e.computation()}catch(r){i=qa,e.error=r}finally{Ku(e,t)}n!==ed&&n!==qa&&i!==qa&&e.equal(n,i)?e.value=n:(e.value=i,e.version++)}};let Sm=function PT(){throw new Error};function Tm(){Sm()}let Wa=null;function Im(e,n){Cm()||Tm(),e.equal(e.value,n)||(e.value=n,function FT(e){e.version++,function ET(){Dr++}(),ym(e),Wa?.()}(e))}const RT={...Ha,equal:qo,value:void 0};function Ne(e){return"function"==typeof e}function nd(e){const t=e(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const id=nd(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function rd(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Ct{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ne(i))try{i()}catch(o){n=o instanceof id?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Pm(o)}catch(s){n=n??[],s instanceof id?n=[...n,...s.errors]:n.push(s)}}if(n)throw new id(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Pm(n);else{if(n instanceof Ct){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&rd(t,n)}remove(n){const{_finalizers:t}=this;t&&rd(t,n),n instanceof Ct&&n._removeParent(this)}}Ct.EMPTY=(()=>{const e=new Ct;return e.closed=!0,e})();const Nm=Ct.EMPTY;function xm(e){return e instanceof Ct||e&&"closed"in e&&Ne(e.remove)&&Ne(e.add)&&Ne(e.unsubscribe)}function Pm(e){Ne(e)?e():e.unsubscribe()}const Fi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Za={setTimeout(e,n,...t){const{delegate:i}=Za;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Za;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Am(e){Za.setTimeout(()=>{const{onUnhandledError:n}=Fi;if(!n)throw e;n(e)})}function od(){}const VT=sd("C",void 0,void 0);function sd(e,n,t){return{kind:e,value:n,error:t}}let Li=null;function Qa(e){if(Fi.useDeprecatedSynchronousErrorHandling){const n=!Li;if(n&&(Li={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:i}=Li;if(Li=null,t)throw i}}else e()}class ad extends Ct{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,xm(n)&&n.add(this)):this.destination=zT}static create(n,t,i){return new cd(n,t,i)}next(n){this.isStopped?ud(function jT(e){return sd("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ud(function BT(e){return sd("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ud(VT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const HT=Function.prototype.bind;function ld(e,n){return HT.call(e,n)}class GT{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){Ya(i)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){Ya(i)}else Ya(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ya(t)}}}class cd extends ad{constructor(n,t,i){let r;if(super(),Ne(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Fi.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&ld(n.next,o),error:n.error&&ld(n.error,o),complete:n.complete&&ld(n.complete,o)}):r=n}this.destination=new GT(r)}}function Ya(e){Fi.useDeprecatedSynchronousErrorHandling?function UT(e){Fi.useDeprecatedSynchronousErrorHandling&&Li&&(Li.errorThrown=!0,Li.error=e)}(e):Am(e)}function ud(e,n){const{onStoppedNotification:t}=Fi;t&&Za.setTimeout(()=>t(e,n))}const zT={closed:!0,next:od,error:function $T(e){throw e},complete:od},dd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vi(e){return e}function km(e){return 0===e.length?Vi:1===e.length?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}let Ge=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function ZT(e){return e&&e instanceof ad||function WT(e){return e&&Ne(e.next)&&Ne(e.error)&&Ne(e.complete)}(e)&&xm(e)}(t)?t:new cd(t,i,r);return Qa(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Om(i))((r,o)=>{const s=new cd({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[dd](){return this}pipe(...t){return km(t)(this)}toPromise(t){return new(t=Om(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function Om(e){var n;return null!==(n=e??Fi.Promise)&&void 0!==n?n:Promise}const QT=nd(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let jt=(()=>{class e extends Ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Rm(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new QT}next(t){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Nm:(this.currentObservers=null,o.push(t),new Ct(()=>{this.currentObservers=null,rd(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ge;return t.source=this,t}}return e.create=(n,t)=>new Rm(n,t),e})();class Rm extends jt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,n)}error(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==i?i:Nm}}class Ut extends jt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function Fm(e){return Ne(e?.lift)}function at(e){return n=>{if(Fm(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(e,n,t,i,r){return new YT(e,n,t,i,r)}class YT extends ad{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function le(e,n){return at((t,i)=>{let r=0;t.subscribe(Qe(i,o=>{i.next(e.call(n,o,r++))}))})}const Lm="https://g.co/ng/security#xss";class R extends Error{constructor(n,t){super(function Sr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function zn(e){return{toString:e}.toString()}const Ir="__parameters__";function Nr(e,n,t){return zn(()=>{const i=function hd(e){return function(...t){if(e){const i=e(...t);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,d,f){const g=l.hasOwnProperty(Ir)?l[Ir]:Object.defineProperty(l,Ir,{value:[]})[Ir];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const xe=globalThis;function _e(e){for(let n in e)if(e[n]===_e)return n;throw Error("Could not find renamed property on target object.")}function KT(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ye(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ye).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function fd(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const JT=_e({__forward_ref__:_e});function De(e){return e.__forward_ref__=De,e.toString=function(){return Ye(this())},e}function W(e){return Ja(e)?e():e}function Ja(e){return"function"==typeof e&&e.hasOwnProperty(JT)&&e.__forward_ref__===De}function H(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Bi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Xa(e){return Um(e,tl)||Um(e,Hm)}function Um(e,n){return e.hasOwnProperty(n)?e[n]:null}function el(e){return e&&(e.hasOwnProperty(pd)||e.hasOwnProperty(rI))?e[pd]:null}const tl=_e({\u0275prov:_e}),pd=_e({\u0275inj:_e}),Hm=_e({ngInjectableDef:_e}),rI=_e({ngInjectorDef:_e});class V{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yd(e){return e&&!!e.\u0275providers}const Zo=_e({\u0275cmp:_e}),Cd=_e({\u0275dir:_e}),bd=_e({\u0275pipe:_e}),$m=_e({\u0275mod:_e}),qn=_e({\u0275fac:_e}),Qo=_e({__NG_ELEMENT_ID__:_e}),zm=_e({__NG_ENV_ID__:_e});function J(e){return"string"==typeof e?e:null==e?"":String(e)}function wd(e,n){throw new R(-201,!1)}var ae=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ae||{});let Md;function qm(){return Md}function At(e){const n=Md;return Md=e,n}function Wm(e,n,t){const i=Xa(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ae.Optional?null:void 0!==n?n:void wd()}const Yo={},Dd="__NG_DI_FLAG__",nl="ngTempTokenPath",uI=/\n/gm,Zm="__source";let xr;function hi(e){const n=xr;return xr=e,n}function fI(e,n=ae.Default){if(void 0===xr)throw new R(-203,!1);return null===xr?Wm(e,void 0,n):xr.get(e,n&ae.Optional?null:void 0,n)}function Y(e,n=ae.Default){return(qm()||fI)(W(e),n)}function F(e,n=ae.Default){return Y(e,il(n))}function il(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sd(e){const n=[];for(let t=0;t<e.length;t++){const i=W(e[t]);if(Array.isArray(i)){if(0===i.length)throw new R(900,!1);let r,o=ae.Default;for(let s=0;s<i.length;s++){const a=i[s],l=pI(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}n.push(Y(r,o))}else n.push(Y(i))}return n}function Ko(e,n){return e[Dd]=n,e.prototype[Dd]=n,e}function pI(e){return e[Dd]}const Td=Ko(Nr("Optional"),8),Id=Ko(Nr("SkipSelf"),4);function ji(e,n){return e.hasOwnProperty(qn)?e[qn]:null}function Pr(e,n){e.forEach(t=>Array.isArray(t)?Pr(t,n):n(t))}function Ym(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function rl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function $t(e,n,t){let i=Ar(e,n);return i>=0?e[1|i]=t:(i=~i,function Km(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(1===r)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;)e[r]=e[r-2],r--;e[n]=t,e[n+1]=i}}(e,i,n,t)),i}function Nd(e,n){const t=Ar(e,n);if(t>=0)return e[1|t]}function Ar(e,n){return function Jm(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}(e,n,1)}const Mn={},ue=[],Dn=new V(""),Xm=new V("",-1),xd=new V("");class sl{get(n,t=Yo){if(t===Yo){const i=new Error(`NullInjectorError: No provider for ${Ye(n)}!`);throw i.name="NullInjectorError",i}return t}}var al=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(al||{}),an=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(an||{}),fi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(fi||{});function bI(e,n,t){let i=e.length;for(;;){const r=e.indexOf(n,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}function Pd(e,n,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{const o=r,s=t[++i];t_(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function e_(e){return 3===e||4===e||6===e}function t_(e){return 64===e.charCodeAt(0)}function Jo(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?t=r:0===t||n_(e,t,r,null,-1===t||2===t?n[++i]:null)}}return e}function n_(e,n,t,i,r){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}const i_="ng-template";function wI(e,n,t,i){let r=0;if(i){for(;r<n.length&&"string"==typeof n[r];r+=2)if("class"===n[r]&&-1!==bI(n[r+1].toLowerCase(),t,0))return!0}else if(Ad(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&"string"==typeof(o=n[r]);)if(o.toLowerCase()===t)return!0}return!1}function Ad(e){return 4===e.type&&e.value!==i_}function MI(e,n,t){return n===(4!==e.type||t?e.value:i_)}function DI(e,n,t){let i=4;const r=e.attrs,o=null!==r?function II(e){for(let n=0;n<e.length;n++)if(e_(e[n]))return n;return e.length}(r):0;let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!MI(e,l,t)||""===l&&1===n.length){if(ln(i))return!1;s=!0}}else if(8&i){if(null===r||!wI(e,r,l,t)){if(ln(i))return!1;s=!0}}else{const d=n[++a],f=SI(l,r,Ad(e),t);if(-1===f){if(ln(i))return!1;s=!0;continue}if(""!==d){let g;if(g=f>o?"":r[f+1].toLowerCase(),2&i&&d!==g){if(ln(i))return!1;s=!0}}}}else{if(!s&&!ln(i)&&!ln(l))return!1;if(s&&ln(l))continue;s=!1,i=l|1&i}}return ln(i)||s}function ln(e){return!(1&e)}function SI(e,n,t,i){if(null===n)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){const s=n[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function EI(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const i=e[t];if("number"==typeof i)return-1;if(i===n)return t;t++}return-1}(n,e)}function r_(e,n,t=!1){for(let i=0;i<n.length;i++)if(DI(e,n[i],t))return!0;return!1}function o_(e,n){return e?":not("+n.trim()+")":n}function xI(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&i){const a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!ln(s)&&(n+=o_(o,r),r=""),i=s,o=o||!ln(i);t++}return""!==r&&(n+=o_(o,r)),n}function pe(e){return zn(()=>{const n=a_(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===al.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||an.Emulated,styles:e.styles||ue,_:null,schemas:e.schemas||null,tView:null,id:""};l_(t);const i=e.dependencies;return t.directiveDefs=ll(i,!1),t.pipeDefs=ll(i,!0),t.id=function FI(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)n=Math.imul(31,n)+r.charCodeAt(0)|0;return n+=2147483648,"c"+n}(t),t})}function kI(e){return se(e)||Ke(e)}function OI(e){return null!==e}function kr(e){return zn(()=>({type:e.type,bootstrap:e.bootstrap||ue,declarations:e.declarations||ue,imports:e.imports||ue,exports:e.exports||ue,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function s_(e,n){if(null==e)return Mn;const t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];let o,s,a=fi.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(t[o]=a!==fi.None?[i,a]:i,n[o]=s):t[o]=i}return t}function K(e){return zn(()=>{const n=a_(e);return l_(n),n})}function Ot(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function se(e){return e[Zo]||null}function Ke(e){return e[Cd]||null}function lt(e){return e[bd]||null}function pt(e,n){const t=e[$m]||null;if(!t&&!0===n)throw new Error(`Type ${Ye(e)} does not have '\u0275mod' property.`);return t}function a_(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Mn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ue,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:s_(e.inputs,n),outputs:s_(e.outputs),debugInfo:null}}function l_(e){e.features?.forEach(n=>n(e))}function ll(e,n){if(!e)return null;const t=n?lt:kI;return()=>("function"==typeof e?e():e).map(i=>t(i)).filter(OI)}function Or(e){return{\u0275providers:e}}function LI(...e){return{\u0275providers:kd(0,e),\u0275fromNgModule:!0}}function kd(e,...n){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Pr(n,s=>{const a=s;cl(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&c_(r,o),t}function c_(e,n){for(let t=0;t<e.length;t++){const{ngModule:i,providers:r}=e[t];Od(r,o=>{n(o,i)})}}function cl(e,n,t,i){if(!(e=W(e)))return!1;let r=null,o=el(e);const s=!o&&se(e);if(o||s){if(s&&!s.standalone)return!1;r=e}else{const l=e.ngModule;if(o=el(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of l)cl(d,n,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;i.add(r);try{Pr(o.imports,f=>{cl(f,n,t,i)&&(d||=[],d.push(f))})}finally{}void 0!==d&&c_(d,n)}if(!a){const d=ji(r)||(()=>new r);n({provide:r,useFactory:d,deps:ue},r),n({provide:xd,useValue:r,multi:!0},r),n({provide:Dn,useValue:()=>Y(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const d=e;Od(l,f=>{n(f,d)})}}}return r!==e&&void 0!==e.providers}function Od(e,n){for(let t of e)yd(t)&&(t=t.\u0275providers),Array.isArray(t)?Od(t,n):n(t)}const VI=_e({provide:String,useValue:_e});function Rd(e){return null!==e&&"object"==typeof e&&VI in e}function Ui(e){return"function"==typeof e}const Fd=new V(""),ul={},jI={};let Ld;function dl(){return void 0===Ld&&(Ld=new sl),Ld}class Rt{}class Rr extends Rt{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bd(n,s=>this.processProvider(s)),this.records.set(Xm,Fr(void 0,this)),r.has("environment")&&this.records.set(Rt,Fr(void 0,this));const o=this.records.get(Fd);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xd,ue,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ie(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=hi(this),i=At(void 0);try{return n()}finally{hi(t),At(i)}}get(n,t=Yo,i=ae.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(zm))return n[zm](this);i=il(i);const o=hi(this),s=At(void 0);try{if(!(i&ae.SkipSelf)){let l=this.records.get(n);if(void 0===l){const d=function zI(e){return"function"==typeof e||"object"==typeof e&&e instanceof V}(n)&&Xa(n);l=d&&this.injectableDefInScope(d)?Fr(Vd(n),ul):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(i&ae.Self?dl():this.parent).get(n,t=i&ae.Optional&&t===Yo?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[nl]=a[nl]||[]).unshift(Ye(n)),o)throw a;return function gI(e,n,t,i){const r=e[nl];throw n[Zm]&&r.unshift(n[Zm]),e.message=function mI(e,n,t,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Ye(n);if(Array.isArray(n))r=n.map(Ye).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ye(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(uI,"\n  ")}`}("\n"+e.message,r,t,i),e.ngTokenPath=r,e[nl]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{At(s),hi(o)}}resolveInjectorInitializers(){const n=ie(null),t=hi(this),i=At(void 0);try{const o=this.get(Dn,ue,ae.Self);for(const s of o)s()}finally{hi(t),At(i),ie(n)}}toString(){const n=[],t=this.records;for(const i of t.keys())n.push(Ye(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(n){let t=Ui(n=W(n))?n:W(n&&n.provide);const i=function HI(e){return Rd(e)?Fr(void 0,e.useValue):Fr(h_(e),ul)}(n);if(!Ui(n)&&!0===n.multi){let r=this.records.get(t);r||(r=Fr(void 0,ul,!0),r.factory=()=>Sd(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){const i=ie(null);try{return t.value===ul&&(t.value=jI,t.value=t.factory()),"object"==typeof t.value&&t.value&&function $I(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ie(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const t=W(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Vd(e){const n=Xa(e),t=null!==n?n.factory:ji(e);if(null!==t)return t;if(e instanceof V)throw new R(204,!1);if(e instanceof Function)return function UI(e){if(e.length>0)throw new R(204,!1);const t=function iI(e){return e&&(e[tl]||e[Hm])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new R(204,!1)}function h_(e,n,t){let i;if(Ui(e)){const r=W(e);return ji(r)||Vd(r)}if(Rd(e))i=()=>W(e.useValue);else if(function d_(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Sd(e.deps||[]));else if(function u_(e){return!(!e||!e.useExisting)}(e))i=()=>Y(W(e.useExisting));else{const r=W(e&&(e.useClass||e.provide));if(!function GI(e){return!!e.deps}(e))return ji(r)||Vd(r);i=()=>new r(...Sd(e.deps))}return i}function Fr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Bd(e,n){for(const t of e)Array.isArray(t)?Bd(t,n):t&&yd(t)?Bd(t.\u0275providers,n):n(t)}function Wn(e,n){e instanceof Rr&&e.assertNotDestroyed();const i=hi(e),r=At(void 0);try{return n()}finally{hi(i),At(r)}}const Ae=0,L=1,G=2,$e=3,cn=4,ct=5,bt=6,Vr=7,Se=8,ze=9,Sn=10,Z=11,es=12,g_=13,Br=14,ke=15,Hi=16,jr=17,Zn=18,Ur=19,m_=20,gi=21,fl=22,Jt=23,U=25,Hd=1,Tn=7,Hr=9,Be=10;var gl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(gl||{});function Xe(e){return Array.isArray(e)&&"object"==typeof e[Hd]}function gt(e){return Array.isArray(e)&&!0===e[Hd]}function Gd(e){return!!(4&e.flags)}function Gi(e){return e.componentOffset>-1}function ml(e){return!(1&~e.flags)}function un(e){return!!e.template}function ns(e){return!!(512&e[G])}class iE{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function b_(e,n,t,i){null!==n?n.applyValueToInputSignal(n,i):e[t]=i}function Xt(){return w_}function w_(e){return e.type.prototype.ngOnChanges&&(e.setInput=oE),rE}function rE(){const e=D_(this),n=e?.current;if(n){const t=e.previous;if(t===Mn)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function oE(e,n,t,i,r){const o=this.declaredInputs[i],s=D_(e)||function sE(e,n){return e[M_]=n}(e,{previous:Mn,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new iE(d&&d.currentValue,t,l===Mn),b_(e,n,r,t)}Xt.ngInherit=!0;const M_="__ngSimpleChanges__";function D_(e){return e[M_]||null}const In=function(e,n,t){};function de(e){for(;Array.isArray(e);)e=e[Ae];return e}function is(e,n){return de(n[e])}function wt(e,n){return de(n[e.index])}function rs(e,n){return e.data[n]}function $i(e,n){return e[n]}function zt(e,n){const t=n[e];return Xe(t)?t:t[Ae]}function Zd(e){return!(128&~e[G])}function en(e,n){return null==n?null:e[n]}function I_(e){e[jr]=0}function E_(e){1024&e[G]||(e[G]|=1024,Zd(e)&&vl(e))}function _l(e){return!!(9216&e[G]||e[Jt]?.dirty)}function Qd(e){e[Sn].changeDetectionScheduler?.notify(8),64&e[G]&&(e[G]|=1024),_l(e)&&vl(e)}function vl(e){e[Sn].changeDetectionScheduler?.notify(0);let n=Qn(e);for(;null!==n&&!(8192&n[G])&&(n[G]|=8192,Zd(n));)n=Qn(n)}function yl(e,n){if(!(256&~e[G]))throw new R(911,!1);null===e[gi]&&(e[gi]=[]),e[gi].push(n)}function Qn(e){const n=e[$e];return gt(n)?n[$e]:n}const Q={lFrame:U_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let x_=!1;function P_(){return Q.bindingsEnabled}function P(){return Q.lFrame.lView}function re(){return Q.lFrame.tView}function y(e){return Q.lFrame.contextLView=e,e[Se]}function C(e){return Q.lFrame.contextLView=null,e}function ve(){let e=A_();for(;null!==e&&64===e.type;)e=e.parent;return e}function A_(){return Q.lFrame.currentTNode}function dn(e,n){const t=Q.lFrame;t.currentTNode=e,t.isParent=n}function Jd(){return Q.lFrame.isParent}function Xd(){Q.lFrame.isParent=!1}function R_(){return x_}function F_(e){x_=e}function Mt(){const e=Q.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Yn(){return Q.lFrame.bindingIndex}function hn(){return Q.lFrame.bindingIndex++}function Kn(e){const n=Q.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function CE(e,n){const t=Q.lFrame;t.bindingIndex=t.bindingRootIndex=e,eh(n)}function eh(e){Q.lFrame.currentDirectiveIndex=e}function bl(e){Q.lFrame.currentQueryIndex=e}function wE(e){const n=e[L];return 2===n.type?n.declTNode:1===n.type?e[ct]:null}function B_(e,n,t){if(t&ae.SkipSelf){let r=n,o=e;for(;!(r=r.parent,null!==r||t&ae.Host||(r=wE(o),null===r||(o=o[Br],10&r.type))););if(null===r)return!1;n=r,e=o}const i=Q.lFrame=j_();return i.currentTNode=n,i.lView=e,!0}function ih(e){const n=j_(),t=e[L];Q.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function j_(){const e=Q.lFrame,n=null===e?null:e.child;return null===n?U_(e):n}function U_(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function H_(){const e=Q.lFrame;return Q.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const G_=H_;function rh(){const e=H_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ut(){return Q.lFrame.selectedIndex}function qi(e){Q.lFrame.selectedIndex=e}function Te(){const e=Q.lFrame;return rs(e.tView,e.selectedIndex)}let z_=!0;function ss(){return z_}function En(e){z_=e}function wl(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),null!=f&&(e.destroyHooks??=[]).push(t,f)}}function Ml(e,n,t){q_(e,n,3,t)}function Dl(e,n,t,i){(3&e[G])===t&&q_(e,n,t,i)}function oh(e,n){let t=e[G];(3&t)===n&&(t&=16383,t+=1,e[G]=t)}function q_(e,n,t,i){const o=i??-1,s=n.length-1;let a=0;for(let l=void 0!==i?65535&e[jr]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(e[jr]+=65536),(a<o||-1==o)&&(NE(e,t,n,l),e[jr]=(4294901760&e[jr])+l+2),l++}function W_(e,n){In(4,e,n);const t=ie(null);try{n.call(e)}finally{ie(t),In(5,e,n)}}function NE(e,n,t,i){const r=t[i]<0,o=t[i+1],a=e[r?-t[i]:t[i]];r?e[G]>>14<e[jr]>>16&&(3&e[G])===n&&(e[G]+=16384,W_(a,o)):W_(a,o)}const Gr=-1;class as{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}const ah={};class Wi{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=il(i);const r=this.injector.get(n,ah,i);return r!==ah||t===ah?r:this.parentInjector.get(n,t,i)}}function lh(e){return e!==Gr}function ls(e){return 32767&e}function cs(e,n){let t=function OE(e){return e>>16}(e),i=n;for(;t>0;)i=i[Br],t--;return i}let ch=!0;function Sl(e){const n=ch;return ch=e,n}const Q_=255,Y_=5;let FE=0;const Nn={};function Tl(e,n){const t=K_(e,n);if(-1!==t)return t;const i=n[L];i.firstCreatePass&&(e.injectorIndex=n.length,uh(i.data,e),uh(n,null),uh(i.blueprint,null));const r=Il(e,n),o=e.injectorIndex;if(lh(r)){const s=ls(r),a=cs(r,n),l=a[L].data;for(let d=0;d<8;d++)n[o+d]=a[s+d]|l[s+d]}return n[o+8]=r,o}function uh(e,n){e.push(0,0,0,0,0,0,0,0,n)}function K_(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Il(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;null!==r;){if(i=rv(r),null===i)return Gr;if(t++,r=r[Br],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Gr}function dh(e,n,t){!function LE(e,n,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Qo)&&(i=t[Qo]),null==i&&(i=t[Qo]=FE++);const r=i&Q_;n.data[e+(r>>Y_)]|=1<<r}(e,n,t)}function J_(e,n,t){if(t&ae.Optional||void 0!==e)return e;wd()}function X_(e,n,t,i){if(t&ae.Optional&&void 0===i&&(i=null),!(t&(ae.Self|ae.Host))){const r=e[ze],o=At(void 0);try{return r?r.get(n,i,t&ae.Optional):Wm(n,i,t&ae.Optional)}finally{At(o)}}return J_(i,0,t)}function ev(e,n,t,i=ae.Default,r){if(null!==e){if(2048&n[G]&&!(i&ae.Self)){const s=function HE(e,n,t,i,r){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[G]&&!(512&s[G]);){const a=tv(o,s,t,i|ae.Self,Nn);if(a!==Nn)return a;let l=o.parent;if(!l){const d=s[m_];if(d){const f=d.get(t,Nn,i);if(f!==Nn)return f}l=rv(s),s=s[Br]}o=l}return r}(e,n,t,i,Nn);if(s!==Nn)return s}const o=tv(e,n,t,i,Nn);if(o!==Nn)return o}return X_(n,t,i,r)}function tv(e,n,t,i,r){const o=function jE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Qo)?e[Qo]:void 0;return"number"==typeof n?n>=0?n&Q_:UE:n}(t);if("function"==typeof o){if(!B_(n,e,i))return i&ae.Host?J_(r,0,i):X_(n,t,i,r);try{let s;if(s=o(i),null!=s||i&ae.Optional)return s;wd()}finally{G_()}}else if("number"==typeof o){let s=null,a=K_(e,n),l=Gr,d=i&ae.Host?n[ke][ct]:null;for((-1===a||i&ae.SkipSelf)&&(l=-1===a?Il(e,n):n[a+8],l!==Gr&&iv(i,!1)?(s=n[L],a=ls(l),n=cs(l,n)):a=-1);-1!==a;){const f=n[L];if(nv(o,a,f.data)){const g=BE(a,n,t,s,i,d);if(g!==Nn)return g}l=n[a+8],l!==Gr&&iv(i,n[L].data[a+8]===d)&&nv(o,a,n)?(s=f,a=ls(l),n=cs(l,n)):a=-1}}return r}function BE(e,n,t,i,r,o){const s=n[L],a=s.data[e+8],f=function El(e,n,t,i,r){const o=e.providerIndexes,s=n.data,a=1048575&o,l=e.directiveStart,f=o>>20,_=r?a+f:e.directiveEnd;for(let v=i?a:a+f;v<_;v++){const D=s[v];if(v<l&&t===D||v>=l&&D.type===t)return v}if(r){const v=s[l];if(v&&un(v)&&v.type===t)return l}return null}(a,s,t,null==i?Gi(a)&&ch:i!=s&&!!(3&a.type),r&ae.Host&&o===a);return null!==f?Zi(n,s,f,a):Nn}function Zi(e,n,t,i){let r=e[t];const o=n.data;if(function xE(e){return e instanceof as}(r)){const s=r;s.resolving&&function aI(e,n){throw n&&n.join(" > "),new R(-200,e)}(function fe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():J(e)}(o[t]));const a=Sl(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?At(s.injectImpl):null;B_(e,i,ae.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&function EE(e,n,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=w_(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==d&&At(d),Sl(a),s.resolving=!1,G_()}}return r}function nv(e,n,t){return!!(t[n+(e>>Y_)]&1<<e)}function iv(e,n){return!(e&ae.Self||e&ae.Host&&n)}class et{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return ev(this._tNode,this._lView,n,il(i),t)}}function UE(){return new et(ve(),P())}function it(e){return zn(()=>{const n=e.prototype.constructor,t=n[qn]||hh(n),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[qn]||hh(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function hh(e){return Ja(e)?()=>{const n=hh(W(e));return n&&n()}:ji(e)}function rv(e){const n=e[L],t=n.type;return 2===t?n.declTNode:1===t?e[ct]:null}function cv(e,n=null,t=null,i){const r=uv(e,n,t,i);return r.resolveInjectorInitializers(),r}function uv(e,n=null,t=null,i,r=new Set){const o=[t||ue,LI(e)];return i=i||("object"==typeof e?void 0:Ye(e)),new Rr(o,n||dl(),i||null,r)}class dt{static{this.THROW_IF_NOT_FOUND=Yo}static{this.NULL=new sl}static create(n,t){if(Array.isArray(n))return cv({name:""},t,n,"");{const i=n.name??"";return cv({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=H({token:dt,providedIn:"any",factory:()=>Y(Xm)})}static{this.__NG_ELEMENT_ID__=-1}}new V("").__NG_ELEMENT_ID__=e=>{const n=ve();if(null===n)throw new R(204,!1);if(2&n.type)return n.value;if(e&ae.Optional)return null;throw new R(204,!1)};function ph(e){return e.ngOriginalError}const hv=!0;let ds=(()=>{class e{static{this.__NG_ELEMENT_ID__=JE}static{this.__NG_ENV_ID__=t=>t}}return e})();class KE extends ds{constructor(n){super(),this._lView=n}onDestroy(n){return yl(this._lView,n),()=>function Yd(e,n){if(null===e[gi])return;const t=e[gi].indexOf(n);-1!==t&&e[gi].splice(t,1)}(this._lView,n)}}function JE(){return new KE(P())}let Jn=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e})}}return e})();const Re=class XE extends jt{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,function f_(){return void 0!==qm()||null!=function hI(){return xr}()}()&&(this.destroyRef=F(ds,{optional:!0})??void 0,this.pendingTasks=F(Jn,{optional:!0})??void 0)}emit(n){const t=ie(null);try{super.next(n)}finally{ie(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&"object"==typeof n){const l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:r,error:o,complete:s});return n instanceof Ct&&n.add(a),a}wrapInTimeout(n){return t=>{const i=this.pendingTasks?.add();setTimeout(()=>{n(t),void 0!==i&&this.pendingTasks?.remove(i)})}}};function xl(...e){}function fv(e){let n,t;function i(){e=xl;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function pv(e){return queueMicrotask(()=>e()),()=>{e=xl}}const gh="isAngularZone",Pl=gh+"_ID";let eN=0;class ye{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1);const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=hv}=n;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,function iN(e){const n=()=>{!function nN(e){function n(){fv(()=>{e.callbackScheduled=!1,_h(e),e.isCheckStableRunning=!0,mh(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),_h(e))}(e)},t=eN++;e._inner=e._inner.fork({name:"angular",properties:{[gh]:!0,[Pl]:t,[Pl+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(function rN(e){return _v(e,"__ignore_ng_zone__")}(l))return i.invokeTask(o,s,a,l);try{return gv(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),mv(e)}},onInvoke:(i,r,o,s,a,l,d)=>{try{return gv(e),i.invoke(o,s,a,l,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function oN(e){return _v(e,"__scheduler_tick__")}(l)&&n(),mv(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,_h(e),mh(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(gh)}static assertInAngularZone(){if(!ye.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(ye.isInAngularZone())throw new R(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,tN,xl,xl);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}}const tN={};function mh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _h(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function gv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function mv(e){e._nesting--,mh(e)}class vh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}}function _v(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class xn{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&ph(n);for(;t&&ph(t);)t=ph(t);return t||null}}const aN=new V("",{providedIn:"root",factory:()=>{const e=F(ye),n=F(xn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function lN(){return qr(ve(),P())}function qr(e,n){return new qt(wt(e,n))}let qt=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=lN}}return e})();function fs(e){return!(128&~e.flags)}const bh=new Map;let dN=0;function wh(e){bh.delete(e[Ur])}const Al="__ngContext__";function mt(e,n){Xe(n)?(e[Al]=n[Ur],function fN(e){bh.set(e[Ur],e)}(n)):e[Al]=n}function Nv(e){return Pv(e[es])}function xv(e){return Pv(e[cn])}function Pv(e){for(;null!==e&&!gt(e);)e=e[cn];return e}let Dh;const gs=new V("",{providedIn:"root",factory:()=>xN}),xN="ng",Bv=new V(""),_i=new V("",{providedIn:"platform",factory:()=>"unknown"}),jv=new V("",{providedIn:"root",factory:()=>function mi(){if(void 0!==Dh)return Dh;if(typeof document<"u")return document;throw new R(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Uv=()=>null;function Ph(e,n,t=!1){return Uv(e,n,t)}const Qv=new V("",{providedIn:"root",factory:()=>!1});let Ul;function ey(e){return function Lh(){if(void 0===Ul&&(Ul=null,xe.trustedTypes))try{Ul=xe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ul}()?.createScriptURL(e)||e}class ty{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lm})`}}function vi(e){return e instanceof ty?e.changingThisBreaksApplicationSecurity:e}function bs(e,n){const t=function QN(e){return e instanceof ty&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Lm})`)}return t===n}const XN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Kr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Kr||{});function Hh(e){const n=Ms();return n?n.sanitize(Kr.URL,e)||"":bs(e,"URL")?vi(e):function Vh(e){return(e=String(e)).match(XN)?e:"unsafe:"+e}(J(e))}function uy(e){const n=Ms();if(n)return ey(n.sanitize(Kr.RESOURCE_URL,e)||"");if(bs(e,"ResourceURL"))return ey(vi(e));throw new R(904,!1)}function Ms(){const e=P();return e&&e[Sn].sanitizer}const g2=/^>|^->|<!--|-->|--!>|<!-$/g,m2=/(<|>)/g,_2="\u200b$1\u200b";function my(e){return e.ownerDocument.defaultView}function Wt(e){return e instanceof Function?e():e}var yi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(yi||{});let zh;function qh(e,n){return zh(e,n)}function Xr(e,n,t,i,r){if(null!=i){let o,s=!1;gt(i)?o=i:Xe(i)&&(s=!0,i=i[Ae]);const a=de(i);0===e&&null!==t?null==r?Sy(n,t,a):Yi(n,t,a,r||null,!0):1===e&&null!==t?Yi(n,t,a,r||null,!0):2===e?function Ss(e,n,t){e.removeChild(null,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function F2(e,n,t,i,r){const o=t[Tn];o!==de(t)&&Xr(n,e,i,o,r);for(let a=Be;a<t.length;a++){const l=t[a];Zl(l[L],l,e,n,i,o)}}(n,e,o,t,r)}}function Zh(e,n){return e.createComment(function hy(e){return e.replace(g2,n=>n.replace(m2,_2))}(n))}function zl(e,n,t){return e.createElement(n,t)}function wy(e,n){n[Sn].changeDetectionScheduler?.notify(9),Zl(e,n,n[Z],2,null,null)}function My(e,n){const t=e[Hr],i=n[$e];(Xe(i)||n[ke]!==i[$e][ke])&&(e[G]|=gl.HasTransplantedViews),null===t?e[Hr]=[n]:t.push(n)}function Qh(e,n){const t=e[Hr],i=t.indexOf(n);t.splice(i,1)}function Ds(e,n){if(e.length<=Be)return;const t=Be+n,i=e[t];if(i){const r=i[Hi];null!==r&&r!==e&&Qh(r,i),n>0&&(e[t-1][cn]=i[cn]);const o=rl(e,Be+n);!function E2(e,n){wy(e,n),n[Ae]=null,n[ct]=null}(i[L],i);const s=o[Zn];null!==s&&s.detachView(o[L]),i[$e]=null,i[cn]=null,i[G]&=-129}return i}function ql(e,n){if(!(256&n[G])){const t=n[Z];t.destroyNode&&Zl(e,n,t,3,null,null),function x2(e){let n=e[es];if(!n)return Yh(e[L],e);for(;n;){let t=null;if(Xe(n))t=n[es];else{const i=n[Be];i&&(t=i)}if(!t){for(;n&&!n[cn]&&n!==e;)Xe(n)&&Yh(n[L],n),n=n[$e];null===n&&(n=e),Xe(n)&&Yh(n[L],n),t=n&&n[cn]}n=t}}(n)}}function Yh(e,n){if(256&n[G])return;const t=ie(null);try{n[G]&=-129,n[G]|=256,n[Jt]&&Xu(n[Jt]),function k2(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let i=0;i<t.length;i+=2){const r=n[t[i]];if(!(r instanceof as)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];In(4,a,l);try{l.call(a)}finally{In(5,a,l)}}else{In(4,r,o);try{o.call(r)}finally{In(5,r,o)}}}}}(e,n),function A2(e,n){const t=e.cleanup,i=n[Vr];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(n[Vr]=null);const r=n[gi];if(null!==r){n[gi]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(e,n),1===n[L].type&&n[Z].destroy();const i=n[Hi];if(null!==i&&gt(n[$e])){i!==n[$e]&&Qh(i,n);const r=n[Zn];null!==r&&r.detachView(e)}wh(n)}finally{ie(t)}}function Kh(e,n,t){return function Dy(e,n,t){let i=n;for(;null!==i&&168&i.type;)i=(n=i).parent;if(null===i)return t[Ae];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===an.None||o===an.Emulated)return null}return wt(i,t)}}(e,n.parent,t)}function Yi(e,n,t,i,r){e.insertBefore(n,t,i,r)}function Sy(e,n,t){e.appendChild(n,t)}function Ty(e,n,t,i,r){null!==i?Yi(e,n,t,i,r):Sy(e,n,t)}function Jh(e,n){return e.parentNode(n)}let Xh,Ny=function Ey(e,n,t){return 40&e.type?wt(e,t):null};function Wl(e,n,t,i){const r=Kh(e,i,n),o=n[Z],a=function Iy(e,n,t){return Ny(e,n,t)}(i.parent||n[ct],i,n);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)Ty(o,r,t[l],a,!1);else Ty(o,r,t,a,!1);void 0!==Xh&&Xh(o,i,n,t,r)}function Ki(e,n){if(null!==n){const t=n.type;if(3&t)return wt(n,e);if(4&t)return ef(-1,e[n.index]);if(8&t){const i=n.child;if(null!==i)return Ki(e,i);{const r=e[n.index];return gt(r)?ef(-1,r):de(r)}}if(128&t)return Ki(e,n.next);if(32&t)return qh(n,e)()||de(e[n.index]);{const i=Py(e,n);return null!==i?Array.isArray(i)?i[0]:Ki(Qn(e[ke]),i):Ki(e,n.next)}}return null}function Py(e,n){return null!==n?e[ke][ct].projection[n.projection]:null}function ef(e,n){const t=Be+e+1;if(t<n.length){const i=n[t],r=i[L].firstChild;if(null!==r)return Ki(i,r)}return n[Tn]}function tf(e,n,t,i,r,o,s){for(;null!=t;){if(128===t.type){t=t.next;continue}const a=i[t.index],l=t.type;if(s&&0===n&&(a&&mt(de(a),i),t.flags|=2),32&~t.flags)if(8&l)tf(e,n,t.child,i,r,o,!1),Xr(n,e,r,a,o);else if(32&l){const d=qh(t,i);let f;for(;f=d();)Xr(n,e,r,f,o);Xr(n,e,r,a,o)}else 16&l?ky(e,n,i,t,r,o):Xr(n,e,r,a,o);t=s?t.projectionNext:t.next}}function Zl(e,n,t,i,r,o){tf(t,i,e.firstChild,n,r,o,!1)}function ky(e,n,t,i,r,o){const s=t[ke],l=s[ct].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)Xr(n,e,r,l[d],o);else{let d=l;const f=s[$e];fs(i)&&(d.flags|=128),tf(e,n,d,f,r,o,!0)}}function Oy(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Ry(e,n,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Pd(e,n,i),null!==r&&Oy(e,n,r),null!==o&&function V2(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}const X={};function p(e=1){Fy(re(),P(),ut()+e,!1)}function Fy(e,n,t,i){if(!i)if(3&~n[G]){const o=e.preOrderHooks;null!==o&&Dl(n,o,0,t)}else{const o=e.preOrderCheckHooks;null!==o&&Ml(n,o,t)}qi(t)}function O(e,n=ae.Default){const t=P();return null===t?Y(e,n):ev(ve(),t,W(e),n)}function Ly(e,n,t,i,r,o){const s=ie(null);try{let a=null;r&fi.SignalBased&&(a=n[i][sn]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&fi.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(n,o)),null!==e.setInput?e.setInput(n,a,o,t,i):b_(n,a,i,o)}finally{ie(s)}}function Ql(e,n,t,i,r,o,s,a,l,d,f){const g=n.blueprint.slice();return g[Ae]=r,g[G]=204|i,(null!==d||e&&2048&e[G])&&(g[G]|=2048),I_(g),g[$e]=g[Br]=e,g[Se]=t,g[Sn]=s||e&&e[Sn],g[Z]=a||e&&e[Z],g[ze]=l||e&&e[ze]||null,g[ct]=o,g[Ur]=function hN(){return dN++}(),g[bt]=f,g[m_]=d,g[ke]=2==n.type?e[ke]:g,g}function Ji(e,n,t,i,r){let o=e.data[n];if(null===o)o=function nf(e,n,t,i,r){const o=A_(),s=Jd(),l=e.data[n]=function W2(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return function zi(){return null!==Q.skipHydrationRootTNode}()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,i,r);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,n,t,i,r),function yE(){return Q.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function os(){const e=Q.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return dn(o,!0),o}function Ts(e,n,t,i){if(0===t)return-1;const r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function Vy(e,n,t,i,r){const o=ut(),s=2&i;try{qi(-1),s&&n.length>U&&Fy(e,n,U,!1),In(s?2:0,r),t(i,r)}finally{qi(o),In(s?3:1,r)}}function rf(e,n,t){if(Gd(n)){const i=ie(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{ie(i)}}}function sf(e,n,t){P_()&&(function ex(e,n,t,i){const r=t.directiveStart,o=t.directiveEnd;Gi(t)&&function ax(e,n,t){const i=wt(n,e),r=By(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Yl(e,Ql(e,r,null,s,i,n,null,e[Sn].rendererFactory.createRenderer(i,t),null,null,null));e[n.index]=a}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Tl(t,n),mt(i,n);const s=t.initialInputs;for(let a=r;a<o;a++){const l=e.data[a],d=Zi(n,e,a,t);mt(d,n),null!==s&&lx(0,a-r,d,l,0,s),un(l)&&(zt(t.index,n)[Se]=Zi(n,e,a,t))}}(e,n,t,wt(t,n)),!(64&~t.flags)&&$y(e,n,t))}function af(e,n,t=wt){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(n,e):e[s];e[r++]=a}}}function By(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=lf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function lf(e,n,t,i,r,o,s,a,l,d,f){const g=U+i,_=g+r,v=function U2(e,n){const t=[];for(let i=0;i<n;i++)t.push(i<e?null:X);return t}(g,_),D="function"==typeof d?d():d;return v[L]={type:e,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:n,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:D,incompleteFirstPass:!1,ssrId:f}}let jy=()=>null;function Uy(e,n,t,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;const s=n[o];if(void 0===s)continue;i??={};let a,l=fi.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(null!==r){if(!r.hasOwnProperty(o))continue;d=r[o]}0===e?Hy(i,t,d,a,l):Hy(i,t,d,a)}return i}function Hy(e,n,t,i,r){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,i):o=e[t]=[n,i],void 0!==r&&o.push(r)}function Lt(e,n,t,i,r,o,s,a){const l=wt(n,t);let f,d=n.inputs;!a&&null!=d&&(f=d[i])?(ff(e,t,f,i,r),Gi(n)&&function Y2(e,n){const t=zt(n,e);16&t[G]||(t[G]|=64)}(t,n.index)):3&n.type&&(i=function Q2(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=s?s(r,n.value||"",i):r,o.setProperty(l,i,r))}function cf(e,n,t,i){if(P_()){const r=null===i?null:{"":-1},o=function nx(e,n){const t=e.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(r_(n,s.selectors,!1))if(i||(i=[]),un(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),uf(e,n,a.length)}else i.unshift(s),uf(e,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Gy(e,n,t,s,r,a),r&&function ix(e,n,t){if(n){const i=e.localNames=[];for(let r=0;r<n.length;r+=2){const o=t[n[r+1]];if(null==o)throw new R(-301,!1);i.push(n[r],o)}}}(t,i,r)}t.mergedAttrs=Jo(t.mergedAttrs,t.attrs)}function Gy(e,n,t,i,r,o){for(let d=0;d<i.length;d++)dh(Tl(t,n),e,i[d].type);!function ox(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,i.length);for(let d=0;d<i.length;d++){const f=i[d];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=Ts(e,n,i.length,null);for(let d=0;d<i.length;d++){const f=i[d];t.mergedAttrs=Jo(t.mergedAttrs,f.hostAttrs),sx(e,t,n,l,f),rx(l,f,r),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const g=f.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function Z2(e,n,t){const r=n.directiveEnd,o=e.data,s=n.attrs,a=[];let l=null,d=null;for(let f=n.directiveStart;f<r;f++){const g=o[f],_=t?t.get(g):null,D=_?_.outputs:null;l=Uy(0,g.inputs,f,l,_?_.inputs:null),d=Uy(1,g.outputs,f,d,D);const I=null===l||null===s||Ad(n)?null:cx(l,f,s);a.push(I)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=d}(e,t,o)}function $y(e,n,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function bE(){return Q.lFrame.currentDirectiveIndex}();try{qi(o);for(let a=i;a<r;a++){const l=e.data[a],d=n[a];eh(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&tx(l,d)}}finally{qi(-1),eh(s)}}function tx(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function uf(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function rx(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;un(n)&&(t[""]=e)}}function sx(e,n,t,i,r){e.data[i]=r;const o=r.factory||(r.factory=ji(r.type)),s=new as(o,un(r),O);e.blueprint[i]=s,t[i]=s,function J2(e,n,t,i,r){const o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function X2(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(e,n,i,Ts(e,t,r.hostVars,X),r)}function Pn(e,n,t,i,r,o){const s=wt(e,n);!function df(e,n,t,i,r,o,s){if(null==o)e.removeAttribute(n,r,t);else{const a=null==s?J(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}(n[Z],s,o,e.value,t,i,r)}function lx(e,n,t,i,r,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)Ly(i,t,s[a++],s[a++],s[a++],s[a++])}function cx(e,n,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function zy(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function qy(e,n){const t=e.contentQueries;if(null!==t){const i=ie(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=e.data[s];bl(t[r]),a.contentQueries(2,n[s],s)}}}finally{ie(i)}}}function Yl(e,n){return e[es]?e[g_][cn]=n:e[es]=n,e[g_]=n,n}function hf(e,n,t){bl(0);const i=ie(null);try{n(e,t)}finally{ie(i)}}function Kl(e,n){const t=e[ze],i=t?t.get(xn,null):null;i&&i.handleError(n)}function ff(e,n,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=t[o++];Ly(e.data[s],n[s],i,a,l,r)}}function ei(e,n,t){const i=is(n,e);!function by(e,n,t){e.setValue(n,t)}(e[Z],i,t)}function ux(e,n){const t=zt(n,e),i=t[L];!function dx(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(i,t);const r=t[Ae];null!==r&&null===t[bt]&&(t[bt]=Ph(r,t[ze])),pf(i,t,t[Se])}function pf(e,n,t){ih(n);try{const i=e.viewQuery;null!==i&&hf(1,i,t);const r=e.template;null!==r&&Vy(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Zn]?.finishViewCreation(e),e.staticContentQueries&&qy(e,n),e.staticViewQueries&&hf(2,e.viewQuery,t);const o=e.components;null!==o&&function hx(e,n){for(let t=0;t<n.length;t++)ux(e,n[t])}(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[G]&=-5,rh()}}function Xi(e,n){return!n||null===n.firstChild||fs(e)}function Is(e,n,t,i,r=!1){for(;null!==t;){if(128===t.type){t=r?t.projectionNext:t.next;continue}const o=n[t.index];null!==o&&i.push(de(o)),gt(o)&&Ky(o,i);const s=t.type;if(8&s)Is(e,n,t.child,i);else if(32&s){const a=qh(t,n);let l;for(;l=a();)i.push(l)}else if(16&s){const a=Py(n,t);if(Array.isArray(a))i.push(...a);else{const l=Qn(n[ke]);Is(l[L],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function Ky(e,n){for(let t=Be;t<e.length;t++){const i=e[t],r=i[L].firstChild;null!==r&&Is(i[L],i,r,n)}e[Tn]!==e[Ae]&&n.push(e[Tn])}let Jy=[];const mx={...Ha,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{vl(e.lView)},consumerOnSignalRead(){this.lView[Jt]=this}},vx={...Ha,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Qn(e.lView);for(;n&&!Xy(n[L]);)n=Qn(n);n&&E_(n)},consumerOnSignalRead(){this.lView[Jt]=this}};function Xy(e){return 2!==e.type}const yx=100;function Jl(e,n=!0,t=0){const i=e[Sn],r=i.rendererFactory;r.begin?.();try{!function Cx(e,n){const t=R_();try{F_(!0),mf(e,n);let i=0;for(;_l(e);){if(i===yx)throw new R(103,!1);i++,mf(e,1)}}finally{F_(t)}}(e,t)}catch(s){throw n&&Kl(e,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function bx(e,n,t,i){const r=n[G];if(!(256&~r))return;n[Sn].inlineEffectRunner?.flush(),ih(n);let a=!0,l=null,d=null;Xy(e)?(d=function fx(e){return e[Jt]??function px(e){const n=Jy.pop()??Object.create(mx);return n.lView=e,n}(e)}(n),l=Ga(d)):null===function _m(){return Ve}()?(a=!1,d=function _x(e){const n=e[Jt]??Object.create(vx);return n.lView=e,n}(n),l=Ga(d)):n[Jt]&&(Xu(n[Jt]),n[Jt]=null);try{I_(n),function L_(e){return Q.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Vy(e,n,t,2,i);const f=!(3&~r);if(f){const v=e.preOrderCheckHooks;null!==v&&Ml(n,v,null)}else{const v=e.preOrderHooks;null!==v&&Dl(n,v,0,null),oh(n,0)}if(function wx(e){for(let n=Nv(e);null!==n;n=xv(n)){if(!(n[G]&gl.HasTransplantedViews))continue;const t=n[Hr];for(let i=0;i<t.length;i++)E_(t[i])}}(n),tC(n,0),null!==e.contentQueries&&qy(e,n),f){const v=e.contentCheckHooks;null!==v&&Ml(n,v)}else{const v=e.contentHooks;null!==v&&Dl(n,v,1),oh(n,1)}!function j2(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)qi(~r);else{const o=r,s=t[++i],a=t[++i];CE(s,o),a(2,n[o])}}}finally{qi(-1)}}(e,n);const g=e.components;null!==g&&iC(n,g,0);const _=e.viewQuery;if(null!==_&&hf(2,_,i),f){const v=e.viewCheckHooks;null!==v&&Ml(n,v)}else{const v=e.viewHooks;null!==v&&Dl(n,v,2),oh(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[fl]){for(const v of n[fl])v();n[fl]=null}n[G]&=-73}catch(f){throw vl(n),f}finally{null!==d&&(Ku(d,l),a&&function gx(e){e.lView[Jt]!==e&&(e.lView=null,Jy.push(e))}(d)),rh()}}function tC(e,n){for(let t=Nv(e);null!==t;t=xv(t))for(let i=Be;i<t.length;i++)nC(t[i],n)}function Mx(e,n,t){nC(zt(n,e),t)}function nC(e,n){Zd(e)&&mf(e,n)}function mf(e,n){const i=e[L],r=e[G],o=e[Jt];let s=!!(0===n&&16&r);if(s||=!!(64&r&&0===n),s||=!!(1024&r),s||=!(!o?.dirty||!Ju(o)),s||=!1,o&&(o.dirty=!1),e[G]&=-9217,s)bx(i,e,i.template,e[Se]);else if(8192&r){tC(e,1);const a=i.components;null!==a&&iC(e,a,1)}}function iC(e,n,t){for(let i=0;i<n.length;i++)Mx(e,n[i],t)}function Es(e,n){const t=R_()?64:1088;for(e[Sn].changeDetectionScheduler?.notify(n);e;){e[G]|=t;const i=Qn(e);if(ns(e)&&!i)return e;e=i}return null}class Ns{get rootNodes(){const n=this._lView,t=n[L];return Is(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Se]}set context(n){this._lView[Se]=n}get destroyed(){return!(256&~this._lView[G])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[$e];if(gt(n)){const t=n[8],i=t?t.indexOf(this):-1;i>-1&&(Ds(n,i),rl(t,i))}this._attachedToViewContainer=!1}ql(this._lView[L],this._lView)}onDestroy(n){yl(this._lView,n)}markForCheck(){Es(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){Qd(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,Jl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=ns(this._lView),t=this._lView[Hi];null!==t&&!n&&Qh(t,this._lView),wy(this._lView[L],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=n;const t=ns(this._lView),i=this._lView[Hi];null!==i&&!t&&My(i,this._lView),Qd(this._lView)}}let ti=(()=>{class e{static{this.__NG_ELEMENT_ID__=Tx}}return e})();const Dx=ti,Sx=class extends Dx{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){const r=function eo(e,n,t,i){const r=ie(null);try{const o=n.tView,l=Ql(e,o,t,4096&e[G]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);l[Hi]=e[n.index];const f=e[Zn];return null!==f&&(l[Zn]=f.createEmbeddedView(o)),pf(o,l,t),l}finally{ie(r)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:i});return new Ns(r)}};function Tx(){return Xl(ve(),P())}function Xl(e,n){return 4&e.type?new Sx(n,e,qr(e,n)):null}class io{}const Ls=new V("",{providedIn:"root",factory:()=>!1}),SC=new V(""),If=new V("");class vP{}class TC{}class CP{resolveComponentFactory(n){throw function yP(e){const n=Error(`No component factory found for ${Ye(e)}.`);return n.ngComponent=e,n}(n)}}class oc{static{this.NULL=new CP}}class Ef{}let ni=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function bP(){const e=P(),t=zt(ve().index,e);return(Xe(t)?t:e)[Z]}()}}return e})(),wP=(()=>{class e{static{this.\u0275prov=H({token:e,providedIn:"root",factory:()=>null})}}return e})();function ac(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?r=fd(r,a):2==o&&(i=fd(i,a+": "+n[++s]+";"))}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}class xC extends oc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=se(n);return new js(t,this.ngModule)}}function PC(e,n){const t=[];for(const i in e){if(!e.hasOwnProperty(i))continue;const r=e[i];if(void 0===r)continue;const o=Array.isArray(r),s=o?r[0]:r;t.push(n?{propName:s,templateName:i,isSignal:!!((o?r[1]:fi.None)&fi.SignalBased)}:{propName:s,templateName:i})}return t}class js extends TC{get inputs(){const n=this.componentDef,t=n.inputTransforms,i=PC(n.inputs,!0);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return PC(this.componentDef.outputs,!1)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function PI(e){return e.map(xI).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){const o=ie(null);try{let s=(r=r||this.ngModule)instanceof Rt?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new Wi(n,s):n,l=a.get(Ef,null);if(null===l)throw new R(407,!1);const g={rendererFactory:l,sanitizer:a.get(wP,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(io,null)},_=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",D=i?function H2(e,n,t,i){const o=i.get(Qv,!1)||t===an.ShadowDom,s=e.selectRootElement(n,o);return function G2(e){jy(e)}(s),s}(_,i,this.componentDef.encapsulation,a):zl(_,v,function SP(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(v));let I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let E=null;null!==D&&(E=Ph(D,a,!0));const A=lf(0,null,null,1,0,null,null,null,null,null,null),x=Ql(null,A,null,I,null,null,g,_,a,null,E);ih(x);let j,$,oe=null;try{const he=this.componentDef;let Le,ui=null;he.findHostDirectiveDefs?(Le=[],ui=new Map,he.findHostDirectiveDefs(he,Le,ui),Le.push(he)):Le=[he];const TT=function IP(e,n){const t=e[L],i=U;return e[i]=n,Ji(t,i,2,"#host",null)}(x,D);oe=function EP(e,n,t,i,r,o,s){const a=r[L];!function NP(e,n,t,i){for(const r of e)n.mergedAttrs=Jo(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(ac(n,n.mergedAttrs,!0),null!==t&&Ry(i,t,n))}(i,e,n,s);let l=null;null!==n&&(l=Ph(n,r[ze]));const d=o.rendererFactory.createRenderer(n,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const g=Ql(r,By(t),null,f,r[e.index],e,o,d,null,null,l);return a.firstCreatePass&&uf(a,e,i.length-1),Yl(r,g),r[e.index]=g}(TT,D,he,Le,x,g,_),$=rs(A,U),D&&function PP(e,n,t,i){if(i)Pd(e,t,["ng-version","18.2.13"]);else{const{attrs:r,classes:o}=function AI(e){const n=[],t=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&n.push(o,e[++i]):8===r&&t.push(o);else{if(!ln(r))break;r=o}i++}return{attrs:n,classes:t}}(n.selectors[0]);r&&Pd(e,t,r),o&&o.length>0&&Oy(e,t,o.join(" "))}}(_,he,D,i),void 0!==t&&function AP(e,n,t){const i=e.projection=[];for(let r=0;r<n.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}($,this.ngContentSelectors,t),j=function xP(e,n,t,i,r,o){const s=ve(),a=r[L],l=wt(s,r);Gy(a,r,s,t,null,i);for(let f=0;f<t.length;f++)mt(Zi(r,a,s.directiveStart+f,s),r);$y(a,r,s),l&&mt(l,r);const d=Zi(r,a,s.directiveStart+s.componentOffset,s);if(e[Se]=r[Se]=d,null!==o)for(const f of o)f(d,n);return rf(a,s,r),d}(oe,he,Le,ui,x,[kP]),pf(A,x,null)}catch(he){throw null!==oe&&wh(oe),wh(x),he}finally{rh()}return new TP(this.componentType,j,qr($,x),x,$)}finally{ie(o)}}}class TP extends vP{constructor(n,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ns(r,void 0,!1),this.componentType=n}setInput(n,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;ff(o[L],o,r,n,t),this.previousInputValues.set(n,t),Es(zt(this._tNode.index,o),1)}}get injector(){return new et(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function kP(){const e=ve();wl(P()[L],e)}let fn=(()=>{class e{static{this.__NG_ELEMENT_ID__=OP}}return e})();function OP(){return function OC(e,n){let t;const i=n[e.index];return gt(i)?t=i:(t=zy(i,n,null,e),n[e.index]=t,Yl(n,t)),RC(t,n,e,i),new AC(t,e,n)}(ve(),P())}const RP=fn,AC=class extends RP{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return qr(this._hostTNode,this._hostLView)}get injector(){return new et(this._hostTNode,this._hostLView)}get parentInjector(){const n=Il(this._hostTNode,this._hostLView);if(lh(n)){const t=cs(n,this._hostLView),i=ls(n);return new et(t[L].data[i+8],t)}return new et(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=kC(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(n,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,Xi(this._hostTNode,null)),a}createComponent(n,t,i,r,o){const s=n&&!function Xo(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const D=t||{};a=D.index,i=D.injector,r=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}const l=s?n:new js(se(n)),d=i||this.parentInjector;if(!o&&null==l.ngModule){const I=(s?d:this.parentInjector).get(Rt,null);I&&(o=I)}se(l.componentType??{});const v=l.create(d,r,null,o);return this.insertImpl(v.hostView,a,Xi(this._hostTNode,null)),v}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){const r=n._lView;if(function uE(e){return gt(e[$e])}(r)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=r[$e],d=new AC(l,l[ct],l[$e]);d.detach(d.indexOf(n))}}const o=this._adjustIndex(t),s=this._lContainer;return function to(e,n,t,i=!0){const r=n[L];if(function P2(e,n,t,i){const r=Be+i,o=t.length;i>0&&(t[r-1][cn]=n),i<o-Be?(n[cn]=t[r],Ym(t,Be+i,n)):(t.push(n),n[cn]=null),n[$e]=t;const s=n[Hi];null!==s&&t!==s&&My(s,n);const a=n[Zn];null!==a&&a.insertView(e),Qd(n),n[G]|=128}(r,n,e,t),i){const s=ef(t,e),a=n[Z],l=Jh(a,e[Tn]);null!==l&&function N2(e,n,t,i,r,o){i[Ae]=r,i[ct]=n,Zl(e,i,t,1,r,o)}(r,e[ct],a,n,l,s)}const o=n[bt];null!==o&&null!==o.firstChild&&(o.firstChild=null)}(s,r,o,i),n.attachToViewContainerRef(),Ym(Pf(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=kC(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),i=Ds(this._lContainer,t);i&&(rl(Pf(this._lContainer),t),ql(i[L],i))}detach(n){const t=this._adjustIndex(n,-1),i=Ds(this._lContainer,t);return i&&null!=rl(Pf(this._lContainer),t)?new Ns(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function kC(e){return e[8]}function Pf(e){return e[8]||(e[8]=[])}let RC=function LC(e,n,t,i){if(e[Tn])return;let r;r=8&t.type?de(i):function FP(e,n){const t=e[Z],i=t.createComment(""),r=wt(n,e);return Yi(t,Jh(t,r),i,function O2(e,n){return e.nextSibling(n)}(t,r),!1),i}(n,t),e[Tn]=r},Af=()=>!1;const zC=new Set;function Dt(e){zC.has(e)||(zC.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ro(e,n){Dt("NgSignals");const t=function kT(e){const n=Object.create(RT);n.value=e;const t=()=>(Yu(n),n.value);return t[sn]=n,t}(e),i=t[sn];return n?.equal&&(i.equal=n.equal),t.set=r=>Im(i,r),t.update=r=>function OT(e,n){Cm()||Tm(),Im(e,n(e.value))}(i,r),t.asReadonly=WC.bind(t),t}function WC(){const e=this[sn];if(void 0===e.readonlyFn){const n=()=>this();n[sn]=e,e.readonlyFn=n}return e.readonlyFn}function ZC(e){return function qC(e){return"function"==typeof e&&void 0!==e[sn]}(e)&&"function"==typeof e.set}function Ce(e){let n=function ob(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const i=[e];for(;n;){let r;if(un(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);const s=e;s.inputs=cc(e.inputs),s.inputTransforms=cc(e.inputTransforms),s.declaredInputs=cc(e.declaredInputs),s.outputs=cc(e.outputs);const a=r.hostBindings;a&&oA(e,a);const l=r.viewQuery,d=r.contentQueries;if(l&&iA(e,l),d&&rA(e,d),tA(e,r),KT(e.outputs,r.outputs),un(r)&&r.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Ce&&(t=!1)}}n=Object.getPrototypeOf(n)}!function nA(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Jo(r.hostAttrs,t=Jo(t,r.hostAttrs))}}(i)}function tA(e,n){for(const t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const i=n.inputs[t];if(void 0!==i&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t],null!==n.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=n.inputTransforms[r]}}}function cc(e){return e===Mn?{}:e===ue?[]:e}function iA(e,n){const t=e.viewQuery;e.viewQuery=t?(i,r)=>{n(i,r),t(i,r)}:n}function rA(e,n){const t=e.contentQueries;e.contentQueries=t?(i,r,o)=>{n(i,r,o),t(i,r,o)}:n}function oA(e,n){const t=e.hostBindings;e.hostBindings=t?(i,r)=>{n(i,r),t(i,r)}:n}function ub(e){const n=e.inputConfig,t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}e.inputTransforms=t}class nr{}class db{}class Hf extends nr{constructor(n,t,i,r=!0){super(),this.ngModuleType=n,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xC(this);const o=pt(n);this._bootstrapComponents=Wt(o.bootstrap),this._r3Injector=uv(n,t,[{provide:nr,useValue:this},{provide:oc,useValue:this.componentFactoryResolver},...i],Ye(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Gf extends db{constructor(n){super(),this.moduleType=n}create(n){return new Hf(this.moduleType,n,[])}}class hb extends nr{constructor(n){super(),this.componentFactoryResolver=new xC(this),this.instance=null;const t=new Rr([...n.providers,{provide:nr,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],n.parent||dl(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function $f(e,n,t=null){return new hb({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}function uc(e){return!!function zf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function je(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function ir(e,n,t,i){const r=je(e,n,t);return je(e,n+1,i)||r}function Gs(e,n,t,i,r,o,s,a,l,d){const f=t+U,g=n.firstCreatePass?function _A(e,n,t,i,r,o,s,a,l){const d=n.consts,f=Ji(n,e,4,s||null,a||null);cf(n,t,f,en(d,l)),wl(n,f);const g=f.tView=lf(2,f,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return null!==n.queries&&(n.queries.template(n,f),g.queries=n.queries.embeddedTView(f)),f}(f,n,e,i,r,o,s,a,l):n.data[f];dn(g,!1);const _=fb(n,e,g,t);ss()&&Wl(n,e,_,g),mt(_,e);const v=zy(_,e,_,g);return e[f]=v,Yl(e,v),function FC(e,n,t){return Af(e,n,t)}(v,g,e),ml(g)&&sf(n,e,g),null!=l&&af(e,g,d),g}function N(e,n,t,i,r,o,s,a){const l=P(),d=re();return Gs(l,d,e,n,t,i,r,en(d.consts,o),s,a),N}let fb=function pb(e,n,t,i){return En(!0),n[Z].createComment("")};var lo=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(lo||{});let Cb=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e})}}return e})();class qs{constructor(){this.ngZone=F(ye),this.scheduler=F(io),this.errorHandler=F(xn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[lo.EarlyRead,lo.Write,lo.MixedReadWrite,lo.Read]}execute(){this.executing=!0;for(const n of qs.PHASES)for(const t of this.sequences)if(!t.erroredOrDestroyed&&t.hooks[n])try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[n](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=H({token:qs,providedIn:"root",factory:()=>new qs})}}function kn(e,n,t,i){const r=P();return je(r,hn(),n)&&(re(),Pn(Te(),r,e,n,t,i)),kn}function vo(e,n,t,i,r,o,s,a){const d=function dc(e,n,t,i,r){const o=ir(e,n,t,i);return je(e,n+2,r)||o}(e,Yn(),t,r,s);return Kn(3),d?n+J(t)+i+J(r)+o+J(s)+a:X}function _c(e,n){return e<<17|n<<2}function Mi(e){return e>>17&32767}function ip(e){return 2|e}function or(e){return(131068&e)>>2}function rp(e,n){return-131069&e|n<<2}function op(e){return 1|e}function Zb(e,n,t,i){const r=e[t+1],o=null===n;let s=i?Mi(r):or(r),a=!1;for(;0!==s&&(!1===a||o);){const d=e[s+1];ok(e[s],n)&&(a=!0,e[s+1]=i?op(d):ip(d)),s=i?Mi(d):or(d)}a&&(e[t+1]=i?ip(r):op(r))}function ok(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ar(e,n)>=0}function S(e,n,t){const i=P();return je(i,hn(),n)&&Lt(re(),Te(),i,e,n,i[Z],t,!1),S}function sp(e,n,t,i,r){const s=r?"class":"style";ff(e,t,n.inputs[s],s,i)}function qe(e,n){return function pn(e,n,t,i){const r=P(),o=re(),s=Kn(2);o.firstUpdatePass&&function i1(e,n,t,i){const r=e.data;if(null===r[t+1]){const o=r[ut()],s=function n1(e,n){return n>=e.expandoStartIndex}(e,t);(function a1(e,n){return!!(e.flags&(n?8:16))})(o,i)&&null===n&&!s&&(n=!1),n=function pk(e,n,t,i){const r=function th(e){const n=Q.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(t=Zs(t=ap(null,e,n,t,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==r)if(t=ap(r,e,n,t,i),null===o){let l=function gk(e,n,t){const i=t?n.classBindings:n.styleBindings;if(0!==or(i))return e[Mi(i)]}(e,n,i);void 0!==l&&Array.isArray(l)&&(l=ap(null,e,n,l[1],i),l=Zs(l,n.attrs,i),function mk(e,n,t,i){e[Mi(t?n.classBindings:n.styleBindings)]=i}(e,n,i,l))}else o=function _k(e,n,t){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=Zs(i,e[o].hostAttrs,t);return Zs(i,n.attrs,t)}(e,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),t}(r,o,n,i),function ik(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Mi(s),l=or(s);e[i]=t;let f,d=!1;if(Array.isArray(t)?(f=t[1],(null===f||Ar(t,f)>0)&&(d=!0)):f=t,r)if(0!==l){const _=Mi(e[a+1]);e[i+1]=_c(_,a),0!==_&&(e[_+1]=rp(e[_+1],i)),e[a+1]=function tk(e,n){return 131071&e|n<<17}(e[a+1],i)}else e[i+1]=_c(a,0),0!==a&&(e[a+1]=rp(e[a+1],i)),a=i;else e[i+1]=_c(l,0),0===a?a=i:e[l+1]=rp(e[l+1],i),l=i;d&&(e[i+1]=ip(e[i+1])),Zb(e,f,i,!0),Zb(e,f,i,!1),function rk(e,n,t,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&Ar(o,n)>=0&&(t[i+1]=op(t[i+1]))}(n,f,e,i,o),s=_c(a,l),o?n.classBindings=s:n.styleBindings=s}(r,o,n,t,s,i)}}(o,e,s,i),n!==X&&je(r,s,n)&&function o1(e,n,t,i,r,o,s,a){if(!(3&n.type))return;const l=e.data,d=l[a+1],f=function nk(e){return!(1&~e)}(d)?s1(l,n,t,r,or(d),s):void 0;vc(f)||(vc(o)||function ek(e){return!(2&~e)}(d)&&(o=s1(l,null,t,r,a,s)),function L2(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:yi.DashCase;null==r?e.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=yi.Important),e.setStyle(t,i,r,o))}}(i,s,is(ut(),t),r,o))}(o,o.data[ut()],r,r[Z],e,r[s+1]=function bk(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Ye(vi(e)))),e}(n,t),i,s)}(e,n,null,!0),qe}function ap(e,n,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],i=Zs(i,o.hostAttrs,r),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),i}function Zs(e,n,t){const i=t?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),$t(e,s,!!t||n[++o]))}return void 0===e?null:e}function s1(e,n,t,i,r,o){const s=null===n;let a;for(;r>0;){const l=e[r],d=Array.isArray(l),f=d?l[1]:l,g=null===f;let _=t[r+1];_===X&&(_=g?ue:void 0);let v=g?Nd(_,i):f===i?_:void 0;if(d&&!vc(v)&&(v=Nd(l,i)),vc(v)&&(a=v,s))return a;const D=e[r+1];r=s?Mi(D):or(D)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=Nd(l,i))}return a}function vc(e){return void 0!==e}function c(e,n,t,i){const r=P(),o=re(),s=U+e,a=r[Z],l=o.firstCreatePass?function $k(e,n,t,i,r,o){const s=n.consts,l=Ji(n,e,2,i,en(s,r));return cf(n,t,l,en(s,o)),null!==l.attrs&&ac(l,l.attrs,!1),null!==l.mergedAttrs&&ac(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,r,n,t,i):o.data[s],d=d1(o,r,l,a,n,e);r[s]=d;const f=ml(l);return dn(l,!0),Ry(a,d,l),!function so(e){return!(32&~e.flags)}(l)&&ss()&&Wl(o,r,d,l),0===function dE(){return Q.lFrame.elementDepthCount}()&&mt(d,r),function hE(){Q.lFrame.elementDepthCount++}(),f&&(sf(o,r,l),rf(o,l,r)),null!==i&&af(r,l),c}function u(){let e=ve();Jd()?Xd():(e=e.parent,dn(e,!1));const n=e;(function pE(e){return Q.skipHydrationRootTNode===e})(n)&&function vE(){Q.skipHydrationRootTNode=null}(),function fE(){Q.lFrame.elementDepthCount--}();const t=re();return t.firstCreatePass&&(wl(t,e),Gd(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function AE(e){return!!(8&e.flags)}(n)&&sp(t,n,P(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function kE(e){return!!(16&e.flags)}(n)&&sp(t,n,P(),n.stylesWithoutHost,!1),u}function te(e,n,t,i){return c(e,n,t,i),u(),te}let d1=(e,n,t,i,r,o)=>(En(!0),zl(i,r,function $_(){return Q.lFrame.currentNamespace}()));function sr(e,n,t){const i=P(),r=re(),o=e+U,s=r.firstCreatePass?function Wk(e,n,t,i,r){const o=n.consts,s=en(o,i),a=Ji(n,e,8,"ng-container",s);return null!==s&&ac(a,s,!0),cf(n,t,a,en(o,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,r,i,n,t):r.data[o];dn(s,!0);const a=f1(r,i,s,e);return i[o]=a,ss()&&Wl(r,i,a,s),mt(a,i),ml(s)&&(sf(r,i,s),rf(r,s,i)),null!=t&&af(i,s),sr}function ar(){let e=ve();const n=re();return Jd()?Xd():(e=e.parent,dn(e,!1)),n.firstCreatePass&&(wl(n,e),Gd(e)&&n.queries.elementEnd(e)),ar}let f1=(e,n,t,i)=>(En(!0),Zh(n[Z],""));function k(){return P()}const lr=void 0;var Kk=["en",[["a","p"],["AM","PM"],lr],[["AM","PM"],lr,lr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lr,"{1} 'at' {0}",lr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yk(e){const t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let So={};function St(e){const n=function Jk(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=_1(n);if(t)return t;const i=n.split("-")[0];if(t=_1(i),t)return t;if("en"===i)return Kk;throw new R(701,!1)}function _1(e){return e in So||(So[e]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[e]),So[e]}var Ie=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ie||{});const Cc="en-US";let v1=Cc,F1=(e,n,t)=>{};function T(e,n,t,i){const r=P(),o=re(),s=ve();return fp(o,r,r[Z],s,e,n,i),T}function fp(e,n,t,i,r,o,s){const a=ml(i),d=e.firstCreatePass&&function Zy(e){return e.cleanup??=[]}(e),f=n[Se],g=function Wy(e){return e[Vr]??=[]}(n);let _=!0;if(3&i.type||s){const I=wt(i,n),E=s?s(I):I,A=g.length,x=s?$=>s(de($[i.index])):i.index;let j=null;if(!s&&a&&(j=function jO(e,n,t,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=n[Vr],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,n,r,i.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,_=!1;else{o=j1(i,n,f,o),F1(I,r,o);const $=t.listen(E,r,o);g.push(o,$),d&&d.push(r,x,A,A+1)}}else o=j1(i,n,f,o);const v=i.outputs;let D;if(_&&null!==v&&(D=v[r])){const I=D.length;if(I)for(let E=0;E<I;E+=2){const oe=n[D[E]][D[E+1]].subscribe(o),he=g.length;g.push(o,oe),d&&d.push(r,i.index,he,-(he+1))}}}function B1(e,n,t,i){const r=ie(null);try{return In(6,n,t),!1!==t(i)}catch(o){return Kl(e,o),!1}finally{In(7,n,t),ie(r)}}function j1(e,n,t,i){return function r(o){if(o===Function)return i;Es(e.componentOffset>-1?zt(e.index,n):n,5);let a=B1(n,t,i,o),l=r.__ngNextListenerFn__;for(;l;)a=B1(n,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function m(e=1){return function ME(e){return(Q.lFrame.contextLView=function N_(e,n){for(;e>0;)n=n[Br],e--;return n}(e,Q.lFrame.contextLView))[Se]}(e)}function To(e){return $i(function k_(){return Q.lFrame.contextLView}(),U+e)}function h(e,n=""){const t=P(),i=re(),r=e+U,o=i.firstCreatePass?Ji(i,r,1,n,null):i.data[r],s=lw(i,t,o,n,e);t[r]=s,ss()&&Wl(i,t,s,o),dn(o,!1)}let lw=(e,n,t,i,r)=>(En(!0),function Wh(e,n){return e.createText(n)}(n[Z],i));function B(e){return z("",e,""),B}function z(e,n,t){const i=P(),r=function mo(e,n,t,i){return je(e,hn(),t)?n+J(t)+i:X}(i,e,n,t);return r!==X&&ei(i,ut(),r),z}function Pe(e,n,t,i,r){const o=P(),s=function _o(e,n,t,i,r,o){const a=ir(e,Yn(),t,r);return Kn(2),a?n+J(t)+i+J(r)+o:X}(o,e,n,t,i,r);return s!==X&&ei(o,ut(),s),Pe}function Io(e,n,t,i,r,o,s){const a=P(),l=vo(a,e,n,t,i,r,o,s);return l!==X&&ei(a,ut(),l),Io}function b(e,n,t){ZC(n)&&(n=n());const i=P();return je(i,hn(),n)&&Lt(re(),Te(),i,e,n,i[Z],t,!1),b}function M(e,n){const t=ZC(e);return t&&e.set(n),t}function w(e,n){const t=P(),i=re(),r=ve();return fp(i,t,t[Z],r,e,n),w}function mp(e,n,t,i,r){if(e=W(e),Array.isArray(e))for(let o=0;o<e.length;o++)mp(e[o],n,t,i,r);else{const o=re(),s=P(),a=ve();let l=Ui(e)?e:W(e.provide);const d=h_(e),f=1048575&a.providerIndexes,g=a.directiveStart,_=a.providerIndexes>>20;if(Ui(e)||!e.multi){const v=new as(d,r,O),D=vp(l,n,r?f:f+_,g);-1===D?(dh(Tl(a,s),o,l),_p(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[D]=v,s[D]=v)}else{const v=vp(l,n,f+_,g),D=vp(l,n,f,f+_),E=D>=0&&t[D];if(r&&!E||!r&&!(v>=0&&t[v])){dh(Tl(a,s),o,l);const A=function dR(e,n,t,i,r){const o=new as(e,t,O);return o.multi=[],o.index=n,o.componentProviders=0,_w(o,r,i&&!t),o}(r?uR:cR,t.length,r,i,d);!r&&E&&(t[D].providerFactory=A),_p(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(A),s.push(A)}else _p(o,e,v>-1?v:D,_w(t[r?D:v],d,!r&&i));!r&&i&&E&&t[D].componentProviders++}}}function _p(e,n,t,i){const r=Ui(n),o=function BI(e){return!!e.useClass}(n);if(r||o){const l=(o?W(n.useClass):n).prototype.ngOnDestroy;if(l){const d=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){const f=d.indexOf(t);-1===f?d.push(t,[i,l]):d[f+1].push(i,l)}else d.push(t,l)}}}function _w(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function vp(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function cR(e,n,t,i){return yp(this.multi,[])}function uR(e,n,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Zi(t,t[L],this.providerFactory.index,i);o=a.slice(0,s),yp(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],yp(r,o);return o}function yp(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Oe(e,n=[]){return t=>{t.providersResolver=(i,r)=>function lR(e,n,t){const i=re();if(i.firstCreatePass){const r=un(e);mp(t,i.data,i.blueprint,r,!0),mp(n,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,n)}}let hR=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=kd(0,t.type),r=i.length>0?$f([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(Y(Rt))})}}return e})();function Fe(e){Dt("NgStandalone"),e.getStandaloneInjector=n=>n.get(hR).getOrCreateStandaloneInjector(e)}function ww(e,n,t,i,r,o,s){const a=n+t;return ir(e,a,r,o)?function An(e,n,t){return e[n]=t}(e,a+2,s?i.call(s,r,o):i(r,o)):function ea(e,n){const t=e[n];return t===X?void 0:t}(e,a+2)}function Tc(e,n){const t=re();let i;const r=e+U;t.firstCreatePass?(i=function SR(e,n){if(n)for(let t=n.length-1;t>=0;t--){const i=n[t];if(e===i.name)return i}}(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=ji(i.type)),a=At(O);try{const l=Sl(!1),d=o();return Sl(l),function gp(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}(t,P(),r,d),d}finally{At(a)}}function Ic(e,n,t,i){const r=e+U,o=P(),s=$i(o,r);return function ta(e,n){return e[L].data[n].pure}(o,r)?ww(o,Mt(),n,s.transform,t,i,s):s.transform(t,i)}function Eo(e,n){return Xl(e,n)}let Uw=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const qw=new V("");function oa(e){return!!e&&"function"==typeof e.then}function Ww(e){return!!e&&"function"==typeof e.subscribe}const MF=new V("");let Zw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=F(MF,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(oa(o))t.push(o);else if(Ww(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Pc=new V("");let Fn=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(aN),this.afterRenderManager=F(Cb),this.zonelessEnabled=F(Ls),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new jt,this.afterTick=new jt,this.componentTypes=[],this.components=[],this.isStable=F(Jn).hasPendingTasks.pipe(le(t=>!t)),this._injector=F(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof TC;if(!this._injector.get(Zw).done)throw!r&&function pi(e){const n=se(e)||Ke(e)||lt(e);return null!==n&&n.standalone}(t),new R(405,!1);let s;s=r?t:this._injector.get(oc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function DF(e){return e.isBoundToModule}(s)?void 0:this._injector.get(nr),d=s.create(dt.NULL,[],i||s.selector,a),f=d.location.nativeElement,g=d.injector.get(qw,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Ac(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new R(101,!1);const t=ie(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ie(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Ef,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;0!==this.dirtyFlags&&i++<10;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)IF(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else t?.begin?.(),t?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>_l(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Ac(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Pc,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ac(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new R(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ac(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function IF(e,n,t,i){(t||_l(e))&&Jl(e,n,t&&!i?0:1)}class EF{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let NF=(()=>{class e{compileModuleSync(t){return new Gf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Wt(pt(t).declarations).reduce((s,a)=>{const l=se(a);return l&&s.push(new js(l)),s},[]);return new EF(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),AF=(()=>{class e{constructor(){this.zone=F(ye),this.changeDetectionScheduler=F(io),this.applicationRef=F(Fn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ep({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new ye({...Np(),scheduleInRootZone:t}),[{provide:ye,useFactory:e},{provide:Dn,multi:!0,useFactory:()=>{const i=F(AF,{optional:!0});return()=>i.initialize()}},{provide:Dn,multi:!0,useFactory:()=>{const i=F(OF);return()=>{i.initialize()}}},!0===n?{provide:SC,useValue:!0}:[],{provide:If,useValue:t??hv}]}function Np(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let OF=(()=>{class e{constructor(){this.subscription=new Ct,this.initialized=!1,this.zone=F(ye),this.pendingTasks=F(Jn)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),sa=(()=>{class e{constructor(){this.appRef=F(Fn),this.taskService=F(Jn),this.ngZone=F(ye),this.zonelessEnabled=F(Ls),this.disableScheduling=F(SC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ct,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(If,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?pv:fv;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,pv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Di=new V("",{providedIn:"root",factory:()=>F(Di,ae.Optional|ae.SkipSelf)||function RF(){return typeof $localize<"u"&&$localize.locale||Cc}()}),Oc=new V("");function Rc(e){return!e.moduleRef}let Si=null;let aa=(()=>{class e{static{this.__NG_ELEMENT_ID__=zF}}return e})();function zF(e){return function qF(e,n,t){if(Gi(e)&&!t){const i=zt(e.index,n);return new Ns(i,i)}return 175&e.type?new Ns(n[ke],n):null}(ve(),P(),!(16&~e))}class dM{constructor(){}supports(n){return uc(n)}create(n){return new KF(n)}}const YF=(e,n)=>n;class KF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||YF}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<fM(i,r,o)?t:i,a=fM(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const d=a-r,f=l-r;if(d!=f){for(let _=0;_<d;_++){const v=_<o.length?o[_]:o[_]=0,D=v+_;f<=D&&D<d&&(o[_]=v+1)}o[s.previousIndex]=f-d}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!uc(n))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function gA(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let i;for(;!(i=t.next()).done;)n(i.value)}}(n,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new JF(t,i),o,r),n}_verifyReinsertion(n,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){const r=null===t?this._itHead:t._next;return n._next=r,n._prev=t,null===r?this._itTail=n:r._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new hM),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,i=n._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hM),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class JF{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const t=n._prevDup,i=n._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class hM{constructor(){this.map=new Map}put(n){const t=n.trackById;let i=this.map.get(t);i||(i=new XF,this.map.set(t,i)),i.add(n)}get(n,t){const r=this.map.get(n);return r?r.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fM(e,n,t){const i=e.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}function gM(){return new Fp([new dM])}let Fp=(()=>{class e{static{this.\u0275prov=H({token:e,providedIn:"root",factory:gM})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||gM()),deps:[[e,new Id,new Td]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new R(901,!1)}}return e})();function g3(e){try{const{rootComponent:n,appProviders:t,platformProviders:i}=e,r=function $F(e=[]){if(Si)return Si;const n=function oM(e=[],n){return dt.create({name:n,providers:[{provide:Fd,useValue:"platform"},{provide:Oc,useValue:new Set([()=>Si=null])},...e]})}(e);return Si=n,function Qw(){!function AT(e){Sm=e}(()=>{throw new R(600,!1)})}(),function sM(e){e.get(Bv,null)?.forEach(t=>t())}(n),n}(i),o=[Ep({}),{provide:io,useExisting:sa},...t||[]];return function nM(e){const n=Rc(e)?e.r3Injector:e.moduleRef.injector,t=n.get(ye);return t.run(()=>{Rc(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const i=n.get(xn,null);let r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Rc(e)){const o=()=>n.destroy(),s=e.platformInjector.get(Oc);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{const o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Oc);s.add(o),e.moduleRef.onDestroy(()=>{Ac(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return function TF(e,n,t){try{const i=t();return oa(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}(i,t,()=>{const o=n.get(Zw);return o.runInitializers(),o.donePromise.then(()=>{if(function nO(e){"string"==typeof e&&(v1=e.toLowerCase().replace(/_/g,"-"))}(n.get(Di,Cc)||Cc),Rc(e)){const a=n.get(Fn);return void 0!==e.rootComponent&&a.bootstrap(e.rootComponent),a}return function UF(e,n){const t=e.injector.get(Fn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>t.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new R(-403,!1);e.instance.ngDoBootstrap(t)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new hb({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:r,rootComponent:n})}catch(n){return Promise.reject(n)}}function Po(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function da(e,n){Dt("NgSignals");const t=function NT(e){const n=Object.create(xT);n.computation=e;const t=()=>{if(vm(n),Yu(n),n.value===qa)throw n.error;return n.value};return t[sn]=n,t}(e);return n?.equal&&(t[sn].equal=n.equal),t}function Ln(e){const n=ie(null);try{return e()}finally{ie(n)}}let BM=null;function Ti(){return BM}class H3{}const mn=new V("");let jM=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:()=>F(G3),providedIn:"platform"})}}return e})(),G3=(()=>{class e extends jM{constructor(){super(),this._doc=F(mn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ti().getBaseHref(this._doc)}onPopState(t){const i=Ti().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ti().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function UM(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function HM(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function ur(e){return e&&"?"!==e[0]?"?"+e:e}let zc=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:()=>F(z3),providedIn:"root"})}}return e})();const $3=new V("");let z3=(()=>{class e extends zc{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return UM(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ur(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+ur(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+ur(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(Y(jM),Y($3,8))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ha=(()=>{class e{constructor(t){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Z3(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(HM(GM(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ur(i))}normalize(t){return e.stripTrailingSlash(function W3(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,GM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ur(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ur(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=ur}static{this.joinWithSlash=UM}static{this.stripTrailingSlash=HM}static{this.\u0275fac=function(i){return new(i||e)(Y(zc))}}static{this.\u0275prov=H({token:e,factory:()=>function q3(){return new ha(Y(zc))}(),providedIn:"root"})}}return e})();function GM(e){return e.replace(/\/index.html$/,"")}var It=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(It||{}),we=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(we||{}),Yt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Yt||{});const We={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Wc(e,n){return rn(St(e)[Ie.DateFormat],n)}function Zc(e,n){return rn(St(e)[Ie.TimeFormat],n)}function Qc(e,n){return rn(St(e)[Ie.DateTimeFormat],n)}function nn(e,n){const t=St(e),i=t[Ie.NumberSymbols][n];if(typeof i>"u"){if(n===We.CurrencyDecimal)return t[Ie.NumberSymbols][We.Decimal];if(n===We.CurrencyGroup)return t[Ie.NumberSymbols][We.Group]}return i}function zM(e){if(!e[Ie.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ie.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rn(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function jp(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const lL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yc={},cL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ii=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(ii||{}),ge=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(ge||{}),me=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(me||{});function uL(e,n,t,i){let r=function yL(e){if(ZM(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,o=1,s=1]=e.split("-").map(a=>+a);return Kc(r,o-1,s)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(lL))return function CL(e){const n=new Date(0);let t=0,i=0;const r=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-t,a=Number(e[5]||0)-i,l=Number(e[6]||0),d=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(n,s,a,l,d),n}(i)}const n=new Date(e);if(!ZM(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=ri(t,n)||n;let a,s=[];for(;n;){if(a=cL.exec(n),!a){s.push(n);break}{s=s.concat(a.slice(1));const f=s.pop();if(!f)break;n=f}}let l=r.getTimezoneOffset();i&&(l=WM(i,l),r=function vL(e,n,t){const i=t?-1:1,r=e.getTimezoneOffset();return function _L(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,i*(WM(n,r)-r))}(r,i,!0));let d="";return s.forEach(f=>{const g=function mL(e){if(Hp[e])return Hp[e];let n;switch(e){case"G":case"GG":case"GGG":n=Ee(me.Eras,we.Abbreviated);break;case"GGGG":n=Ee(me.Eras,we.Wide);break;case"GGGGG":n=Ee(me.Eras,we.Narrow);break;case"y":n=Ze(ge.FullYear,1,0,!1,!0);break;case"yy":n=Ze(ge.FullYear,2,0,!0,!0);break;case"yyy":n=Ze(ge.FullYear,3,0,!1,!0);break;case"yyyy":n=Ze(ge.FullYear,4,0,!1,!0);break;case"Y":n=tu(1);break;case"YY":n=tu(2,!0);break;case"YYY":n=tu(3);break;case"YYYY":n=tu(4);break;case"M":case"L":n=Ze(ge.Month,1,1);break;case"MM":case"LL":n=Ze(ge.Month,2,1);break;case"MMM":n=Ee(me.Months,we.Abbreviated);break;case"MMMM":n=Ee(me.Months,we.Wide);break;case"MMMMM":n=Ee(me.Months,we.Narrow);break;case"LLL":n=Ee(me.Months,we.Abbreviated,It.Standalone);break;case"LLLL":n=Ee(me.Months,we.Wide,It.Standalone);break;case"LLLLL":n=Ee(me.Months,we.Narrow,It.Standalone);break;case"w":n=Up(1);break;case"ww":n=Up(2);break;case"W":n=Up(1,!0);break;case"d":n=Ze(ge.Date,1);break;case"dd":n=Ze(ge.Date,2);break;case"c":case"cc":n=Ze(ge.Day,1);break;case"ccc":n=Ee(me.Days,we.Abbreviated,It.Standalone);break;case"cccc":n=Ee(me.Days,we.Wide,It.Standalone);break;case"ccccc":n=Ee(me.Days,we.Narrow,It.Standalone);break;case"cccccc":n=Ee(me.Days,we.Short,It.Standalone);break;case"E":case"EE":case"EEE":n=Ee(me.Days,we.Abbreviated);break;case"EEEE":n=Ee(me.Days,we.Wide);break;case"EEEEE":n=Ee(me.Days,we.Narrow);break;case"EEEEEE":n=Ee(me.Days,we.Short);break;case"a":case"aa":case"aaa":n=Ee(me.DayPeriods,we.Abbreviated);break;case"aaaa":n=Ee(me.DayPeriods,we.Wide);break;case"aaaaa":n=Ee(me.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":n=Ee(me.DayPeriods,we.Abbreviated,It.Standalone,!0);break;case"bbbb":n=Ee(me.DayPeriods,we.Wide,It.Standalone,!0);break;case"bbbbb":n=Ee(me.DayPeriods,we.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":n=Ee(me.DayPeriods,we.Abbreviated,It.Format,!0);break;case"BBBB":n=Ee(me.DayPeriods,we.Wide,It.Format,!0);break;case"BBBBB":n=Ee(me.DayPeriods,we.Narrow,It.Format,!0);break;case"h":n=Ze(ge.Hours,1,-12);break;case"hh":n=Ze(ge.Hours,2,-12);break;case"H":n=Ze(ge.Hours,1);break;case"HH":n=Ze(ge.Hours,2);break;case"m":n=Ze(ge.Minutes,1);break;case"mm":n=Ze(ge.Minutes,2);break;case"s":n=Ze(ge.Seconds,1);break;case"ss":n=Ze(ge.Seconds,2);break;case"S":n=Ze(ge.FractionalSeconds,1);break;case"SS":n=Ze(ge.FractionalSeconds,2);break;case"SSS":n=Ze(ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Xc(ii.Short);break;case"ZZZZZ":n=Xc(ii.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Xc(ii.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Xc(ii.Long);break;default:return null}return Hp[e]=n,n}(f);d+=g?g(r,t,l):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Kc(e,n,t){const i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function ri(e,n){const t=function Y3(e){return St(e)[Ie.LocaleId]}(e);if(Yc[t]??={},Yc[t][n])return Yc[t][n];let i="";switch(n){case"shortDate":i=Wc(e,Yt.Short);break;case"mediumDate":i=Wc(e,Yt.Medium);break;case"longDate":i=Wc(e,Yt.Long);break;case"fullDate":i=Wc(e,Yt.Full);break;case"shortTime":i=Zc(e,Yt.Short);break;case"mediumTime":i=Zc(e,Yt.Medium);break;case"longTime":i=Zc(e,Yt.Long);break;case"fullTime":i=Zc(e,Yt.Full);break;case"short":const r=ri(e,"shortTime"),o=ri(e,"shortDate");i=Jc(Qc(e,Yt.Short),[r,o]);break;case"medium":const s=ri(e,"mediumTime"),a=ri(e,"mediumDate");i=Jc(Qc(e,Yt.Medium),[s,a]);break;case"long":const l=ri(e,"longTime"),d=ri(e,"longDate");i=Jc(Qc(e,Yt.Long),[l,d]);break;case"full":const f=ri(e,"fullTime"),g=ri(e,"fullDate");i=Jc(Qc(e,Yt.Full),[f,g])}return i&&(Yc[t][n]=i),i}function Jc(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return null!=n&&i in n?n[i]:t})),e}function _n(e,n,t="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function Ze(e,n,t=0,i=!1,r=!1){return function(o,s){let a=function hL(e,n){switch(e){case ge.FullYear:return n.getFullYear();case ge.Month:return n.getMonth();case ge.Date:return n.getDate();case ge.Hours:return n.getHours();case ge.Minutes:return n.getMinutes();case ge.Seconds:return n.getSeconds();case ge.FractionalSeconds:return n.getMilliseconds();case ge.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((t>0||a>-t)&&(a+=t),e===ge.Hours)0===a&&-12===t&&(a=12);else if(e===ge.FractionalSeconds)return function dL(e,n){return _n(e,3).substring(0,n)}(a,n);const l=nn(s,We.MinusSign);return _n(a,n,l,i,r)}}function Ee(e,n,t=It.Format,i=!1){return function(r,o){return function fL(e,n,t,i,r,o){switch(t){case me.Months:return function X3(e,n,t){const i=St(e),o=rn([i[Ie.MonthsFormat],i[Ie.MonthsStandalone]],n);return rn(o,t)}(n,r,i)[e.getMonth()];case me.Days:return function J3(e,n,t){const i=St(e),o=rn([i[Ie.DaysFormat],i[Ie.DaysStandalone]],n);return rn(o,t)}(n,r,i)[e.getDay()];case me.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const d=function iL(e){const n=St(e);return zM(n),(n[Ie.ExtraData][2]||[]).map(i=>"string"==typeof i?jp(i):[jp(i[0]),jp(i[1])])}(n),f=function rL(e,n,t){const i=St(e);zM(i);const o=rn([i[Ie.ExtraData][0],i[Ie.ExtraData][1]],n)||[];return rn(o,t)||[]}(n,r,i),g=d.findIndex(_=>{if(Array.isArray(_)){const[v,D]=_,I=s>=v.hours&&a>=v.minutes,E=s<D.hours||s===D.hours&&a<D.minutes;if(v.hours<D.hours){if(I&&E)return!0}else if(I||E)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(-1!==g)return f[g]}return function K3(e,n,t){const i=St(e),o=rn([i[Ie.DayPeriodsFormat],i[Ie.DayPeriodsStandalone]],n);return rn(o,t)}(n,r,i)[s<12?0:1];case me.Eras:return function eL(e,n){return rn(St(e)[Ie.Eras],n)}(n,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,e,n,t,i)}}function Xc(e){return function(n,t,i){const r=-1*i,o=nn(t,We.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case ii.Short:return(r>=0?"+":"")+_n(s,2,o)+_n(Math.abs(r%60),2,o);case ii.ShortGMT:return"GMT"+(r>=0?"+":"")+_n(s,1,o);case ii.Long:return"GMT"+(r>=0?"+":"")+_n(s,2,o)+":"+_n(Math.abs(r%60),2,o);case ii.Extended:return 0===i?"Z":(r>=0?"+":"")+_n(s,2,o)+":"+_n(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const pL=0,eu=4;function qM(e){const n=e.getDay(),t=0===n?-3:eu-n;return Kc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Up(e,n=!1){return function(t,i){let r;if(n){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=qM(t),s=function gL(e){const n=Kc(e,pL,1).getDay();return Kc(e,0,1+(n<=eu?eu:eu+7)-n)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return _n(r,e,nn(i,We.MinusSign))}}function tu(e,n=!1){return function(t,i){return _n(qM(t).getFullYear(),e,nn(i,We.MinusSign),n)}}const Hp={};function WM(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function ZM(e){return e instanceof Date&&!isNaN(e.valueOf())}function JM(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}const Zp=/\s+/,XM=[];let Qp=(()=>{class e{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=XM,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Zp):XM}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Zp):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Zp).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||e)(O(qt),O(ni))}}static{this.\u0275dir=K({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class kL{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Et=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new kL(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),tD(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{tD(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(O(fn),O(ti),O(Fp))}}static{this.\u0275dir=K({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function tD(e,n){e.context.$implicit=n.item}let _t=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new OL,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(O(fn),O(ti))}}static{this.\u0275dir=K({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class OL{constructor(){this.$implicit=null,this.ngIf=null}}function nD(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ye(n)}'.`)}const WL=new V(""),ZL=new V("");let iu=(()=>{class e{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return uL(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function vn(e,n){return new R(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||e)(O(Di,16),O(WL,24),O(ZL,24))}}static{this.\u0275pipe=Ot({name:"date",type:e,pure:!0,standalone:!0})}}return e})(),Bt=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kr({type:e})}static{this.\u0275inj=Bi({})}}return e})();function sD(e){return"server"===e}class aD{}class kV extends H3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ig extends kV{static makeCurrent(){!function U3(e){BM??=e}(new ig)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function OV(){return ma=ma||document.querySelector("base"),ma?ma.getAttribute("href"):null}();return null==t?null:function RV(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return JM(document.cookie,n)}}let ma=null,LV=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();const rg=new V("");let vD=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||e)(Y(rg),Y(ye))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();class yD{constructor(n){this._doc=n}}const og="ng-app-id";let CD=(()=>{class e{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sD(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${og}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(og),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(og,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(Y(mn),Y(gs),Y(jv,8),Y(_i))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();const sg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ag=/%COMP%/g,UV=new V("",{providedIn:"root",factory:()=>!0});function wD(e,n){return n.map(t=>t.replace(ag,e))}let MD=(()=>{class e{constructor(t,i,r,o,s,a,l,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=sD(a),this.defaultRenderer=new lg(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===an.ShadowDom&&(i={...i,encapsulation:an.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof SD?r.applyToHost(t):r instanceof cg&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case an.Emulated:o=new SD(l,d,i,this.appId,f,s,a,g);break;case an.ShadowDom:return new zV(l,d,t,i,s,a,this.nonce,g);default:o=new cg(l,d,i,f,s,a,g)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(Y(vD),Y(CD),Y(gs),Y(UV),Y(mn),Y(_i),Y(ye),Y(jv))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();class lg{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(sg[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(DD(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(DD(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new R(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const o=sg[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=sg[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(yi.DashCase|yi.Important)?n.style.setProperty(t,i,r&yi.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&yi.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){null!=n&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i){if("string"==typeof n&&!(n=Ti().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function DD(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class zV extends lg{constructor(n,t,i,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=wD(r.id,r.styles);for(const f of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cg extends lg{constructor(n,t,i,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?wD(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class SD extends cg{constructor(n,t,i,r,o,s,a,l){const d=r+"-"+i.id;super(n,t,i,o,s,a,l,d),this.contentAttr=function HV(e){return"_ngcontent-%COMP%".replace(ag,e)}(d),this.hostAttr=function GV(e){return"_nghost-%COMP%".replace(ag,e)}(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}const TD=["alt","control","meta","shift"],WV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZV={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function ID(e){return{appProviders:[...n4,...e?.providers??[]],platformProviders:e4}}const e4=[{provide:_i,useValue:"browser"},{provide:Bv,useValue:function KV(){ig.makeCurrent()},multi:!0},{provide:mn,useFactory:function XV(){return function NN(e){Dh=e}(document),document},deps:[]}],n4=[{provide:Fd,useValue:"root"},{provide:xn,useFactory:function JV(){return new xn},deps:[]},{provide:rg,useClass:(()=>{class e extends yD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(Y(mn))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})(),multi:!0,deps:[mn,ye,_i]},{provide:rg,useClass:(()=>{class e extends yD{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r){const o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ti().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),TD.forEach(d=>{const f=i.indexOf(d);f>-1&&(i.splice(f,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=WV[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),TD.forEach(s=>{s!==r&&(0,ZV[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||e)(Y(mn))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})(),multi:!0,deps:[mn]},MD,CD,vD,{provide:Ef,useExisting:MD},{provide:aD,useClass:LV,deps:[]},[]];let i4=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||e)(Y(mn))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xD(e,n,t,i,r,o,s){try{var a=e[o](s),l=a.value}catch(d){return void t(d)}a.done?n(l):Promise.resolve(l).then(i,r)}function PD(e){return function(){var n=this,t=arguments;return new Promise(function(i,r){var o=e.apply(n,t);function s(l){xD(o,i,r,s,a,"next",l)}function a(l){xD(o,i,r,s,a,"throw",l)}s(void 0)})}}function ug(e){return e[e.length-1]}function AD(e){return Ne(ug(e))?e.pop():void 0}function lu(e){return function a4(e){return e&&Ne(e.schedule)}(ug(e))?e.pop():void 0}function Ii(e){return this instanceof Ii?(this.v=e,this):new Ii(e)}function FD(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function pg(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const LD=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function VD(e){return Ne(e?.then)}function BD(e){return Ne(e[dd])}function jD(e){return Symbol.asyncIterator&&Ne(e?.[Symbol.asyncIterator])}function UD(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const HD=function O4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function GD(e){return Ne(e?.[HD])}function $D(e){return function RD(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(e,n||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(v){return function(D){return Promise.resolve(D).then(v,g)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(v,D){i[v]&&(r[v]=function(I){return new Promise(function(E,A){o.push([v,I,E,A])>1||l(v,I)})},D&&(r[v]=D(r[v])))}function l(v,D){try{!function d(v){v.value instanceof Ii?Promise.resolve(v.value.v).then(f,g):_(o[0][2],v)}(i[v](D))}catch(I){_(o[0][3],I)}}function f(v){l("next",v)}function g(v){l("throw",v)}function _(v,D){v(D),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:i,done:r}=yield Ii(t.read());if(r)return yield Ii(void 0);yield yield Ii(i)}}finally{t.releaseLock()}})}function zD(e){return Ne(e?.getReader)}function Vn(e){if(e instanceof Ge)return e;if(null!=e){if(BD(e))return function R4(e){return new Ge(n=>{const t=e[dd]();if(Ne(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(LD(e))return function F4(e){return new Ge(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(VD(e))return function L4(e){return new Ge(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Am)})}(e);if(jD(e))return qD(e);if(GD(e))return function V4(e){return new Ge(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(zD(e))return function B4(e){return qD($D(e))}(e)}throw UD(e)}function qD(e){return new Ge(n=>{(function j4(e,n){var t,i,r,o;return function kD(e,n,t,i){return new(t||(t=Promise))(function(o,s){function a(f){try{d(i.next(f))}catch(g){s(g)}}function l(f){try{d(i.throw(f))}catch(g){s(g)}}function d(f){f.done?o(f.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(f.value).then(a,l)}d((i=i.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=FD(e);!(i=yield t.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function oi(e,n,t,i=0,r=!1){const o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function WD(e,n=0){return at((t,i)=>{t.subscribe(Qe(i,r=>oi(i,e,()=>i.next(r),n),()=>oi(i,e,()=>i.complete(),n),r=>oi(i,e,()=>i.error(r),n)))})}function ZD(e,n=0){return at((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function QD(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ge(t=>{oi(t,n,()=>{const i=e[Symbol.asyncIterator]();oi(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ht(e,n){return n?function q4(e,n){if(null!=e){if(BD(e))return function U4(e,n){return Vn(e).pipe(ZD(n),WD(n))}(e,n);if(LD(e))return function G4(e,n){return new Ge(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}(e,n);if(VD(e))return function H4(e,n){return Vn(e).pipe(ZD(n),WD(n))}(e,n);if(jD(e))return QD(e,n);if(GD(e))return function $4(e,n){return new Ge(t=>{let i;return oi(t,n,()=>{i=e[HD](),oi(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Ne(i?.return)&&i.return()})}(e,n);if(zD(e))return function z4(e,n){return QD($D(e),n)}(e,n)}throw UD(e)}(e,n):Vn(e)}function ee(...e){return ht(e,lu(e))}function Nt(e,n,t=1/0){return Ne(n)?Nt((i,r)=>le((o,s)=>n(i,o,r,s))(Vn(e(i,r))),t):("number"==typeof n&&(t=n),at((i,r)=>function W4(e,n,t,i,r,o,s,a){const l=[];let d=0,f=0,g=!1;const _=()=>{g&&!l.length&&!d&&n.complete()},v=I=>d<i?D(I):l.push(I),D=I=>{o&&n.next(I),d++;let E=!1;Vn(t(I,f++)).subscribe(Qe(n,A=>{r?.(A),o?v(A):n.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;l.length&&d<i;){const A=l.shift();s?oi(n,s,()=>D(A)):D(A)}_()}catch(A){n.error(A)}}))};return e.subscribe(Qe(n,v,()=>{g=!0,_()})),()=>{a?.()}}(i,r,e,t)))}function _a(e,n){return Ne(n)?Nt(e,n,1):Nt(e,1)}function Ei(e,n){return at((t,i)=>{let r=0;t.subscribe(Qe(i,o=>e.call(n,o,r++)&&i.next(o)))})}function va(e){return at((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Bn(e,n){return at((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(Qe(i,l=>{r?.unsubscribe();let d=0;const f=o++;Vn(e(l,f)).subscribe(r=Qe(i,g=>i.next(n?n(l,g,f,d++):g),()=>{r=null,a()}))},()=>{s=!0,a()}))})}class cu{}class uu{}class on{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof on?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new on;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof on?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,t);const r=("a"===n.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class Z4{encodeKey(n){return YD(n)}encodeValue(n){return YD(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const Y4=/%(\d[a-f0-9])/gi,K4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YD(e){return encodeURIComponent(e).replace(Y4,(n,t)=>K4[t]??n)}function du(e){return`${e}`}class Ni{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Z4,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Q4(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const i=n.fromObject[t],r=Array.isArray(i)?i.map(du):[du(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Ni({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(du(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(du(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class J4{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function KD(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function JD(e){return typeof Blob<"u"&&e instanceof Blob}function XD(e){return typeof FormData<"u"&&e instanceof FormData}class ya{constructor(n,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function X4(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new on,this.context??=new J4,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ni,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||KD(this.body)||JD(this.body)||XD(this.body)||function eB(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ni?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XD(this.body)?null:JD(this.body)?this.body.type||null:KD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ni?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=void 0!==n.body?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress;let d=n.headers||this.headers,f=n.params||this.params;const g=n.context??this.context;return void 0!==n.setHeaders&&(d=Object.keys(n.setHeaders).reduce((_,v)=>_.set(v,n.setHeaders[v]),d)),n.setParams&&(f=Object.keys(n.setParams).reduce((_,v)=>_.set(v,n.setParams[v]),f)),new ya(t,i,s,{params:f,headers:d,context:g,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}}var xi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(xi||{});class mg{constructor(n,t=200,i="OK"){this.headers=n.headers||new on,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class hu extends mg{constructor(n={}){super(n),this.type=xi.ResponseHeader}clone(n={}){return new hu({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class hr extends mg{constructor(n={}){super(n),this.type=xi.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new hr({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Oo extends mg{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function _g(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let rt=(()=>{class e{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof ya)o=t;else{let l,d;l=r.headers instanceof on?r.headers:new on(r.headers),r.params&&(d=r.params instanceof Ni?r.params:new Ni({fromObject:r.params})),o=new ya(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=ee(o).pipe(_a(l=>this.handler.handle(l)));if(t instanceof ya||"events"===r.observe)return s;const a=s.pipe(Ei(l=>l instanceof hr));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(le(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(le(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(le(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(le(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ni).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,_g(r,i))}post(t,i,r={}){return this.request("POST",t,_g(r,i))}put(t,i,r={}){return this.request("PUT",t,_g(r,i))}static{this.\u0275fac=function(i){return new(i||e)(Y(cu))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();const iB=/^\)\]\}',?\n/;function t0(e){if(e.url)return e.url;const n="X-Request-URL".toLocaleLowerCase();return e.headers.get(n)}let vg=(()=>{class e{constructor(){this.fetchImpl=F(oB,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=F(ye)}handle(t){return new Ge(i=>{const r=new AbortController;return this.doRequest(t,r.signal,i).then(yg,o=>i.error(new Oo({error:o}))),()=>r.abort()})}doRequest(t,i,r){var o=this;return PD(function*(){const s=o.createRequestInit(t);let a;try{const D=o.ngZone.runOutsideAngular(()=>o.fetchImpl(t.urlWithParams,{signal:i,...s}));(function sB(e){e.then(yg,yg)})(D),r.next({type:xi.Sent}),a=yield D}catch(D){return void r.error(new Oo({error:D,status:D.status??0,statusText:D.statusText,url:t.urlWithParams,headers:D.headers}))}const l=new on(a.headers),d=a.statusText,f=t0(a)??t.urlWithParams;let g=a.status,_=null;if(t.reportProgress&&r.next(new hu({headers:l,status:g,statusText:d,url:f})),a.body){const D=a.headers.get("content-length"),I=[],E=a.body.getReader();let x,j,A=0;const $=typeof Zone<"u"&&Zone.current;yield o.ngZone.runOutsideAngular(PD(function*(){for(;;){const{done:he,value:Le}=yield E.read();if(he)break;if(I.push(Le),A+=Le.length,t.reportProgress){j="text"===t.responseType?(j??"")+(x??=new TextDecoder).decode(Le,{stream:!0}):void 0;const ui=()=>r.next({type:xi.DownloadProgress,total:D?+D:void 0,loaded:A,partialText:j});$?$.run(ui):ui()}}}));const oe=o.concatChunks(I,A);try{const he=a.headers.get("Content-Type")??"";_=o.parseBody(t,oe,he)}catch(he){return void r.error(new Oo({error:he,headers:new on(a.headers),status:a.status,statusText:a.statusText,url:t0(a)??t.urlWithParams}))}}0===g&&(g=_?200:0),g>=200&&g<300?(r.next(new hr({body:_,headers:l,status:g,statusText:d,url:f})),r.complete()):r.error(new Oo({error:_,headers:l,status:g,statusText:d,url:f}))})()}parseBody(t,i,r){switch(t.responseType){case"json":const o=(new TextDecoder).decode(i).replace(iB,"");return""===o?null:JSON.parse(o);case"text":return(new TextDecoder).decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){const i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>i[o]=s.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){const o=t.detectContentTypeHeader();null!==o&&(i["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){const r=new Uint8Array(i);let o=0;for(const s of t)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();class oB{}function yg(){}function n0(e,n){return n(e)}function aB(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}const cB=new V(""),Ca=new V(""),r0=new V(""),o0=new V("",{providedIn:"root",factory:()=>!0});function uB(){let e=null;return(n,t)=>{null===e&&(e=(F(cB,{optional:!0})??[]).reduceRight(aB,n0));const i=F(Jn);if(F(o0)){const o=i.add();return e(n,t).pipe(va(()=>i.remove(o)))}return e(n,t)}}let s0=(()=>{class e extends cu{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=F(Jn),this.contributeToStability=F(o0)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ca),...this.injector.get(r0,[])]));this.chain=i.reduceRight((r,o)=>function lB(e,n,t){return(i,r)=>Wn(t,()=>n(i,o=>e(o,r)))}(r,o,this.injector),n0)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(va(()=>this.pendingTasks.remove(i)))}return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||e)(Y(uu),Y(Rt))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();const gB=/^\)\]\}',?\n/;let l0=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new R(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?ht(i.\u0275loadImpl()):ee(null)).pipe(Bn(()=>new Ge(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((I,E)=>s.setRequestHeader(I,E.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const I=t.detectContentTypeHeader();null!==I&&s.setRequestHeader("Content-Type",I)}if(t.responseType){const I=t.responseType.toLowerCase();s.responseType="json"!==I?I:"text"}const a=t.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const I=s.statusText||"OK",E=new on(s.getAllResponseHeaders()),A=function mB(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new hu({headers:E,status:s.status,statusText:I,url:A}),l},f=()=>{let{headers:I,status:E,statusText:A,url:x}=d(),j=null;204!==E&&(j=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=j?200:0);let $=E>=200&&E<300;if("json"===t.responseType&&"string"==typeof j){const oe=j;j=j.replace(gB,"");try{j=""!==j?JSON.parse(j):null}catch(he){j=oe,$&&($=!1,j={error:he,text:j})}}$?(o.next(new hr({body:j,headers:I,status:E,statusText:A,url:x||void 0})),o.complete()):o.error(new Oo({error:j,headers:I,status:E,statusText:A,url:x||void 0}))},g=I=>{const{url:E}=d(),A=new Oo({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(A)};let _=!1;const v=I=>{_||(o.next(d()),_=!0);let E={type:xi.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(E.total=I.total),"text"===t.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},D=I=>{let E={type:xi.UploadProgress,loaded:I.loaded};I.lengthComputable&&(E.total=I.total),o.next(E)};return s.addEventListener("load",f),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:xi.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",f),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(Y(aD))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();const Cg=new V(""),c0=new V("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),u0=new V("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class d0{}let yB=(()=>{class e{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=JM(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(Y(mn),Y(_i),Y(c0))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();function CB(e,n){const t=e.url.toLowerCase();if(!F(Cg)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const i=F(d0).getToken(),r=F(u0);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var Pi=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Pi||{});function fr(e,n){return{\u0275kind:e,\u0275providers:n}}function h0(...e){const n=[rt,l0,s0,{provide:cu,useExisting:s0},{provide:uu,useFactory:()=>F(vg,{optional:!0})??F(l0)},{provide:Ca,useValue:CB,multi:!0},{provide:Cg,useValue:!0},{provide:d0,useClass:yB}];for(const t of e)n.push(...t.\u0275providers);return Or(n)}const f0=new V("");let MB=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kr({type:e})}static{this.\u0275inj=Bi({providers:[h0(fr(Pi.LegacyInterceptors,[{provide:f0,useFactory:uB},{provide:Ca,useExisting:f0,multi:!0}]))]})}}return e})();const pu=nd(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:kB}=Array,{getPrototypeOf:OB,prototype:RB,keys:FB}=Object;function b0(e){if(1===e.length){const n=e[0];if(kB(n))return{args:n,keys:null};if(function LB(e){return e&&"object"==typeof e&&OB(e)===RB}(n)){const t=FB(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}const{isArray:VB}=Array;function w0(e){return le(n=>function BB(e,n){return VB(n)?e(...n):e(n)}(e,n))}function M0(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function D0(...e){const n=lu(e),t=AD(e),{args:i,keys:r}=b0(e);if(0===i.length)return ht([],n);const o=new Ge(function jB(e,n,t=Vi){return i=>{S0(n,()=>{const{length:r}=e,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)S0(n,()=>{const d=ht(e[l],n);let f=!1;d.subscribe(Qe(i,g=>{o[l]=g,f||(f=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>M0(r,s):Vi));return t?o.pipe(w0(t)):o}function S0(e,n,t){e?oi(t,e,n):n()}function wg(...e){return function UB(){return function bg(e=1/0){return Nt(Vi,e)}(1)}()(ht(e,lu(e)))}function T0(e){return new Ge(n=>{Vn(e()).subscribe(n)})}function gu(e,n){const t=Ne(e)?e:()=>e,i=r=>r.error(t());return new Ge(n?r=>n.schedule(i,0,r):i)}const jn=new Ge(e=>e.complete());function Mg(){return at((e,n)=>{let t=null;e._refCount++;const i=Qe(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}class I0 extends Ge{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Fm(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ct;const t=this.getSubject();n.add(this.source.subscribe(Qe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ct.EMPTY)}return n}refCount(){return Mg()(this)}}function Ro(e){return e<=0?()=>jn:at((n,t)=>{let i=0;n.subscribe(Qe(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function mu(e){return at((n,t)=>{let i=!1;n.subscribe(Qe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function E0(e=$B){return at((n,t)=>{let i=!1;n.subscribe(Qe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function $B(){return new pu}function pr(e,n){const t=arguments.length>=2;return i=>i.pipe(e?Ei((r,o)=>e(r,o,i)):Vi,Ro(1),t?mu(n):E0(()=>new pu))}function xt(e,n,t){const i=Ne(e)||n||t?{next:e,error:n,complete:t}:e;return i?at((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Qe(o,l=>{var d;null===(d=i.next)||void 0===d||d.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,l),o.error(l)},()=>{var l,d;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):Vi}function gr(e){return at((n,t)=>{let o,i=null,r=!1;i=n.subscribe(Qe(t,void 0,void 0,s=>{o=Vn(e(s,gr(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Dg(e){return e<=0?()=>jn:at((n,t)=>{let i=[];n.subscribe(Qe(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}const ne="primary",ba=Symbol("RouteTitle");class YB{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fo(e){return new YB(e)}function KB(e,n,t){const i=t.path.split("/");if(i.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=e[o];if(":"===s[0])r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Un(e,n){const t=e?Sg(e):void 0,i=n?Sg(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!N0(e[r],n[r]))return!1;return!0}function Sg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function N0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}return e===n}function x0(e){return e.length>0?e[e.length-1]:null}function Ai(e){return function AB(e){return!!e&&(e instanceof Ge||Ne(e.lift)&&Ne(e.subscribe))}(e)?e:oa(e)?ht(Promise.resolve(e)):ee(e)}const XB={exact:function k0(e,n,t){if(!_r(e.segments,n.segments)||!_u(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!k0(e.children[i],n.children[i],t))return!1;return!0},subset:O0},P0={exact:function ej(e,n){return Un(e,n)},subset:function tj(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>N0(e[t],n[t]))},ignored:()=>!0};function A0(e,n,t){return XB[t.paths](e.root,n.root,t.matrixParams)&&P0[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function O0(e,n,t){return R0(e,n,n.segments,t)}function R0(e,n,t,i){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!_r(r,t)||n.hasChildren()||!_u(r,t,i))}if(e.segments.length===t.length){if(!_r(e.segments,t)||!_u(e.segments,t,i))return!1;for(const r in n.children)if(!e.children[r]||!O0(e.children[r],n.children[r],i))return!1;return!0}{const r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(_r(e.segments,r)&&_u(e.segments,r,i)&&e.children[ne])&&R0(e.children[ne],n,o,i)}}function _u(e,n,t){return n.every((i,r)=>P0[t](e[r].parameters,i.parameters))}class mr{constructor(n=new be([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){return rj.serialize(this)}}class be{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yu(this)}}class wa{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Fo(this.parameters),this._parameterMap}toString(){return V0(this)}}function _r(e,n){return e.length===n.length&&e.every((t,i)=>t.path===n[i].path)}let Lo=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:()=>new vu,providedIn:"root"})}}return e})();class vu{parse(n){const t=new gj(n);return new mr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Ma(n.root,!0)}`,i=function aj(e){const n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Cu(t)}=${Cu(r)}`).join("&"):`${Cu(t)}=${Cu(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${i}${"string"==typeof n.fragment?`#${function oj(e){return encodeURI(e)}(n.fragment)}`:""}`}}const rj=new vu;function yu(e){return e.segments.map(n=>V0(n)).join("/")}function Ma(e,n){if(!e.hasChildren())return yu(e);if(n){const t=e.children[ne]?Ma(e.children[ne],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==ne&&i.push(`${r}:${Ma(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function ij(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===ne&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==ne&&(t=t.concat(n(r,i)))}),t}(e,(i,r)=>r===ne?[Ma(e.children[ne],!1)]:[`${r}:${Ma(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ne]?`${yu(e)}/${t[0]}`:`${yu(e)}/(${t.join("//")})`}}function F0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cu(e){return F0(e).replace(/%3B/gi,";")}function Tg(e){return F0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bu(e){return decodeURIComponent(e)}function L0(e){return bu(e.replace(/\+/g,"%20"))}function V0(e){return`${Tg(e.path)}${function sj(e){return Object.entries(e).map(([n,t])=>`;${Tg(n)}=${Tg(t)}`).join("")}(e.parameters)}`}const lj=/^[^\/()?;#]+/;function Ig(e){const n=e.match(lj);return n?n[0]:""}const cj=/^[^\/()?;=#]+/,dj=/^[^=?&#]+/,fj=/^[^&#]+/;class gj{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[ne]=new be(n,t)),i}parseSegment(){const n=Ig(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(n),new wa(bu(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function uj(e){const n=e.match(cj);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Ig(this.remaining);r&&(i=r,this.capture(i))}n[bu(t)]=bu(i)}parseQueryParam(n){const t=function hj(e){const n=e.match(dj);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function pj(e){const n=e.match(fj);return n?n[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=L0(t),o=L0(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ig(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new R(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=ne);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ne]:new be([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new R(4011,!1)}}function B0(e){return e.segments.length>0?new be([],{[ne]:e}):e}function j0(e){const n={};for(const[i,r]of Object.entries(e.children)){const o=j0(r);if(i===ne&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}return function mj(e){if(1===e.numberOfChildren&&e.children[ne]){const n=e.children[ne];return new be(e.segments.concat(n.segments),n.children)}return e}(new be(e.segments,n))}function vr(e){return e instanceof mr}function U0(e){let n;const r=B0(function t(o){const s={};for(const l of o.children){const d=t(l);s[l.outlet]=d}const a=new be(o.url,s);return o===e&&(n=a),a}(e.root));return n??r}function H0(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(0===n.length)return Eg(r,r,r,t,i);const o=function vj(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new $0(!0,0,e);let n=0,t=!1;const i=e.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new $0(t,n,i)}(n);if(o.toRoot())return Eg(r,r,new be([],{}),t,i);const s=function yj(e,n,t){if(e.isAbsolute)return new Mu(n,!0,0);if(!t)return new Mu(n,!1,NaN);if(null===t.parent)return new Mu(t,!0,0);const i=wu(e.commands[0])?0:1;return function Cj(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new R(4005,!1);r=i.segments.length}return new Mu(i,!1,r-o)}(t,t.segments.length-1+i,e.numberOfDoubleDots)}(o,r,e),a=s.processChildren?Sa(s.segmentGroup,s.index,o.commands):z0(s.segmentGroup,s.index,o.commands);return Eg(r,s.segmentGroup,a,t,i)}function wu(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Da(e){return"object"==typeof e&&null!=e&&e.outlets}function Eg(e,n,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`}),s=e===n?t:G0(e,n,t);const a=B0(j0(s));return new mr(a,o,r)}function G0(e,n,t){const i={};return Object.entries(e.children).forEach(([r,o])=>{i[r]=o===n?t:G0(o,n,t)}),new be(e.segments,i)}class $0{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&wu(i[0]))throw new R(4003,!1);const r=i.find(Da);if(r&&r!==x0(i))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mu{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}}function z0(e,n,t){if(e??=new be([],{}),0===e.segments.length&&e.hasChildren())return Sa(e,n,t);const i=function wj(e,n,t){let i=0,r=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;const s=e.segments[r],a=t[i];if(Da(a))break;const l=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!W0(l,d,s))return o;i+=2}else{if(!W0(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new be(e.segments.slice(0,i.pathIndex),{});return o.children[ne]=new be(e.segments.slice(i.pathIndex),e.children),Sa(o,0,r)}return i.match&&0===r.length?new be(e.segments,{}):i.match&&!e.hasChildren()?Ng(e,n,t):i.match?Sa(e,0,r):Ng(e,n,t)}function Sa(e,n,t){if(0===t.length)return new be(e.segments,{});{const i=function bj(e){return Da(e[0])?e[0].outlets:{[ne]:e}}(t),r={};if(Object.keys(i).some(o=>o!==ne)&&e.children[ne]&&1===e.numberOfChildren&&0===e.children[ne].segments.length){const o=Sa(e.children[ne],n,t);return new be(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=z0(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new be(e.segments,r)}}function Ng(e,n,t){const i=e.segments.slice(0,n);let r=0;for(;r<t.length;){const o=t[r];if(Da(o)){const l=Mj(o.outlets);return new be(i,l)}if(0===r&&wu(t[0])){i.push(new wa(e.segments[n].path,q0(t[0]))),r++;continue}const s=Da(o)?o.outlets[ne]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&wu(a)?(i.push(new wa(s,q0(a))),r+=2):(i.push(new wa(s,{})),r++)}return new be(i,{})}function Mj(e){const n={};return Object.entries(e).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[t]=Ng(new be([],{}),0,i))}),n}function q0(e){const n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function W0(e,n,t){return e==t.path&&Un(n,t.parameters)}const Ta="imperative";var ce=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ce||{});class Hn{constructor(n,t){this.id=n,this.url=t}}class xg extends Hn{constructor(n,t,i="imperative",r=null){super(n,t),this.type=ce.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yr extends Hn{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=ce.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Kt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Kt||{}),Pg=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Pg||{});class Cr extends Hn{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=ce.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ia extends Hn{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=ce.NavigationSkipped}}class Ag extends Hn{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=ce.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Z0 extends Hn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=ce.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dj extends Hn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=ce.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sj extends Hn{constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=ce.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tj extends Hn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=ce.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ij extends Hn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=ce.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ej{constructor(n){this.route=n,this.type=ce.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nj{constructor(n){this.route=n,this.type=ce.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xj{constructor(n){this.snapshot=n,this.type=ce.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pj{constructor(n){this.snapshot=n,this.type=ce.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aj{constructor(n){this.snapshot=n,this.type=ce.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kj{constructor(n){this.snapshot=n,this.type=ce.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kg{}class Du{constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}}function yn(e){return e.outlet||ne}function Ea(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Bj{get injector(){return Ea(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new Na(this.rootInjector),this.attachRef=null}}let Na=(()=>{class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Bj(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||e)(Y(Rt))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class Q0{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Og(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){const t=Og(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Rg(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Rg(n,this._root).map(t=>t.value)}}function Og(e,n){if(e===n.value)return n;for(const t of n.children){const i=Og(e,t);if(i)return i}return null}function Rg(e,n){if(e===n.value)return[n];for(const t of n.children){const i=Rg(e,t);if(i.length)return i.unshift(n),i}return[]}class Cn{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vo(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class Y0 extends Q0{constructor(n,t){super(n),this.snapshot=t,Fg(this,n)}toString(){return this.snapshot.toString()}}function K0(e){const n=function jj(e){const o=new Tu([],{},{},"",{},ne,e,null,{});return new J0("",new Cn(o,[]))}(e),t=new Ut([new wa("",{})]),i=new Ut({}),r=new Ut({}),o=new Ut({}),s=new Ut(""),a=new Bo(t,i,o,s,r,ne,e,n.root);return a.snapshot=n.root,new Y0(new Cn(a,[]),n)}class Bo{constructor(n,t,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(le(d=>d[ba]))??ee(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(n=>Fo(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(n=>Fo(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Su(e,n,t="emptyOnly"){let i;const{routeConfig:r}=e;return i=null===n||"always"!==t&&""!==r?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...r?.data,...e._resolvedData}},r&&eS(r)&&(i.resolve[ba]=r.title),i}class Tu{get title(){return this.data?.[ba]}constructor(n,t,i,r,o,s,a,l,d){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class J0 extends Q0{constructor(n,t){super(t),this.url=n,Fg(this,t)}toString(){return X0(this._root)}}function Fg(e,n){n.value._routerState=e,n.children.forEach(t=>Fg(e,t))}function X0(e){const n=e.children.length>0?` { ${e.children.map(X0).join(", ")} } `:"";return`${e.value}${n}`}function Lg(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Un(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Un(n.params,t.params)||e.paramsSubject.next(t.params),function JB(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Un(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Un(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Vg(e,n){const t=Un(e.params,n.params)&&function nj(e,n){return _r(e,n)&&e.every((t,i)=>Un(t.parameters,n[i].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Vg(e.parent,n.parent))}function eS(e){return"string"==typeof e.title||null===e.title}let Iu=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=F(Na),this.location=F(fn),this.changeDetector=F(aa),this.inputBinder=F(Eu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Bg(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=K({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xt]})}}return e})();class Bg{__ngOutletInjector(n){return new Bg(this.route,this.childContexts,n)}constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===Bo?this.route:n===Na?this.childContexts:this.parent.get(n,t)}}const Eu=new V("");function xa(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=n.value;const r=function Hj(e,n,t){return n.children.map(i=>{for(const r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return xa(e,i,r);return xa(e,i)})}(e,n,t);return new Cn(i,r)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>xa(e,a)),s}}const i=function Gj(e){return new Bo(new Ut(e.url),new Ut(e.params),new Ut(e.queryParams),new Ut(e.fragment),new Ut(e.data),e.outlet,e.component,e)}(n.value),r=n.children.map(o=>xa(e,o));return new Cn(i,r)}}class jg{constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}}const nS="ngNavigationCancelingError";function Nu(e,n){const{redirectTo:t,navigationBehaviorOptions:i}=vr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=iS(!1,Kt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function iS(e,n){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[nS]=!0,t.cancellationCode=n,t}function rS(e){return!!e&&e[nS]}class qj{constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),Lg(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){const r=Vo(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){const r=n.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=Vo(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=Vo(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){const r=Vo(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new kj(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Pj(n.value.snapshot))}activateRoutes(n,t,i){const r=n.value,o=t?t.value:null;if(Lg(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lg(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}}class oS{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class xu{constructor(n,t){this.component=n,this.route=t}}function Wj(e,n,t){const i=e._root;return Pa(i,n?n._root:null,t,[i.value])}function jo(e,n){const t=Symbol(),i=n.get(e,t);return i===t?"function"!=typeof e||function nI(e){return null!==Xa(e)}(e)?n.get(e):e:i}function Pa(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Vo(n);return e.children.forEach(s=>{(function Qj(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Yj(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!_r(e.url,n.url);case"pathParamsOrQueryParamsChange":return!_r(e.url,n.url)||!Un(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vg(e,n)||!Un(e.queryParams,n.queryParams);default:return!Vg(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new oS(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Pa(e,n,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new xu(a.outlet.component,s))}else s&&Aa(n,a,r),r.canActivateChecks.push(new oS(i)),Pa(e,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Aa(a,t.getContext(s),r)),r}function Aa(e,n,t){const i=Vo(e),r=e.value;Object.entries(i).forEach(([o,s])=>{Aa(s,r.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new xu(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function ka(e){return"function"==typeof e}function sS(e){return e instanceof pu||"EmptyError"===e?.name}const Pu=Symbol("INITIAL_VALUE");function Uo(){return Bn(e=>D0(e.map(n=>n.pipe(Ro(1),function GB(...e){const n=lu(e);return at((t,i)=>{(n?wg(e,t,n):wg(e,t)).subscribe(i)})}(Pu)))).pipe(le(n=>{for(const t of n)if(!0!==t){if(t===Pu)return Pu;if(!1===t||i8(t))return t}return!0}),Ei(n=>n!==Pu),Ro(1)))}function i8(e){return vr(e)||e instanceof jg}function aS(e){return function qT(...e){return km(e)}(xt(n=>{if("boolean"!=typeof n)throw Nu(0,n)}),le(n=>!0===n))}class Ug{constructor(n){this.segmentGroup=n||null}}class Au extends Error{constructor(n){super(),this.urlTree=n}}function Ho(e){return gu(new Ug(e))}class m8{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ee(i);if(r.numberOfChildren>1||!r.children[ne])return gu(new R(4e3,!1));r=r.children[ne]}}applyRedirectCommands(n,t,i,r,o){if("string"!=typeof t){const a=t,{queryParams:l,fragment:d,routeConfig:f,url:g,outlet:_,params:v,data:D,title:I}=r,E=Wn(o,()=>a({params:v,data:D,queryParams:l,fragment:d,routeConfig:f,url:g,outlet:_,title:I}));if(E instanceof mr)throw new Au(E);t=E}const s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i);if("/"===t[0])throw new Au(s);return s}applyRedirectCreateUrlTree(n,t,i,r){const o=this.createSegmentGroup(n,t.root,i,r);return new mr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const i={};return Object.entries(n).forEach(([r,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){const o=this.createSegments(n,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new be(o,s)}createSegments(n,t,i,r){return t.map(o=>":"===o.path[0]?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){const r=i[t.path.substring(1)];if(!r)throw new R(4001,!1);return r}findOrReturn(n,t){let i=0;for(const r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}}const Hg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _8(e,n,t,i,r){const o=lS(e,n,t);return o.matched?(i=function Oj(e,n){return e.providers&&!e._injector&&(e._injector=$f(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,i),function f8(e,n,t,i){const r=n.canMatch;return r&&0!==r.length?ee(r.map(s=>{const a=jo(s,e);return Ai(function n8(e){return e&&ka(e.canMatch)}(a)?a.canMatch(n,t):Wn(e,()=>a(n,t)))})).pipe(Uo(),aS()):ee(!0)}(i,n,t).pipe(le(s=>!0===s?o:{...Hg}))):ee(o)}function lS(e,n,t){if("**"===n.path)return function v8(e){return{matched:!0,parameters:e.length>0?x0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...Hg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(n.matcher||KB)(t,e,n);if(!r)return{...Hg};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function cS(e,n,t,i){return t.length>0&&function b8(e,n,t){return t.some(i=>ku(e,n,i)&&yn(i)!==ne)}(e,t,i)?{segmentGroup:new be(n,C8(i,new be(t,e.children))),slicedSegments:[]}:0===t.length&&function w8(e,n,t){return t.some(i=>ku(e,n,i))}(e,t,i)?{segmentGroup:new be(e.segments,y8(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new be(e.segments,e.children),slicedSegments:t}}function y8(e,n,t,i){const r={};for(const o of t)if(ku(e,n,o)&&!i[yn(o)]){const s=new be([],{});r[yn(o)]=s}return{...i,...r}}function C8(e,n){const t={};t[ne]=n;for(const i of e)if(""===i.path&&yn(i)!==ne){const r=new be([],{});t[yn(i)]=r}return t}function ku(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class D8{}class I8{constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new m8(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new R(4002,`'${n.segmentGroup}'`)}recognize(){const n=cS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(le(({children:t,rootSnapshot:i})=>{const r=new Cn(i,t),o=new J0("",r),s=function _j(e,n,t=null,i=null){return H0(U0(e),n,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){const t=new Tu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,ne,t).pipe(le(i=>({children:i,rootSnapshot:t})),gr(i=>{if(i instanceof Au)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ug?this.noMatchError(i):i}))}processSegmentGroup(n,t,i,r,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,t,i,o):this.processSegment(n,t,i,i.segments,r,!0,o).pipe(le(s=>s instanceof Cn?[s]:[]))}processChildren(n,t,i,r){const o=[];for(const s of Object.keys(i.children))"primary"===s?o.unshift(s):o.push(s);return ht(o).pipe(_a(s=>{const a=i.children[s],l=function Vj(e,n){const t=e.filter(i=>yn(i)===n);return t.push(...e.filter(i=>yn(i)!==n)),t}(t,s);return this.processSegmentGroup(n,l,a,s,r)}),function qB(e,n){return at(function zB(e,n,t,i,r){return(o,s)=>{let a=t,l=n,d=0;o.subscribe(Qe(s,f=>{const g=d++;l=a?e(l,f,g):(a=!0,f),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(e,n,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),mu(null),function WB(e,n){const t=arguments.length>=2;return i=>i.pipe(e?Ei((r,o)=>e(r,o,i)):Vi,Dg(1),t?mu(n):E0(()=>new pu))}(),Nt(s=>{if(null===s)return Ho(i);const a=uS(s);return function E8(e){e.sort((n,t)=>n.value.outlet===ne?-1:t.value.outlet===ne?1:n.value.outlet.localeCompare(t.value.outlet))}(a),ee(a)}))}processSegment(n,t,i,r,o,s,a){return ht(t).pipe(_a(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,i,r,o,s,a).pipe(gr(d=>{if(d instanceof Ug)return ee(null);throw d}))),pr(l=>!!l),gr(l=>{if(sS(l))return function M8(e,n,t){return 0===n.length&&!e.children[t]}(i,r,o)?ee(new D8):Ho(i);throw l}))}processSegmentAgainstRoute(n,t,i,r,o,s,a,l){return yn(i)===s||s!==ne&&ku(r,o,i)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s,l):Ho(r):Ho(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s,a){const{matched:l,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=lS(t,r,o);if(!l)return Ho(t);"string"==typeof r.redirectTo&&"/"===r.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const v=new Tu(o,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dS(r),yn(r),r.component??r._loadedComponent??null,r,hS(r)),D=Su(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(D.params),v.data=Object.freeze(D.data);const I=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,g,v,n);return this.applyRedirects.lineralizeSegments(r,I).pipe(Nt(E=>this.processSegment(n,i,t,E.concat(_),s,!1,a)))}matchSegmentAgainstRoute(n,t,i,r,o,s){const a=_8(t,i,r,n);return"**"===i.path&&(t.children={}),a.pipe(Bn(l=>l.matched?this.getChildConfig(n=i._injector??n,i,r).pipe(Bn(({routes:d})=>{const f=i._loadedInjector??n,{parameters:g,consumedSegments:_,remainingSegments:v}=l,D=new Tu(_,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dS(i),yn(i),i.component??i._loadedComponent??null,i,hS(i)),I=Su(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(I.params),D.data=Object.freeze(I.data);const{segmentGroup:E,slicedSegments:A}=cS(t,_,v,d);if(0===A.length&&E.hasChildren())return this.processChildren(f,d,E,D).pipe(le(j=>new Cn(D,j)));if(0===d.length&&0===A.length)return ee(new Cn(D,[]));const x=yn(i)===o;return this.processSegment(f,d,E,A,x?ne:o,!0,D).pipe(le(j=>new Cn(D,j instanceof Cn?[j]:[])))})):Ho(t)))}getChildConfig(n,t,i){return t.children?ee({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?ee({routes:t._loadedRoutes,injector:t._loadedInjector}):function h8(e,n,t,i){const r=n.canLoad;return void 0===r||0===r.length?ee(!0):ee(r.map(s=>{const a=jo(s,e);return Ai(function Jj(e){return e&&ka(e.canLoad)}(a)?a.canLoad(n,t):Wn(e,()=>a(n,t)))})).pipe(Uo(),aS())}(n,t,i).pipe(Nt(r=>r?this.configLoader.loadChildren(n,t).pipe(xt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function g8(){return gu(iS(!1,Kt.GuardRejected))}())):ee({routes:[],injector:n})}}function N8(e){const n=e.value.routeConfig;return n&&""===n.path}function uS(e){const n=[],t=new Set;for(const i of e){if(!N8(i)){n.push(i);continue}const r=n.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):n.push(i)}for(const i of t){const r=uS(i.children);n.push(new Cn(i.value,r))}return n.filter(i=>!t.has(i))}function dS(e){return e.data||{}}function hS(e){return e.resolve||{}}function fS(e){const n=e.children.map(t=>fS(t)).flat();return[e,...n]}function Gg(e){return Bn(n=>{const t=e(n);return t?ht(t).pipe(le(()=>n)):ee(n)})}let pS=(()=>{class e{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ne);return i}getResolvedTitleForRoute(t){return t.data[ba]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:()=>F(R8),providedIn:"root"})}}return e})(),R8=(()=>{class e extends pS{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(Y(i4))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Oa=new V("",{providedIn:"root",factory:()=>({})});let gS=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Fe],decls:1,vars:0,template:function(i,r){1&i&&te(0,"router-outlet")},dependencies:[Iu],encapsulation:2})}}return e})();function $g(e){const n=e.children&&e.children.map($g),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=gS),t}const Ou=new V("");let mS=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(NF)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Ai(t.loadComponent()).pipe(le(_S),xt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),va(()=>{this.componentLoaders.delete(t)})),r=new I0(i,()=>new jt).pipe(Mg());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function F8(e,n,t,i){return Ai(e.loadChildren()).pipe(le(_S),Nt(r=>r instanceof db||Array.isArray(r)?ee(r):ht(n.compileModuleAsync(r))),le(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Ou,[],{optional:!0,self:!0}).flat()),{routes:s.map($g),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(va(()=>{this.childrenLoaders.delete(i)})),s=new I0(o,()=>new jt).pipe(Mg());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function _S(e){return function L8(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let zg=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:()=>F(V8),providedIn:"root"})}}return e})(),V8=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const vS=new V(""),CS=new V("");let Ru=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new jt,this.transitionAbortSubject=new jt,this.configLoader=F(mS),this.environmentInjector=F(Rt),this.urlSerializer=F(Lo),this.rootContexts=F(Na),this.location=F(ha),this.inputBindingEnabled=null!==F(Eu,{optional:!0}),this.titleStrategy=F(pS),this.options=F(Oa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(zg),this.createViewTransition=F(vS,{optional:!0}),this.navigationErrorHandler=F(CS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Nj(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Ej(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Ut({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ta,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ei(o=>0!==o.id),le(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Bn(o=>{let s=!1,a=!1;return ee(o).pipe(Bn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Kt.SupersededByNewNavigation),jn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:"string"==typeof l.extras.browserUrl?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Ia(l.id,this.urlSerializer.serialize(l.rawUrl),g,Pg.IgnoredSameUrlNavigation)),l.resolve(!1),jn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ee(l).pipe(Bn(g=>{const _=this.transitions?.getValue();return this.events.next(new xg(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?jn:Promise.resolve(g)}),function x8(e,n,t,i,r,o){return Nt(s=>function S8(e,n,t,i,r,o,s="emptyOnly"){return new I8(e,n,t,i,r,s,o).recognize()}(e,n,t,i,s.extractedUrl,r,o).pipe(le(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),xt(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const _=new Z0(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:_,source:v,restoredState:D,extras:I}=l,E=new xg(g,this.urlSerializer.serialize(_),v,D);this.events.next(E);const A=K0(this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:A,urlAfterRedirects:_,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=_,ee(o)}{const g="";return this.events.next(new Ia(l.id,this.urlSerializer.serialize(l.extractedUrl),g,Pg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),jn}}),xt(l=>{const d=new Dj(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),le(l=>(this.currentTransition=o={...l,guards:Wj(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function r8(e,n){return Nt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?ee({...t,guardsResult:!0}):function o8(e,n,t,i){return ht(e).pipe(Nt(r=>function d8(e,n,t,i,r){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?ee(o.map(a=>{const l=Ea(n)??r,d=jo(a,l);return Ai(function t8(e){return e&&ka(e.canDeactivate)}(d)?d.canDeactivate(e,n,t,i):Wn(l,()=>d(e,n,t,i))).pipe(pr())})).pipe(Uo()):ee(!0)}(r.component,r.route,t,n,i)),pr(r=>!0!==r,!0))}(s,i,r,e).pipe(Nt(a=>a&&function Kj(e){return"boolean"==typeof e}(a)?function s8(e,n,t,i){return ht(n).pipe(_a(r=>wg(function l8(e,n){return null!==e&&n&&n(new xj(e)),ee(!0)}(r.route.parent,i),function a8(e,n){return null!==e&&n&&n(new Aj(e)),ee(!0)}(r.route,i),function u8(e,n,t){const i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function Zj(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>T0(()=>ee(s.guards.map(l=>{const d=Ea(s.node)??t,f=jo(l,d);return Ai(function e8(e){return e&&ka(e.canActivateChild)}(f)?f.canActivateChild(i,e):Wn(d,()=>f(i,e))).pipe(pr())})).pipe(Uo())));return ee(o).pipe(Uo())}(e,r.path,t),function c8(e,n,t){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return ee(!0);const r=i.map(o=>T0(()=>{const s=Ea(n)??t,a=jo(o,s);return Ai(function Xj(e){return e&&ka(e.canActivate)}(a)?a.canActivate(n,e):Wn(s,()=>a(n,e))).pipe(pr())}));return ee(r).pipe(Uo())}(e,r.route,t))),pr(r=>!0!==r,!0))}(i,o,e,n):ee(a)),le(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),xt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&"boolean"!=typeof l.guardsResult)throw Nu(0,l.guardsResult);const d=new Sj(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Ei(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",Kt.GuardRejected),!1)),Gg(l=>{if(l.guards.canActivateChecks.length)return ee(l).pipe(xt(d=>{const f=new Tj(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Bn(d=>{let f=!1;return ee(d).pipe(function P8(e,n){return Nt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ee(t);const o=new Set(r.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const d of fS(l))s.add(d);let a=0;return ht(s).pipe(_a(l=>o.has(l)?function A8(e,n,t,i){const r=e.routeConfig,o=e._resolve;return void 0!==r?.title&&!eS(r)&&(o[ba]=r.title),function k8(e,n,t,i){const r=Sg(e);if(0===r.length)return ee({});const o={};return ht(r).pipe(Nt(s=>function O8(e,n,t,i){const r=Ea(n)??i,o=jo(e,r);return Ai(o.resolve?o.resolve(n,t):Wn(r,()=>o(n,t)))}(e[s],n,t,i).pipe(pr(),xt(a=>{if(a instanceof jg)throw Nu(new vu,a);o[s]=a}))),Dg(1),function ZB(e){return le(()=>e)}(o),gr(s=>sS(s)?jn:gu(s)))}(o,e,n,i).pipe(le(s=>(e._resolvedData=s,e.data=Su(e,e.parent,t).resolve,null)))}(l,i,e,n):(l.data=Su(l,l.parent,e).resolve,ee(void 0))),xt(()=>a++),Dg(1),Nt(l=>a===s.size?ee(t):jn))})}(this.paramsInheritanceStrategy,this.environmentInjector),xt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Kt.NoDataFromResolver)}}))}),xt(d=>{const f=new Ij(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),Gg(l=>{const d=f=>{const g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(xt(_=>{f.component=_}),le(()=>{})));for(const _ of f.children)g.push(...d(_));return g};return D0(d(l.targetSnapshot.root)).pipe(mu(null),Ro(1))}),Gg(()=>this.afterPreactivation()),Bn(()=>{const{currentSnapshot:l,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?ht(f).pipe(le(()=>o)):ee(o)}),le(l=>{const d=function Uj(e,n,t){const i=xa(e,n._root,t?t._root:void 0);return new Y0(i,n)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:d},this.currentNavigation.targetRouterState=d,o}),xt(()=>{this.events.next(new kg)}),((e,n,t,i)=>le(r=>(new qj(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ro(1),xt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function QB(e){return at((n,t)=>{Vn(e).subscribe(Qe(t,()=>t.complete(),od)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(xt(l=>{throw l}))),va(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),gr(l=>{if(a=!0,rS(l))this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function $j(e){return rS(e)&&vr(e.url)}(l)?this.events.next(new Du(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{const d=new Ag(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{const f=Wn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof jg){const{message:g,cancellationCode:_}=Nu(0,f);this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),g,_)),this.events.next(new Du(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);const g=t.errorHandler(l);o.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return jn}))}))}cancelNavigationTransition(t,i,r){const o=new Cr(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function U8(e){return e!==Ta}let H8=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:()=>F($8),providedIn:"root"})}}return e})();class G8{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let $8=(()=>{class e extends G8{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=it(e)))(r||e)}})()}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bS=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:()=>F(z8),providedIn:"root"})}}return e})(),z8=(()=>{class e extends bS{constructor(){super(...arguments),this.location=F(ha),this.urlSerializer=F(Lo),this.options=F(Oa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(zg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=K0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof xg)this.stateMemento=this.createStateMemento();else if(t instanceof Ia)this.rawUrlTree=i.initialUrl;else if(t instanceof Z0){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof kg?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof Cr&&(t.code===Kt.GuardRejected||t.code===Kt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Ag?this.restoreHistory(i,!0):t instanceof yr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=t instanceof mr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=it(e)))(r||e)}})()}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ra=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ra||{});function q8(e){throw e}const W8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Z8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Uw),this.stateManager=F(bS),this.options=F(Oa,{optional:!0})||{},this.pendingTasks=F(Jn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(Ru),this.urlSerializer=F(Lo),this.location=F(ha),this.urlHandlingStrategy=F(zg),this._events=new jt,this.errorHandler=this.options.errorHandler||q8,this.navigated=!1,this.routeReuseStrategy=F(H8),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Ou,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(Eu,{optional:!0}),this.eventsSubscription=new Ct,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Cr&&i.code!==Kt.Redirect&&i.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof yr)this.navigated=!0;else if(i instanceof Du){const s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l={browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||"eager"===this.urlUpdateStrategy||U8(r.source),...s};this.scheduleNavigation(a,Ta,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function Y8(e){return!(e instanceof kg||e instanceof Du)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ta,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map($g),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:s;let g,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}null!==f&&(f=this.removeEmptyProps(f));try{g=U0(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),g=this.currentUrlTree.root}return H0(g,t,f,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=vr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Ta,null,i)}navigate(t,i={skipLocationChange:!1}){return function Q8(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new R(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...W8}:!1===i?{...Z8}:i,vr(t))return A0(this.currentUrlTree,t,r);const o=this.parseUrl(t);return A0(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((g,_)=>{a=g,l=_});const f=this.pendingTasks.add();return function wS(e,n){e.events.pipe(Ei(t=>t instanceof yr||t instanceof Cr||t instanceof Ag||t instanceof Ia),le(t=>t instanceof yr||t instanceof Ia?Ra.COMPLETE:t instanceof Cr&&(t.code===Kt.Redirect||t.code===Kt.SupersededByNewNavigation)?Ra.REDIRECTING:Ra.FAILED),Ei(t=>t!==Ra.REDIRECTING),Ro(1)).subscribe(()=>{n()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Fu=(()=>{class e{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new jt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof yr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null==t?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=vr(t)||Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const i=null===this.href?null:function dy(e,n,t){return function p2(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?uy:Hh}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.routerLinkInput?null:vr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||e)(O(si),O(Bo),function us(e){return function VE(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(e_(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===n)return t[r+1];r+=2}}}return null}(ve(),e)}("tabindex"),O(ni),O(qt),O(zc))}}static{this.\u0275dir=K({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&T("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&kn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Po],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Po],replaceUrl:[2,"replaceUrl","replaceUrl",Po],routerLink:"routerLink"},standalone:!0,features:[ub,Xt]})}}return e})();const qg=new V("");function DS(e){return e.routerState.root}function SS(){const e=F(dt);return n=>{const t=e.get(Fn);if(n!==t.components[0])return;const i=e.get(si),r=e.get(TS);1===e.get(Wg)&&i.initialNavigation(),e.get(IS,null,ae.Optional)?.setUpPreloading(),e.get(qg,null,ae.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const TS=new V("",{factory:()=>new jt}),Wg=new V("",{providedIn:"root",factory:()=>1}),IS=new V("");let oU=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-root"]],standalone:!0,features:[Fe],decls:1,vars:0,template:function(i,r){1&i&&te(0,"router-outlet")},dependencies:[Iu]})}}return e})(),NS=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||e)(O(ni),O(qt))}}static{this.\u0275dir=K({type:e})}}return e})(),br=(()=>{class e extends NS{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=it(e)))(r||e)}})()}static{this.\u0275dir=K({type:e,features:[Ce]})}}return e})();const $n=new V(""),aU={provide:$n,useExisting:De(()=>Fa),multi:!0};let Fa=(()=>{class e extends br{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=it(e)))(r||e)}})()}static{this.\u0275dir=K({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&T("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Oe([aU]),Ce]})}}return e})();const lU={provide:$n,useExisting:De(()=>ot),multi:!0},uU=new V("");let ot=(()=>{class e extends NS{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cU(){const e=Ti()?Ti().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||e)(O(ni),O(qt),O(uU,8))}}static{this.\u0275dir=K({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&T("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Oe([lU]),Ce]})}}return e})();function ki(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}const vt=new V(""),Oi=new V("");function kS(e){return ki(e.value)?{required:!0}:null}function Lu(e){return null}function BS(e){return null!=e}function jS(e){return oa(e)?ht(e):e}function US(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function HS(e,n){return n.map(t=>t(e))}function GS(e){return e.map(n=>function hU(e){return!e.validate}(n)?n:t=>n.validate(t))}function Zg(e){return null!=e?function $S(e){if(!e)return null;const n=e.filter(BS);return 0==n.length?null:function(t){return US(HS(t,n))}}(GS(e)):null}function Qg(e){return null!=e?function zS(e){if(!e)return null;const n=e.filter(BS);return 0==n.length?null:function(t){return function sU(...e){const n=AD(e),{args:t,keys:i}=b0(e),r=new Ge(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,d=s;for(let f=0;f<s;f++){let g=!1;Vn(t[f]).subscribe(Qe(o,_=>{g||(g=!0,d--),a[f]=_},()=>l--,void 0,()=>{(!l||!g)&&(d||o.next(i?M0(i,a):a),o.complete())}))}});return n?r.pipe(w0(n)):r}(HS(t,n).map(jS)).pipe(le(US))}}(GS(e)):null}function qS(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Yg(e){return e?Array.isArray(e)?e:[e]:[]}function Vu(e,n){return Array.isArray(e)?e.includes(n):e===n}function QS(e,n){const t=Yg(n);return Yg(e).forEach(r=>{Vu(t,r)||t.push(r)}),t}function YS(e,n){return Yg(n).filter(t=>!Vu(e,t))}class KS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Zg(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Qg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Pt extends KS{get formDirective(){return null}get path(){return null}}class Ri extends KS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class JS{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let ft=(()=>{class e extends JS{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(O(Ri,2))}}static{this.\u0275dir=K({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]})}}return e})(),Kg=(()=>{class e extends JS{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(O(Pt,10))}}static{this.\u0275dir=K({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]})}}return e})();const La="VALID",ju="INVALID",Go="PENDING",Va="DISABLED";class $o{}class eT extends $o{constructor(n,t){super(),this.value=n,this.source=t}}class em extends $o{constructor(n,t){super(),this.pristine=n,this.source=t}}class tm extends $o{constructor(n,t){super(),this.touched=n,this.source=t}}class Uu extends $o{constructor(n,t){super(),this.status=n,this.source=t}}function nm(e){return(Hu(e)?e.validators:e)||null}function im(e,n){return(Hu(n)?n.asyncValidators:e)||null}function Hu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class rm{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=da(()=>this.statusReactive()),this.statusReactive=ro(void 0),this._pristine=da(()=>this.pristineReactive()),this.pristineReactive=ro(!0),this._touched=da(()=>this.touchedReactive()),this.touchedReactive=ro(!1),this._events=new jt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Ln(this.statusReactive)}set status(n){Ln(()=>this.statusReactive.set(n))}get valid(){return this.status===La}get invalid(){return this.status===ju}get pending(){return this.status==Go}get disabled(){return this.status===Va}get enabled(){return this.status!==Va}get pristine(){return Ln(this.pristineReactive)}set pristine(n){Ln(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return Ln(this.touchedReactive)}set touched(n){Ln(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(QS(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(QS(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(YS(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(YS(n,this._rawAsyncValidators))}hasValidator(n){return Vu(this._rawValidators,n)}hasAsyncValidator(n){return Vu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const t=!1===this.touched;this.touched=!0;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:i}),t&&!1!==n.emitEvent&&this._events.next(new tm(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&!1!==n.emitEvent&&this._events.next(new tm(!1,i))}markAsDirty(n={}){const t=!0===this.pristine;this.pristine=!1;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:i}),t&&!1!==n.emitEvent&&this._events.next(new em(!1,i))}markAsPristine(n={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&!1!==n.emitEvent&&this._events.next(new em(!0,i))}markAsPending(n={}){this.status=Go;const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new Uu(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:t})}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Va,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue();const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new eT(this.value,i)),this._events.next(new Uu(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=La,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===La||this.status===Go)&&this._runAsyncValidator(i,n.emitEvent)}const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new eT(this.value,t)),this._events.next(new Uu(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:t})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Va:La}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Go,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const i=jS(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Uu(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Va:this.errors?ju:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Go)?Go:this._anyControlsHaveStatus(ju)?ju:La}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),r&&this._events.next(new em(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new tm(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Hu(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function yU(e){return Array.isArray(e)?Zg(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function CU(e){return Array.isArray(e)?Qg(e):e||null}(this._rawAsyncValidators)}}class om extends rm{constructor(n,t,i){super(nm(t),im(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){(function nT(e,n,t){e._forEachChild((i,r)=>{if(void 0===t[r])throw new R(1002,"")})})(this,0,n),Object.keys(n).forEach(i=>{(function tT(e,n,t){const i=e.controls;if(!(n?Object.keys(i):i).length)throw new R(1e3,"");if(!i[t])throw new R(1001,"")})(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const zo=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Gu}),Gu="always";function Ba(e,n,t=Gu){sm(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function MU(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&iT(e,n)})}(e,n),function SU(e,n){const t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function DU(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&iT(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function wU(e,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function qu(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function sm(e,n){const t=function WS(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(qS(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const i=function ZS(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(qS(i,n.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();qu(n._rawValidators,r),qu(n._rawAsyncValidators,r)}function iT(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const xU={provide:Pt,useExisting:De(()=>Ua)},ja=Promise.resolve();let Ua=(()=>{class e extends Pt{get submitted(){return Ln(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=da(()=>this.submittedReactive()),this.submittedReactive=ro(!1),this._directives=new Set,this.ngSubmit=new Re,this.form=new om({},Zg(t),Qg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ja.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Ba(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ja.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ja.then(()=>{const i=this._findContainer(t.path),r=new om({});(function rT(e,n){sm(e,n)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ja.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ja.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),function oT(e,n){e._syncPendingControls(),n.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||e)(O(vt,10),O(Oi,10),O(zo,8))}}static{this.\u0275dir=K({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&T("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([xU]),Ce]})}}return e})();function sT(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function aT(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const lT=class extends rm{constructor(n=null,t,i){super(nm(t),im(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=aT(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){sT(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){sT(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){aT(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},kU={provide:Ri,useExisting:De(()=>st)},dT=Promise.resolve();let st=(()=>{class e extends Ri{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new lT,this._registered=!1,this.name="",this.update=new Re,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function cm(e,n){if(!n)return null;let t,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===ot?t=o:function EU(e){return Object.getPrototypeOf(e.constructor)===br}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function lm(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ba(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){dT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Po(i);dT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function $u(e,n){return[...n.path,e]}(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||e)(O(Pt,9),O(vt,10),O(Oi,10),O($n,10),O(aa,8),O(zo,8))}}static{this.\u0275dir=K({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oe([kU]),Ce,Xt]})}}return e})(),um=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=K({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();const OU={provide:$n,useExisting:De(()=>ai),multi:!0};let ai=(()=>{class e extends br{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=it(e)))(r||e)}})()}static{this.\u0275dir=K({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&T("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Oe([OU]),Ce]})}}return e})();const RU={provide:$n,useExisting:De(()=>Zu),multi:!0};let FU=(()=>{class e{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t)return void this._accessors.splice(i,1)}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return!!t[0].control&&t[0]._parent===i._control._parent&&t[1].name===i.name}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Zu=(()=>{class e extends br{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=F(zo,{optional:!0})??Gu}ngOnInit(){this._control=this._injector.get(Ri),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||e)(O(ni),O(qt),O(FU),O(dt))}}static{this.\u0275dir=K({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&T("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Oe([RU]),Ce]})}}return e})();const GU={provide:$n,useExisting:De(()=>bn),multi:!0};function _T(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let bn=(()=>{class e extends br{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=_T(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function $U(e){return e.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=it(e)))(r||e)}})()}static{this.\u0275dir=K({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&T("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Oe([GU]),Ce]})}}return e})(),li=(()=>{class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(_T(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||e)(O(qt),O(ni),O(bn,9))}}static{this.\u0275dir=K({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const zU={provide:$n,useExisting:De(()=>Qu),multi:!0};function vT(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Qu=(()=>{class e extends br{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const d=this._getOptionValue(s[a].value);r.push(d)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const d=this._getOptionValue(l.value);r.push(d)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function qU(e){return e.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=it(e)))(r||e)}})()}static{this.\u0275dir=K({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&T("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Oe([zU]),Ce]})}}return e})(),ci=(()=>{class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(vT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(vT(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||e)(O(qt),O(ni),O(Qu,9))}}static{this.\u0275dir=K({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();function CT(e){return"number"==typeof e?e:parseFloat(e)}let wr=(()=>{class e{constructor(){this._validator=Lu}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Lu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=K({type:e,features:[Xt]})}}return e})();const WU={provide:vt,useExisting:De(()=>pm),multi:!0};let pm=(()=>{class e extends wr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>CT(t),this.createValidator=t=>function AS(e){return n=>{if(ki(n.value)||ki(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=it(e)))(r||e)}})()}static{this.\u0275dir=K({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&kn("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Oe([WU]),Ce]})}}return e})();const ZU={provide:vt,useExisting:De(()=>gm),multi:!0};let gm=(()=>{class e extends wr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>CT(t),this.createValidator=t=>function PS(e){return n=>{if(ki(n.value)||ki(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=it(e)))(r||e)}})()}static{this.\u0275dir=K({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&kn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Oe([ZU]),Ce]})}}return e})();const QU={provide:vt,useExisting:De(()=>wn),multi:!0};let wn=(()=>{class e extends wr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Po,this.createValidator=t=>kS}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=it(e)))(r||e)}})()}static{this.\u0275dir=K({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&kn("required",r._enabled?"":null)},inputs:{required:"required"},features:[Oe([QU]),Ce]})}}return e})(),tH=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kr({type:e})}static{this.\u0275inj=Bi({})}}return e})(),yt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:zo,useValue:t.callSetDisabledState??Gu}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kr({type:e})}static{this.\u0275inj=Bi({imports:[tH]})}}return e})(),iH=(()=>{class e{constructor(t){this.http=t,this.username="",this.password=""}login(){this.http.post("http://localhost:3000/api/auth/login",{username:this.username,password:this.password}).subscribe({next:t=>{const r=t.email,o=t.role,s=t.token,a=t.branch,l=t.branches,d=t.GSTIN,f=t.GSTIN_ID;localStorage.setItem("username",t.username),localStorage.setItem("email",r),o&&localStorage.setItem("role",o),s&&localStorage.setItem("token",s),d&&localStorage.setItem("GSTIN",d),null!=f&&localStorage.setItem("GSTIN_ID",String(f)),Array.isArray(l)&&localStorage.setItem("branches",JSON.stringify(l));const g="admin"===String(o||"").toLowerCase();a?localStorage.setItem("branch",a):localStorage.setItem("branch",g?"All Branches":""),console.log("\u2705 Login successful for user:",localStorage.getItem("companyType")),this.http.get("http://localhost:3000/api/branches").subscribe({next:_=>{window.location.href=_&&0!==_.length?"/home/dashboard":"/home/Branches"},error:()=>{window.location.href="/home/Branches"}})},error:t=>{console.error(t),alert("Invalid credentials")}})}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-login"]],standalone:!0,features:[Fe],decls:8,vars:2,consts:[[1,"login-container"],[3,"ngSubmit"],["type","text","placeholder","Username","name","username","required","",3,"ngModelChange","ngModel"],["type","password","placeholder","Password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"Login"),u(),c(3,"form",1),T("ngSubmit",function(){return r.login()}),c(4,"input",2),w("ngModelChange",function(s){return M(r.username,s)||(r.username=s),s}),u(),c(5,"input",3),w("ngModelChange",function(s){return M(r.password,s)||(r.password=s),s}),u(),c(6,"button",4),h(7,"Login"),u()()()),2&i&&(p(4),b("ngModel",r.username),p(),b("ngModel",r.password))},dependencies:[Bt,yt,um,ot,ft,Kg,wn,st,Ua],styles:[".login-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ddd;border-radius:10px;text-align:center}.login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;margin:10px 0;padding:8px}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;background:#1976d2;color:#fff;border:none;cursor:pointer}"]})}}return e})(),mm=(()=>{class e{constructor(){this.branchSubject=new Ut(localStorage.getItem("branch")||"All Branches"),this.branch$=this.branchSubject.asObservable()}get currentBranch(){return this.branchSubject.value}setBranch(t){t!==this.branchSubject.value&&(this.branchSubject.next(t),localStorage.setItem("branch",t))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function rH(e,n){1&e&&(c(0,"option",24),h(1,"All Branches"),u())}function oH(e,n){if(1&e&&(c(0,"option",25),h(1),u()),2&e){const t=n.$implicit;S("value",t),p(),B(t)}}function sH(e,n){1&e&&(c(0,"ul",26)(1,"li")(2,"a",27),h(3,"View Shipments"),u()(),c(4,"li")(5,"a",28),h(6,"Stocks"),u()(),c(7,"li")(8,"a",29),h(9,"Manifest"),u()(),c(10,"li")(11,"a",30),h(12,"Invoice"),u()(),c(13,"li")(14,"a",31),h(15,"Reports"),u()()())}function aH(e,n){1&e&&(c(0,"ul",26)(1,"li")(2,"a",33),h(3,"Clients"),u()(),c(4,"li")(5,"a",34),h(6,"Guests"),u()(),c(7,"li")(8,"a",35),h(9,"Branches"),u()(),c(10,"li")(11,"a",36),h(12,"Hubs"),u()(),c(13,"li")(14,"a",37),h(15,"Transport Partners"),u()(),c(16,"li")(17,"a",38),h(18,"Users"),u()(),c(19,"li")(20,"a",39),h(21,"Categories"),u()(),c(22,"li")(23,"a",40),h(24,"Packages"),u()(),c(25,"li")(26,"a",41),h(27,"Products"),u()(),c(28,"li")(29,"a",42),h(30,"Roles Settings"),u()()())}function lH(e,n){if(1&e){const t=k();sr(0),c(1,"li",12),T("click",function(){return y(t),C(m().toggleMenu("admin"))}),c(2,"span"),te(3,"i",32),h(4," Admin"),u(),te(5,"i",14),u(),N(6,aH,31,0,"ul",15),ar()}if(2&e){const t=m();p(6),S("ngIf",t.showAdmin)}}function cH(e,n){1&e&&(c(0,"li",43)(1,"span"),te(2,"i",32),h(3," Admin (No privileges)"),u()())}function uH(e,n){1&e&&(c(0,"ul",26)(1,"li")(2,"a",44),h(3,"Configuration"),u()(),c(4,"li")(5,"a",45),h(6,"Logs"),u()(),c(7,"li")(8,"a",46),h(9,"Locations"),u()()())}function dH(e,n){1&e&&(c(0,"ul",26)(1,"li")(2,"a",47),h(3,"My Profile"),u()(),c(4,"li")(5,"a",48),h(6,"Change Password"),u()(),c(7,"li")(8,"a",49),h(9,"Roles"),u()()())}let hH=(()=>{class e{constructor(t,i){this.http=t,this.branchService=i,this.username=localStorage.getItem("username"),this.email=localStorage.getItem("email"),this.role=localStorage.getItem("role"),this.isAdmin="admin"===String(localStorage.getItem("role")||"").toLowerCase(),this.showShipments=!1,this.showAdmin=!1,this.showSettings=!1,this.showProfile=!1,this.branchOptions=[],this.selectedBranch=localStorage.getItem("branch")||""}ngOnInit(){if(this.isAdmin&&this.username)return this.http.get(`http://localhost:3000/api/branches/by-user/${this.username}`).subscribe(t=>{const i=(t||[]).map(r=>r.branchName).filter(Boolean);this.branchOptions=i}),this.selectedBranch||(this.selectedBranch="All Branches",localStorage.setItem("branch",this.selectedBranch)),void this.branchService.setBranch(this.selectedBranch);try{const t=JSON.parse(localStorage.getItem("branches")||"[]");Array.isArray(t)&&(this.branchOptions=t)}catch{this.branchOptions=[]}!this.selectedBranch&&this.branchOptions.length&&(this.selectedBranch=this.branchOptions[0],localStorage.setItem("branch",this.selectedBranch))}toggleMenu(t){"shipments"===t&&(this.showShipments=!this.showShipments),"admin"===t&&this.isAdmin&&(this.showAdmin=!this.showAdmin),"settings"===t&&(this.showSettings=!this.showSettings),"profile"===t&&(this.showProfile=!this.showProfile)}onBranchChange(t){const i=t.target.value;this.selectedBranch=i,localStorage.setItem("branch",i),this.branchService.setBranch(i),window.location.href.includes("/shipments")&&window.location.reload()}static{this.\u0275fac=function(i){return new(i||e)(O(rt),O(mm))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-home"]],standalone:!0,features:[Fe],decls:49,vars:11,consts:[["noAdminMenu",""],[1,"container"],[1,"sidebar"],[1,"welcome"],[1,"fas","fa-user-circle"],[3,"ngModelChange","change","ngModel","disabled"],["value","All Branches",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["routerLink","dashboard"],[1,"fas","fa-tachometer-alt"],["routerLink","new-shipment"],[1,"fas","fa-plus-circle"],[1,"menu-item",3,"click"],[1,"fas","fa-truck"],[1,"fas","fa-caret-down"],["class","submenu",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"fas","fa-cog"],[1,"fas","fa-id-badge"],["routerLink","notifications"],[1,"fas","fa-bell"],["routerLink","/"],[1,"fas","fa-sign-out-alt"],[1,"content"],["value","All Branches"],[3,"value"],[1,"submenu"],["routerLink","shipments"],["routerLink","Stocks"],["routerLink","Manifest"],["routerLink","Invoice"],["routerLink","Reports"],[1,"fas","fa-user-shield"],["routerLink","Clients"],["routerLink","Guests"],["routerLink","Branches"],["routerLink","Hubs"],["routerLink","Tpartners"],["routerLink","Users"],["routerLink","Categories"],["routerLink","Pkgs"],["routerLink","Products"],["routerLink","RoleSettings"],[1,"menu-item",2,"opacity","0.55","cursor","not-allowed"],["routerLink","Configuration"],["routerLink","Logs"],["routerLink","Locations"],["routerLink","profile"],["routerLink","changePass"],["routerLink","roles"]],template:function(i,r){if(1&i){const o=k();c(0,"div",1)(1,"aside",2)(2,"div",3)(3,"h3"),te(4,"i",4),h(5),u(),c(6,"select",5),w("ngModelChange",function(a){return y(o),M(r.selectedBranch,a)||(r.selectedBranch=a),C(a)}),T("change",function(a){return y(o),C(r.onBranchChange(a))}),N(7,rH,2,0,"option",6)(8,oH,2,2,"option",7),u()(),c(9,"ul")(10,"li")(11,"a",8),te(12,"i",9),h(13," Dashboard"),u()(),c(14,"li")(15,"a",10),te(16,"i",11),h(17," New Shipment"),u()(),c(18,"li",12),T("click",function(){return y(o),C(r.toggleMenu("shipments"))}),c(19,"span"),te(20,"i",13),h(21," Shipments"),u(),te(22,"i",14),u(),N(23,sH,16,0,"ul",15)(24,lH,7,1,"ng-container",16)(25,cH,4,0,"ng-template",null,0,Eo),c(27,"li",12),T("click",function(){return y(o),C(r.toggleMenu("settings"))}),c(28,"span"),te(29,"i",17),h(30," Settings"),u(),te(31,"i",14),u(),N(32,uH,10,0,"ul",15),c(33,"li",12),T("click",function(){return y(o),C(r.toggleMenu("profile"))}),c(34,"span"),te(35,"i",18),h(36," Profile"),u(),te(37,"i",14),u(),N(38,dH,10,0,"ul",15),c(39,"li")(40,"a",19),te(41,"i",20),h(42," Notifications"),u()(),c(43,"li")(44,"a",21),te(45,"i",22),h(46," Logout"),u()()()(),c(47,"main",23),te(48,"router-outlet"),u()()}if(2&i){const o=To(26);p(5),Pe(" Welcome, ",r.username,", ",r.email,""),p(),b("ngModel",r.selectedBranch),S("disabled",!r.isAdmin&&r.branchOptions.length<=1),p(),S("ngIf",r.isAdmin),p(),S("ngForOf",r.branchOptions),p(15),S("ngIf",r.showShipments),p(),S("ngIf",r.isAdmin)("ngIfElse",o),p(8),S("ngIf",r.showSettings),p(6),S("ngIf",r.showProfile)}},dependencies:[Iu,Fu,_t,Et,yt,li,ci,bn,ft,st],styles:[".container[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]{width:250px;background:#2c3e50;color:#fff;padding:20px;height:100vh;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;font-size:16px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;display:flex;align-items:center;justify-content:space-between}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;align-items:center;gap:8px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#34495e}.submenu[_ngcontent-%COMP%]{background:#34495e;margin-left:10px;padding-left:10px}.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;font-size:14px}"]})}}return e})(),fH=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[Fe],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"Dashboard"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})();function pH(e,n){if(1&e&&(c(0,"option",44),h(1),u()),2&e){const t=n.$implicit;S("value",t.clientName),p(),Pe(" ",t.clientName," - ",t.address," ")}}function gH(e,n){if(1&e){const t=k();c(0,"div",39)(1,"div",40)(2,"span",27),h(3,"Saved clients"),u(),c(4,"button",41),T("click",function(){return y(t),C(m().openClientModal())}),h(5,"+ New Client"),u()(),c(6,"label"),h(7,"Sender Name "),c(8,"select",42),w("ngModelChange",function(r){y(t);const o=m();return M(o.consignor,r)||(o.consignor=r),C(r)}),T("change",function(){y(t);const r=m();return C(r.onConsignorSelect(r.consignor))}),N(9,pH,2,3,"option",43),u()(),c(10,"label"),h(11,"GSTIN "),c(12,"input",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.consignorGST,r)||(o.consignorGST=r),C(r)}),u()(),c(13,"label"),h(14,"Phone "),c(15,"input",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.consignorPhone,r)||(o.consignorPhone=r),C(r)}),u()(),c(16,"label"),h(17,"Address "),c(18,"textarea",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.consignorAddress,r)||(o.consignorAddress=r),C(r)}),u()()()}if(2&e){const t=m();p(8),b("ngModel",t.consignor),p(),S("ngForOf",t.clientList),p(3),b("ngModel",t.consignorGST),p(3),b("ngModel",t.consignorPhone),p(3),b("ngModel",t.consignorAddress)}}function mH(e,n){if(1&e&&(c(0,"option",44),h(1),u()),2&e){const t=n.$implicit;S("value",t.guestName),p(),Pe(" ",t.guestName," - ",t.address," ")}}function _H(e,n){if(1&e){const t=k();c(0,"div",39)(1,"div",40)(2,"span",27),h(3,"Guest senders"),u(),c(4,"button",41),T("click",function(){return y(t),C(m().openGuestModal())}),h(5,"+ New Guest"),u()(),c(6,"label"),h(7,"Guest Sender "),c(8,"select",42),w("ngModelChange",function(r){y(t);const o=m();return M(o.consignor,r)||(o.consignor=r),C(r)}),T("change",function(){y(t);const r=m();return C(r.onConsignorGuestSelect(r.consignor))}),N(9,mH,2,3,"option",43),u()(),c(10,"label"),h(11,"Phone "),c(12,"input",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.consignorPhone,r)||(o.consignorPhone=r),C(r)}),u()(),c(13,"label"),h(14,"Address "),c(15,"textarea",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.consignorAddress,r)||(o.consignorAddress=r),C(r)}),u()()()}if(2&e){const t=m();p(8),b("ngModel",t.consignor),p(),S("ngForOf",t.guestList),p(3),b("ngModel",t.consignorPhone),p(3),b("ngModel",t.consignorAddress)}}function vH(e,n){if(1&e&&(c(0,"option",44),h(1),u()),2&e){const t=n.$implicit;S("value",t.clientName),p(),Pe(" ",t.clientName," - ",t.address," ")}}function yH(e,n){if(1&e){const t=k();c(0,"div",39)(1,"div",40)(2,"span",27),h(3,"Saved clients"),u(),c(4,"button",41),T("click",function(){return y(t),C(m().openClientModal())}),h(5,"+ New Client"),u()(),c(6,"label"),h(7,"Receiver Name "),c(8,"select",42),w("ngModelChange",function(r){y(t);const o=m();return M(o.consignee,r)||(o.consignee=r),C(r)}),T("change",function(){y(t);const r=m();return C(r.onConsigneeSelect(r.consignee))}),N(9,vH,2,3,"option",43),u()(),c(10,"label"),h(11,"GSTIN "),c(12,"input",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.consigneeGST,r)||(o.consigneeGST=r),C(r)}),u()(),c(13,"label"),h(14,"Phone "),c(15,"input",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.consigneePhone,r)||(o.consigneePhone=r),C(r)}),u()(),c(16,"label"),h(17,"Address "),c(18,"textarea",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.consigneeAddress,r)||(o.consigneeAddress=r),C(r)}),u()()()}if(2&e){const t=m();p(8),b("ngModel",t.consignee),p(),S("ngForOf",t.clientList),p(3),b("ngModel",t.consigneeGST),p(3),b("ngModel",t.consigneePhone),p(3),b("ngModel",t.consigneeAddress)}}function CH(e,n){if(1&e&&(c(0,"option",44),h(1),u()),2&e){const t=n.$implicit;S("value",t.guestName),p(),Pe(" ",t.guestName," - ",t.address," ")}}function bH(e,n){if(1&e){const t=k();c(0,"div",39)(1,"div",40)(2,"span",27),h(3,"Guest receivers"),u(),c(4,"button",41),T("click",function(){return y(t),C(m().openGuestModal())}),h(5,"+ New Guest"),u()(),c(6,"label"),h(7,"Guest Receiver "),c(8,"select",42),w("ngModelChange",function(r){y(t);const o=m();return M(o.consignee,r)||(o.consignee=r),C(r)}),T("change",function(){y(t);const r=m();return C(r.onConsigneeGuestSelect(r.consignee))}),N(9,CH,2,3,"option",43),u()(),c(10,"label"),h(11,"Phone "),c(12,"input",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.consigneePhone,r)||(o.consigneePhone=r),C(r)}),u()(),c(13,"label"),h(14,"Address "),c(15,"textarea",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.consigneeAddress,r)||(o.consigneeAddress=r),C(r)}),u()()()}if(2&e){const t=m();p(8),b("ngModel",t.consignee),p(),S("ngForOf",t.guestList),p(3),b("ngModel",t.consigneePhone),p(3),b("ngModel",t.consigneeAddress)}}function wH(e,n){if(1&e){const t=k();c(0,"div",39)(1,"label"),h(2,"Name "),c(3,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.billingName,r)||(o.billingName=r),C(r)}),u()(),c(4,"label"),h(5,"GSTIN "),c(6,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.billingGSTIN,r)||(o.billingGSTIN=r),C(r)}),u()(),c(7,"label"),h(8,"Phone "),c(9,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.billingPhone,r)||(o.billingPhone=r),C(r)}),u()(),c(10,"label"),h(11,"Address "),c(12,"textarea",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.billingAddress,r)||(o.billingAddress=r),C(r)}),u()()()}if(2&e){const t=m();p(3),b("ngModel",t.billingName),p(3),b("ngModel",t.billingGSTIN),p(3),b("ngModel",t.billingPhone),p(3),b("ngModel",t.billingAddress)}}function MH(e,n){1&e&&(c(0,"div",45),h(1,"Using consignor details"),u())}function DH(e,n){if(1&e){const t=k();c(0,"div",39)(1,"label"),h(2,"Name "),c(3,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.pickupName,r)||(o.pickupName=r),C(r)}),u()(),c(4,"label"),h(5,"Phone "),c(6,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.pickupPhone,r)||(o.pickupPhone=r),C(r)}),u()(),c(7,"label"),h(8,"Address "),c(9,"textarea",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.pickupAddress,r)||(o.pickupAddress=r),C(r)}),u()()()}if(2&e){const t=m();p(3),b("ngModel",t.pickupName),p(3),b("ngModel",t.pickupPhone),p(3),b("ngModel",t.pickupAddress)}}function SH(e,n){1&e&&(c(0,"div",45),h(1,"Using consignor details"),u())}function TH(e,n){if(1&e){const t=k();c(0,"div",39)(1,"div",11)(2,"label"),h(3,"Name "),c(4,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.deliveryName,r)||(o.deliveryName=r),C(r)}),u()(),c(5,"label"),h(6,"Phone "),c(7,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.deliveryPhone,r)||(o.deliveryPhone=r),C(r)}),u()()(),c(8,"label"),h(9,"Address "),c(10,"textarea",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.deliveryAddress,r)||(o.deliveryAddress=r),C(r)}),u()()()}if(2&e){const t=m();p(4),b("ngModel",t.deliveryName),p(3),b("ngModel",t.deliveryPhone),p(3),b("ngModel",t.deliveryAddress)}}function IH(e,n){1&e&&(c(0,"div",45),h(1,"Using consignee details"),u())}function EH(e,n){if(1&e&&(c(0,"option",44),h(1),u()),2&e){const t=n.$implicit;S("value",t.productName),p(),Pe(" ",t.hsnNum," - ",t.productName," ")}}function NH(e,n){if(1&e){const t=k();c(0,"div",59)(1,"select",28),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.type,r)||(o.type=r),C(r)}),N(2,EH,2,3,"option",43),u(),c(3,"input",60),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.amount,r)||(o.amount=r),C(r)}),u(),c(4,"button",48),T("click",function(){const r=y(t).index,o=m().index,s=m().index;return C(m().deleteProduct(s,o,r))}),h(5,"\u2715"),u()()}if(2&e){const t=n.$implicit,i=m(3);p(),b("ngModel",t.type),p(),S("ngForOf",i.productList),p(),b("ngModel",t.amount)}}function xH(e,n){if(1&e&&(c(0,"option",44),h(1),u()),2&e){const t=n.$implicit;S("value",t.pkgName),p(),B(t.pkgName)}}function PH(e,n){if(1&e){const t=k();c(0,"div",59)(1,"select",28),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.type,r)||(o.type=r),C(r)}),N(2,xH,2,2,"option",43),u(),c(3,"input",60),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.amount,r)||(o.amount=r),C(r)}),u(),c(4,"button",48),T("click",function(){const r=y(t).index,o=m().index,s=m().index;return C(m().deletePackage(s,o,r))}),h(5,"\u2715"),u()()}if(2&e){const t=n.$implicit,i=m(3);p(),b("ngModel",t.type),p(),S("ngForOf",i.pkgList),p(),b("ngModel",t.amount)}}function AH(e,n){if(1&e){const t=k();c(0,"div",53)(1,"div",47)(2,"div")(3,"div",2),h(4),u()(),c(5,"button",48),T("click",function(){const r=y(t).index,o=m().index;return C(m().deleteInvoice(o,r))}),h(6,"\u2715"),u()(),c(7,"div",49)(8,"input",54),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.number,r)||(o.number=r),C(r)}),u(),c(9,"input",55),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.value,r)||(o.value=r),C(r)}),u()(),c(10,"div",56)(11,"div",57),h(12,"Products"),u(),N(13,NH,6,3,"div",58),c(14,"button",41),T("click",function(){const r=y(t).index,o=m().index;return C(m().addProduct(o,r))}),h(15,"+ Product"),u()(),c(16,"div",56)(17,"div",57),h(18,"Packages"),u(),N(19,PH,6,3,"div",58),c(20,"button",41),T("click",function(){const r=y(t).index,o=m().index;return C(m().addPackage(o,r))}),h(21,"+ Package"),u()()()}if(2&e){const t=n.$implicit,i=n.index;p(4),z("Invoice ",i+1,""),p(4),b("ngModel",t.number),p(),b("ngModel",t.value),p(4),S("ngForOf",t.products),p(6),S("ngForOf",t.packages)}}function kH(e,n){if(1&e){const t=k();c(0,"div",46)(1,"div",47)(2,"div",2),h(3),u(),c(4,"button",48),T("click",function(){const r=y(t).index;return C(m().deleteEwaybill(r))}),h(5,"\u2715"),u()(),c(6,"div",49)(7,"input",50),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.number,r)||(o.number=r),C(r)}),u(),c(8,"input",6),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.date,r)||(o.date=r),C(r)}),u()(),N(9,AH,22,5,"div",51),c(10,"button",52),T("click",function(){const r=y(t).index;return C(m().addInvoice(r))}),h(11,"+ Invoice"),u()()}if(2&e){const t=n.$implicit,i=n.index;p(3),z("E-Waybill ",i+1,""),p(4),b("ngModel",t.number),p(),b("ngModel",t.date),p(),S("ngForOf",t.invoices)}}function OH(e,n){if(1&e){const t=k();c(0,"div",74)(1,"input",75),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.location,r)||(o.location=r),C(r)}),u(),c(2,"button",41),T("click",function(){const r=y(t).index;return C(m(2).removeDeliveryLocation(r))}),h(3,"Remove"),u()()}if(2&e){const t=n.$implicit;p(),b("ngModel",t.location)}}function RH(e,n){if(1&e){const t=k();c(0,"div",76)(1,"input",77),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.hsnNum,r)||(o.hsnNum=r),C(r)}),u(),c(2,"input",78),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.productName,r)||(o.productName=r),C(r)}),u(),c(3,"input",79),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.ratePerNum,r)||(o.ratePerNum=r),C(r)}),u(),c(4,"input",80),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.ratePerVolume,r)||(o.ratePerVolume=r),C(r)}),u(),c(5,"input",81),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.ratePerKg,r)||(o.ratePerKg=r),C(r)}),u(),c(6,"button",41),T("click",function(){const r=y(t).index;return C(m(2).removeClientProduct(r))}),h(7,"Remove"),u()()}if(2&e){const t=n.$implicit;p(),b("ngModel",t.hsnNum),p(),b("ngModel",t.productName),p(),b("ngModel",t.ratePerNum),p(),b("ngModel",t.ratePerVolume),p(),b("ngModel",t.ratePerKg)}}function FH(e,n){if(1&e&&(c(0,"div",82),h(1),u()),2&e){const t=m(2);p(),B(t.clientError)}}function LH(e,n){if(1&e){const t=k();c(0,"div",61)(1,"div",62)(2,"div",63)(3,"h3"),h(4,"Add Client"),u(),c(5,"button",48),T("click",function(){return y(t),C(m().closeModals())}),h(6,"\u2715"),u()(),c(7,"label"),h(8,"Name* "),c(9,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.clientName,r)||(o.newClient.clientName=r),C(r)}),u()(),c(10,"label"),h(11,"GSTIN* "),c(12,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.GSTIN,r)||(o.newClient.GSTIN=r),C(r)}),u()(),c(13,"label"),h(14,"Phone* "),c(15,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.phoneNum,r)||(o.newClient.phoneNum=r),C(r)}),u()(),c(16,"label"),h(17,"Discount % "),c(18,"input",30),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.perDis,r)||(o.newClient.perDis=r),C(r)}),u()(),c(19,"label"),h(20,"Credit Type "),c(21,"select",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.creditType,r)||(o.newClient.creditType=r),C(r)}),c(22,"option",64),h(23,"No Credit"),u(),c(24,"option",65),h(25,"Credit Allowed"),u()()(),c(26,"label"),h(27,"Branch* "),c(28,"input",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.branch,r)||(o.newClient.branch=r),C(r)}),u()(),c(29,"label"),h(30,"Address* "),c(31,"textarea",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.address,r)||(o.newClient.address=r),C(r)}),u()(),c(32,"div",66)(33,"input",67),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.city,r)||(o.newClient.city=r),C(r)}),u(),c(34,"input",68),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.state,r)||(o.newClient.state=r),C(r)}),u(),c(35,"input",69),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.pinCode,r)||(o.newClient.pinCode=r),C(r)}),u()(),c(36,"h4"),h(37,"Delivery Locations"),u(),N(38,OH,4,1,"div",70),c(39,"button",41),T("click",function(){return y(t),C(m().addDeliveryLocation())}),h(40,"+ Add Delivery Location"),u(),c(41,"h4"),h(42,"Product Pricing"),u(),N(43,RH,8,5,"div",71),c(44,"button",41),T("click",function(){return y(t),C(m().addClientProduct())}),h(45,"+ Add Product Rate"),u(),N(46,FH,2,1,"div",72),c(47,"div",73)(48,"button",19),T("click",function(){return y(t),C(m().saveNewClient())}),h(49,"Save"),u(),c(50,"button",19),T("click",function(){return y(t),C(m().closeModals())}),h(51,"Cancel"),u()()()()}if(2&e){const t=m();p(9),b("ngModel",t.newClient.clientName),p(3),b("ngModel",t.newClient.GSTIN),p(3),b("ngModel",t.newClient.phoneNum),p(3),b("ngModel",t.newClient.perDis),p(3),b("ngModel",t.newClient.creditType),p(7),b("ngModel",t.newClient.branch),p(3),b("ngModel",t.newClient.address),p(2),b("ngModel",t.newClient.city),p(),b("ngModel",t.newClient.state),p(),b("ngModel",t.newClient.pinCode),p(3),S("ngForOf",t.newClient.deliveryLocations),p(5),S("ngForOf",t.newClient.products),p(3),S("ngIf",t.clientError)}}function VH(e,n){if(1&e&&(c(0,"div",82),h(1),u()),2&e){const t=m(2);p(),B(t.guestError)}}function BH(e,n){if(1&e){const t=k();c(0,"div",61)(1,"div",62)(2,"div",63)(3,"h3"),h(4,"Add Guest"),u(),c(5,"button",48),T("click",function(){return y(t),C(m().closeModals())}),h(6,"\u2715"),u()(),c(7,"label"),h(8,"Name* "),c(9,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.newGuest.guestName,r)||(o.newGuest.guestName=r),C(r)}),u()(),c(10,"label"),h(11,"Phone* "),c(12,"input",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.newGuest.phoneNum,r)||(o.newGuest.phoneNum=r),C(r)}),u()(),c(13,"label"),h(14,"Discount % "),c(15,"input",30),w("ngModelChange",function(r){y(t);const o=m();return M(o.newGuest.perDis,r)||(o.newGuest.perDis=r),C(r)}),u()(),c(16,"label"),h(17,"Address* "),c(18,"textarea",28),w("ngModelChange",function(r){y(t);const o=m();return M(o.newGuest.address,r)||(o.newGuest.address=r),C(r)}),u()(),c(19,"div",66)(20,"input",67),w("ngModelChange",function(r){y(t);const o=m();return M(o.newGuest.city,r)||(o.newGuest.city=r),C(r)}),u(),c(21,"input",68),w("ngModelChange",function(r){y(t);const o=m();return M(o.newGuest.state,r)||(o.newGuest.state=r),C(r)}),u(),c(22,"input",69),w("ngModelChange",function(r){y(t);const o=m();return M(o.newGuest.pinCode,r)||(o.newGuest.pinCode=r),C(r)}),u()(),N(23,VH,2,1,"div",72),c(24,"div",73)(25,"button",19),T("click",function(){return y(t),C(m().saveNewGuest())}),h(26,"Save"),u(),c(27,"button",19),T("click",function(){return y(t),C(m().closeModals())}),h(28,"Cancel"),u()()()()}if(2&e){const t=m();p(9),b("ngModel",t.newGuest.guestName),p(3),b("ngModel",t.newGuest.phoneNum),p(3),b("ngModel",t.newGuest.perDis),p(3),b("ngModel",t.newGuest.address),p(2),b("ngModel",t.newGuest.city),p(),b("ngModel",t.newGuest.state),p(),b("ngModel",t.newGuest.pinCode),p(),S("ngIf",t.guestError)}}let jH=(()=>{class e{constructor(t){this.http=t,this.DRAFT_PREFIX="newShipmentDraft",this.showClientModal=!1,this.showGuestModal=!1,this.clientError="",this.guestError="",this.newClient={clientName:"",address:"",city:"",state:"",pinCode:"",GSTIN:"",phoneNum:"",perDis:0,creditType:"no-credit",products:[],deliveryLocations:[{location:""}],status:"active",branch:""},this.newGuest={guestName:"",address:"",city:"",state:"",pinCode:"",phoneNum:"",perDis:0},this.billingType="consignor",this.billingName="",this.billingAddress="",this.billingGSTIN="",this.billingPhone="",this.clientList=[],this.guestList=[],this.pkgList=[],this.productList=[],this.pickupType="consignor",this.pickupName="",this.pickupAddress="",this.pickupPhone="",this.deliveryType="consignee",this.deliveryName="",this.deliveryAddress="",this.deliveryPhone="",this.consignorTab="consignor",this.consigneeTab="consignee",this.username="",this.branch=localStorage.getItem("branch")||"All Branches",this.selectedConsignorId=null,this.consignmentNumber="nil",this.date=(new Date).toISOString().split("T")[0],this.consignor="",this.consignorGST="",this.consignorAddress="",this.consignorPhone="",this.consignee="",this.consigneeGST="",this.consigneeAddress="",this.consigneePhone="",this.paymentMode="To Pay",this.externalRefId="",this.ewaybills=[{number:"",date:this.date,invoices:[{number:"",value:0,packages:[{type:"",amount:0}],products:[{type:"",amount:1,instock:1,intransitstock:0,deliveredstock:0}]}]}],this.charges={odc:0,unloading:0,docket:0,other:0,ccc:0,consignorDiscount:0},this.finalAmount=0,this.shipmentStatus="Pending",this.shipmentStatusDetails="",this.isSaving=!1,this.onStorageChange=i=>{"branch"===i.key&&i.newValue&&this.handleBranchChange(i.newValue,i.oldValue||this.branch)}}ngOnInit(){typeof window>"u"||(this.username=localStorage.getItem("username")||"",this.branch=localStorage.getItem("branch")||"All Branches",this.newClient.branch=this.branch,this.loadDraft(this.branch),this.getCurrentConsignmentNumber(),this.loadLists(),this.branchCheckInterval=setInterval(()=>{const t=localStorage.getItem("branch")||"All Branches";t!==this.branch&&this.handleBranchChange(t,this.branch)},1e3),window.addEventListener("storage",this.onStorageChange))}ngOnDestroy(){this.branchCheckInterval&&clearInterval(this.branchCheckInterval),window.removeEventListener("storage",this.onStorageChange)}onBeforeUnload(){this.saveDraft(this.branch)}handleBranchChange(t,i){i&&this.saveDraft(i),this.branch=t||"All Branches",this.newClient.branch=this.branch,this.loadDraft(this.branch),this.getCurrentConsignmentNumber(),this.loadLists()}draftKey(t){return`${this.DRAFT_PREFIX}:${t||"All Branches"}`}saveDraft(t){if(typeof window>"u")return;const i=this.draftKey(t);localStorage.setItem(i,JSON.stringify({billingType:this.billingType,billingName:this.billingName,billingAddress:this.billingAddress,billingGSTIN:this.billingGSTIN,billingPhone:this.billingPhone,pickupType:this.pickupType,pickupName:this.pickupName,pickupAddress:this.pickupAddress,pickupPhone:this.pickupPhone,deliveryType:this.deliveryType,deliveryName:this.deliveryName,deliveryAddress:this.deliveryAddress,deliveryPhone:this.deliveryPhone,consignorTab:this.consignorTab,consigneeTab:this.consigneeTab,consignor:this.consignor,consignorGST:this.consignorGST,consignorAddress:this.consignorAddress,consignorPhone:this.consignorPhone,consignee:this.consignee,consigneeGST:this.consigneeGST,consigneeAddress:this.consigneeAddress,consigneePhone:this.consigneePhone,paymentMode:this.paymentMode,externalRefId:this.externalRefId,ewaybills:this.ewaybills,charges:this.charges,finalAmount:this.finalAmount,selectedConsignorId:this.selectedConsignorId,consignmentNumber:this.consignmentNumber,date:this.date}))}loadDraft(t){if(typeof window>"u")return;const i=localStorage.getItem(this.draftKey(t));if(i)try{const r=JSON.parse(i);Object.assign(this,{billingType:r.billingType??this.billingType,billingName:r.billingName??this.billingName,billingAddress:r.billingAddress??this.billingAddress,billingGSTIN:r.billingGSTIN??this.billingGSTIN,billingPhone:r.billingPhone??this.billingPhone,pickupType:r.pickupType??this.pickupType,pickupName:r.pickupName??this.pickupName,pickupAddress:r.pickupAddress??this.pickupAddress,pickupPhone:r.pickupPhone??this.pickupPhone,deliveryType:r.deliveryType??this.deliveryType,deliveryName:r.deliveryName??this.deliveryName,deliveryAddress:r.deliveryAddress??this.deliveryAddress,deliveryPhone:r.deliveryPhone??this.deliveryPhone,consignorTab:r.consignorTab??this.consignorTab,consigneeTab:r.consigneeTab??this.consigneeTab,consignor:r.consignor??this.consignor,consignorGST:r.consignorGST??this.consignorGST,consignorAddress:r.consignorAddress??this.consignorAddress,consignorPhone:r.consignorPhone??this.consignorPhone,consignee:r.consignee??this.consignee,consigneeGST:r.consigneeGST??this.consigneeGST,consigneeAddress:r.consigneeAddress??this.consigneeAddress,consigneePhone:r.consigneePhone??this.consigneePhone,paymentMode:r.paymentMode??this.paymentMode,externalRefId:r.externalRefId??this.externalRefId,ewaybills:r.ewaybills??this.ewaybills,charges:r.charges??this.charges,finalAmount:r.finalAmount??this.finalAmount,selectedConsignorId:r.selectedConsignorId??null,consignmentNumber:r.consignmentNumber??this.consignmentNumber,date:r.date??this.date})}catch{}}clearDraft(t){localStorage.removeItem(this.draftKey(t))}loadLists(){this.http.get(`http://localhost:3000/api/clients/clientslist?branch=${encodeURIComponent(this.branch)}`).subscribe(t=>this.clientList=t),this.http.get("http://localhost:3000/api/guests/guestslist").subscribe(t=>this.guestList=t),this.http.get("http://localhost:3000/api/pkgs/pkglist").subscribe(t=>this.pkgList=t),this.http.get("http://localhost:3000/api/products/productlist").subscribe(t=>this.productList=t)}addEwaybill(){this.ewaybills.push({number:"",date:this.date,invoices:[]})}deleteEwaybill(t){this.ewaybills.splice(t,1)}addInvoice(t){this.ewaybills[t].invoices.push({number:"",value:0,packages:[],products:[]})}deleteInvoice(t,i){this.ewaybills[t].invoices.splice(i,1)}addPackage(t,i){this.ewaybills[t].invoices[i].packages.push({type:"",amount:0})}deletePackage(t,i,r){this.ewaybills[t].invoices[i].packages.splice(r,1)}addProduct(t,i){this.ewaybills[t].invoices[i].products.push({type:"",amount:1,instock:1,intransitstock:0,deliveredstock:0})}deleteProduct(t,i,r){this.ewaybills[t].invoices[i].products.splice(r,1)}calculateFinalAmount(){let t=0,i=0;this.ewaybills.forEach(o=>{t+=o.invoices.reduce((s,a)=>s+(a.value||0),0),i+=o.invoices.reduce((s,a)=>s+a.packages.reduce((l,d)=>l+(d.amount||0),0),0)});const r=Object.values(this.charges).reduce((o,s)=>o+(Number(s)||0),0);this.finalAmount=t+i+r}resetForm(){this.billingType="consignor",this.billingName="",this.billingAddress="",this.billingGSTIN="",this.billingPhone="",this.pickupType="consignor",this.pickupName="",this.pickupAddress="",this.pickupPhone="",this.deliveryType="consignee",this.deliveryName="",this.deliveryAddress="",this.deliveryPhone="",this.consignorTab="consignor",this.consigneeTab="consignee",this.selectedConsignorId=null,this.consignor="",this.consignorGST="",this.consignorAddress="",this.consignorPhone="",this.consignee="",this.consigneeGST="",this.consigneeAddress="",this.consigneePhone="",this.paymentMode="To Pay",this.externalRefId="",this.ewaybills=[{number:"",date:this.date,invoices:[{number:"",value:0,packages:[{type:"",amount:0}],products:[{type:"",amount:1,instock:1,intransitstock:0,deliveredstock:0}]}]}],this.charges={odc:0,unloading:0,docket:0,other:0,ccc:0,consignorDiscount:0},this.finalAmount=0,this.saveDraft(this.branch)}getCurrentConsignmentNumber(){this.branch&&"All Branches"!==this.branch?this.http.get(`http://localhost:3000/api/newshipments/nextConsignment?username=${encodeURIComponent(this.username)}&branch=${encodeURIComponent(this.branch)}`).subscribe({next:t=>{this.consignmentNumber=t.nextNumber.toString(),localStorage.setItem("consignmentNumber",this.consignmentNumber)},error:t=>console.error("Error fetching consignment number",t)}):this.consignmentNumber="nil"}saveShipment(){if(this.isSaving||!this.ensureProductAmounts())return;this.isSaving=!0;const t={username:localStorage.getItem("username"),branch:localStorage.getItem("branch"),shipmentStatus:this.shipmentStatus,shipmentStatusDetails:`${localStorage.getItem("username")}$$${this.date}$$${this.shipmentStatus}`,consignmentNumber:this.consignmentNumber,date:this.date,paymentMode:this.paymentMode,externalRefId:this.externalRefId,consignorTab:this.consignorTab,consignor:this.consignor,consignorGST:this.consignorGST,consignorAddress:this.consignorAddress,consignorPhone:this.consignorPhone,consigneeTab:this.consigneeTab,consignee:this.consignee,consigneeGST:this.consigneeGST,consigneeAddress:this.consigneeAddress,consigneePhone:this.consigneePhone,billingType:this.billingType,billingName:this.billingName,billingGSTIN:this.billingGSTIN,billingAddress:this.billingAddress,billingPhone:this.billingPhone,pickupType:this.pickupType,pickupName:this.pickupName,pickupAddress:this.pickupAddress,pickupPhone:this.pickupPhone,deliveryType:this.deliveryType,deliveryName:this.deliveryName,deliveryAddress:this.deliveryAddress,deliveryPhone:this.deliveryPhone,ewaybills:this.ewaybills,charges:this.charges,finalAmount:this.finalAmount};"guest"===this.consignorTab&&(t.consignorGST="GUEST"),"guest"===this.consigneeTab&&(t.consigneeGST="GUEST"),"consignor"===this.billingType&&(t.billingName=this.consignor,t.billingAddress=this.consignorAddress,t.billingGSTIN=this.consignorGST,t.billingPhone=this.consignorPhone),"consignor"===this.pickupType&&(t.pickupName=this.consignor,t.pickupAddress=this.consignorAddress,t.pickupPhone=this.consignorPhone),"consignee"===this.deliveryType&&(t.deliveryName=this.consignee,t.deliveryAddress=this.consigneeAddress,t.deliveryPhone=this.consigneePhone),"All Branches"!==t.branch?(t.ewaybills=this.sanitizeEwaybills(t.ewaybills),this.http.post("http://localhost:3000/api/newshipments/add?summary=true",t,{headers:{"Content-Type":"application/json"}}).subscribe({next:()=>{alert(`Shipment ${this.consignmentNumber} saved successfully!`),this.getCurrentConsignmentNumber(),this.resetForm(),this.clearDraft(this.branch),this.isSaving=!1},error:i=>{const r=i?.error?.message||i?.message||"Bad Request";r.includes("E11000")?(alert("Consignment number already used. Refreshing number and please try again."),this.getCurrentConsignmentNumber()):alert("Error: "+r),this.isSaving=!1}})):(alert("Please select a branch before saving."),this.isSaving=!1)}sanitizeEwaybills(t){return(t||[]).map(i=>({...i,invoices:(i.invoices||[]).map(r=>({...r,packages:(r.packages||[]).filter(o=>o?.type&&Number(o?.amount)>0),products:(r.products||[]).filter(o=>o?.type&&Number(o?.amount)>0)}))}))}ensureProductAmounts(){for(const t of this.ewaybills)for(const i of t.invoices||[])for(const r of i.products||[]){if(!r.amount||r.amount<=0)return alert("Please enter a quantity greater than 0 for all products."),!1;(!r.instock||r.instock<=0)&&(r.instock=r.amount)}return!0}onConsignorSelect(t){const i=this.clientList.find(r=>r.clientName===t);i&&(this.consignorGST=i.GSTIN,this.consignorAddress=i.address,this.consignorPhone=i.phoneNum,this.charges.consignorDiscount=i.perDis,this.selectedConsignorId=i._id,this.loadPricingSuggestions(i._id))}onConsigneeSelect(t){const i=this.clientList.find(r=>r.clientName===t);i&&(this.consigneeGST=i.GSTIN,this.consigneeAddress=i.address,this.consigneePhone=i.phoneNum)}onConsignorGuestSelect(t){const i=this.guestList.find(r=>r.guestName===t);i&&(this.consignorGST="GUEST",this.consignorAddress=i.address,this.consignorPhone=i.phoneNum,this.selectedConsignorId=null,this.loadPricingSuggestions(null))}onConsigneeGuestSelect(t){const i=this.guestList.find(r=>r.guestName===t);i&&(this.consigneeGST="GUEST",this.consigneeAddress=i.address,this.consigneePhone=i.phoneNum)}onPackageList(t){this.pkgList.find(i=>i.pkgName===t)}onProductList(t){this.productList.find(i=>i.productName===t)}loadPricingSuggestions(t){if(!this.branch||"All Branches"===this.branch)return;const i=t?`branch=${encodeURIComponent(this.branch)}&clientId=${t}`:`branch=${encodeURIComponent(this.branch)}`;this.http.get(`http://localhost:3000/api/pricing/suggestions?${i}`).subscribe({next:r=>{r?.pricing&&(this.productList=r.pricing.map(o=>({productName:o.productName,hsnNum:o.hsnNum,ratePerNum:o.ratePerNum,ratePerVolume:o.ratePerVolume,ratePerKg:o.ratePerKg,source:o.source})))},error:()=>{}})}openClientModal(){this.branch&&"All Branches"!==this.branch?(this.newClient={clientName:"",address:"",city:"",state:"",pinCode:"",GSTIN:"",phoneNum:"",perDis:0,creditType:"no-credit",products:[],deliveryLocations:[{location:""}],status:"active",branch:this.branch},this.clientError="",this.showClientModal=!0):alert("Select a branch before adding a client.")}openGuestModal(){this.newGuest={guestName:"",address:"",city:"",state:"",pinCode:"",phoneNum:"",perDis:0},this.guestError="",this.showGuestModal=!0}saveNewClient(){this.clientError="",this.newClient.clientName&&this.newClient.address&&this.newClient.GSTIN&&this.newClient.phoneNum&&this.newClient.branch?"All Branches"!==this.newClient.branch?this.http.post("http://localhost:3000/api/clients/add",this.newClient).subscribe({next:t=>{this.clientList=[t,...this.clientList],this.consignor=t.clientName,this.onConsignorSelect(this.consignor),this.showClientModal=!1},error:t=>{this.clientError=t?.error?.message||"Failed to save client."}}):this.clientError="Select a specific branch before adding a client.":this.clientError="Please fill required fields (name, address, GSTIN, phone, branch)."}saveNewGuest(){this.guestError="",this.newGuest.guestName&&this.newGuest.address&&this.newGuest.phoneNum?this.http.post("http://localhost:3000/api/guests/add",this.newGuest).subscribe({next:t=>{this.guestList=[t,...this.guestList],"guest"===this.consignorTab&&(this.consignor=t.guestName,this.onConsignorGuestSelect(this.consignor)),this.showGuestModal=!1},error:t=>{this.guestError=t?.error?.message||"Failed to save guest."}}):this.guestError="Please fill required fields (name, address, phone)."}closeModals(){this.showClientModal=!1,this.showGuestModal=!1}addClientProduct(){this.newClient.products.push({hsnNum:"",productName:"",ratePerNum:0,ratePerVolume:0,ratePerKg:0})}removeClientProduct(t){this.newClient.products.splice(t,1)}addDeliveryLocation(){this.newClient.deliveryLocations.push({location:""})}removeDeliveryLocation(t){this.newClient.deliveryLocations.splice(t,1)}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-new-shipment"]],hostBindings:function(i,r){1&i&&T("beforeunload",function(){return r.onBeforeUnload()},0,my)},standalone:!0,features:[Fe],decls:205,vars:52,consts:[[1,"page-shell"],[1,"page-header"],[1,"eyebrow"],[1,"subhead"],[1,"meta-stack"],[1,"chip-field"],["type","date",3,"ngModelChange","ngModel"],[1,"layout"],[1,"col"],[1,"card"],[1,"card-head"],[1,"grid-2"],["readonly","",3,"ngModelChange","ngModel"],["placeholder","Optional reference ID",3,"ngModelChange","ngModel"],[1,"pill"],[1,"grid-2","party-grid"],[1,"panel"],[1,"panel-head"],[1,"tab-buttons"],[3,"click"],["class","panel-body",4,"ngIf"],[1,"panel","soft"],[1,"tab-buttons","ghost"],["class","muted small-text",4,"ngIf"],[1,"tiny-btn","primary","black",3,"click"],["class","ewaybill",4,"ngFor","ngForOf"],[1,"inline-actions",2,"margin-top","8px"],[1,"muted"],[3,"ngModelChange","ngModel"],[1,"charges-grid"],["type","number",3,"ngModelChange","ngModel"],["type","number","placeholder","% Discount",3,"ngModelChange","ngModel"],["type","number","readonly","",3,"ngModelChange","ngModel"],[1,"action-bar"],[1,"summary"],[1,"action-buttons"],[1,"ghost",3,"click"],[1,"primary",3,"click","disabled"],["class","modal-backdrop",4,"ngIf"],[1,"panel-body"],[1,"inline-actions"],[1,"tiny-btn",3,"click"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"muted","small-text"],[1,"ewaybill"],[1,"line-header"],[1,"icon-btn",3,"click"],[1,"grid-3","compact"],["placeholder","Customer Eway-bill No",3,"ngModelChange","ngModel"],["class","invoice-block",4,"ngFor","ngForOf"],[1,"tiny-btn","primary","ghost",3,"click"],[1,"invoice-block"],["placeholder","Customer INV No",3,"ngModelChange","ngModel"],["type","number","placeholder","Value",3,"ngModelChange","ngModel"],[1,"subsection"],[1,"subsection-title"],["class","compact-row",4,"ngFor","ngForOf"],[1,"compact-row"],["type","number","placeholder","Qty",3,"ngModelChange","ngModel"],[1,"modal-backdrop"],[1,"modal"],[1,"modal-head"],["value","no-credit"],["value","credit"],[1,"grid-3"],["placeholder","City",3,"ngModelChange","ngModel"],["placeholder","State",3,"ngModelChange","ngModel"],["placeholder","PIN",3,"ngModelChange","ngModel"],["class","inline-fields",4,"ngFor","ngForOf"],["class","product-row",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],[1,"modal-actions"],[1,"inline-fields"],["placeholder","Delivery Address",1,"flex-1",3,"ngModelChange","ngModel"],[1,"product-row"],["placeholder","HSN",1,"extra-small-input",3,"ngModelChange","ngModel"],["placeholder","Product",1,"small-input",3,"ngModelChange","ngModel"],["type","number","placeholder","Rate / Num",1,"extra-small-input",3,"ngModelChange","ngModel"],["type","number","placeholder","Rate / Volume",1,"extra-small-input",3,"ngModelChange","ngModel"],["type","number","placeholder","Rate / Kg",1,"extra-small-input",3,"ngModelChange","ngModel"],[1,"error"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"header",1)(2,"div")(3,"p",2),h(4,"Operations"),u(),c(5,"h1"),h(6,"New Shipment"),u(),c(7,"p",3),h(8,"Create and save a shipment with consignor/consignee, items, and charges."),u()(),c(9,"div",4)(10,"div",5)(11,"span"),h(12,"Branch"),u(),c(13,"strong"),h(14),u()(),c(15,"div",5)(16,"span"),h(17,"Consignment No."),u(),c(18,"strong"),h(19),u()(),c(20,"div",5)(21,"span"),h(22,"Date"),u(),c(23,"input",6),w("ngModelChange",function(s){return M(r.date,s)||(r.date=s),s}),u()()()(),c(24,"div",7)(25,"div",8)(26,"div",9)(27,"div",10)(28,"div")(29,"p",2),h(30,"Shipment"),u(),c(31,"h3"),h(32,"Shipment Details"),u()()(),c(33,"div",11)(34,"label"),h(35,"Consignment Number* "),c(36,"input",12),w("ngModelChange",function(s){return M(r.consignmentNumber,s)||(r.consignmentNumber=s),s}),u()(),c(37,"label"),h(38,"External Ref ID "),c(39,"input",13),w("ngModelChange",function(s){return M(r.externalRefId,s)||(r.externalRefId=s),s}),u()()()(),c(40,"div",9)(41,"div",10)(42,"div")(43,"p",2),h(44,"Parties"),u(),c(45,"h3"),h(46,"Sender & Receiver"),u()(),c(47,"div",14),h(48,"Branch scoped"),u()(),c(49,"div",15)(50,"div",16)(51,"div",17)(52,"h4"),h(53,"Consignor (Sender)"),u(),c(54,"div",18)(55,"button",19),T("click",function(){return r.consignorTab="consignor"}),h(56,"Client"),u(),c(57,"button",19),T("click",function(){return r.consignorTab="guest"}),h(58,"Guest"),u()()(),N(59,gH,19,5,"div",20)(60,_H,16,4,"div",20),u(),c(61,"div",16)(62,"div",17)(63,"h4"),h(64,"Consignee (Receiver)"),u(),c(65,"div",18)(66,"button",19),T("click",function(){return r.consigneeTab="consignee"}),h(67,"Client"),u(),c(68,"button",19),T("click",function(){return r.consigneeTab="guest"}),h(69,"Guest"),u()()(),N(70,yH,19,5,"div",20)(71,bH,16,4,"div",20),u()()(),c(72,"div",9)(73,"div",10)(74,"div")(75,"p",2),h(76,"Addresses"),u(),c(77,"h3"),h(78,"Billing, Pickup & Delivery"),u()()(),c(79,"div",11)(80,"div",21)(81,"div",17)(82,"h4"),h(83,"Billing"),u(),c(84,"div",22)(85,"button",19),T("click",function(){return r.billingType="consignor"}),h(86,"Use Consignor"),u(),c(87,"button",19),T("click",function(){return r.billingType="different"}),h(88,"Different"),u()()(),N(89,wH,13,4,"div",20)(90,MH,2,0,"div",23),u(),c(91,"div",21)(92,"div",17)(93,"h4"),h(94,"Pickup"),u(),c(95,"div",22)(96,"button",19),T("click",function(){return r.pickupType="consignor"}),h(97,"Use Consignor"),u(),c(98,"button",19),T("click",function(){return r.pickupType="different"}),h(99,"Different"),u()()(),N(100,DH,10,3,"div",20)(101,SH,2,0,"div",23),u()(),c(102,"div",21)(103,"div",17)(104,"h4"),h(105,"Delivery"),u(),c(106,"div",22)(107,"button",19),T("click",function(){return r.deliveryType="consignee"}),h(108,"Use Consignee"),u(),c(109,"button",19),T("click",function(){return r.deliveryType="different"}),h(110,"Different"),u()()(),N(111,TH,11,3,"div",20)(112,IH,2,0,"div",23),u()()(),c(113,"div",8)(114,"div",9)(115,"div",10)(116,"div")(117,"p",2),h(118,"Items"),u(),c(119,"h3"),h(120,"E-Waybills & Invoices"),u()(),c(121,"button",24),T("click",function(){return r.addEwaybill()}),h(122,"+ E-Waybill"),u()(),N(123,kH,12,4,"div",25),c(124,"div",26)(125,"span",27),h(126,"Need another e-waybill?"),u(),c(127,"button",24),T("click",function(){return r.addEwaybill()}),h(128,"+ E-Waybill"),u()()(),c(129,"div",9)(130,"div",10)(131,"div")(132,"p",2),h(133,"Money"),u(),c(134,"h3"),h(135,"Charges & Payment"),u()()(),c(136,"div",11)(137,"label"),h(138,"Payment Mode "),c(139,"select",28),w("ngModelChange",function(s){return M(r.paymentMode,s)||(r.paymentMode=s),s}),c(140,"option"),h(141,"To Pay"),u(),c(142,"option"),h(143,"Account Credit"),u(),c(144,"option"),h(145,"Paid"),u()()(),c(146,"label"),h(147,"Shipment Status "),c(148,"select",28),w("ngModelChange",function(s){return M(r.shipmentStatus,s)||(r.shipmentStatus=s),s}),c(149,"option"),h(150,"Pending"),u(),c(151,"option"),h(152,"In Transit"),u(),c(153,"option"),h(154,"Delivered"),u(),c(155,"option"),h(156,"Cancelled"),u()()()(),c(157,"div",29)(158,"label"),h(159,"ODC "),c(160,"input",30),w("ngModelChange",function(s){return M(r.charges.odc,s)||(r.charges.odc=s),s}),u()(),c(161,"label"),h(162,"Unloading "),c(163,"input",30),w("ngModelChange",function(s){return M(r.charges.unloading,s)||(r.charges.unloading=s),s}),u()(),c(164,"label"),h(165,"Docket "),c(166,"input",30),w("ngModelChange",function(s){return M(r.charges.docket,s)||(r.charges.docket=s),s}),u()(),c(167,"label"),h(168,"Other "),c(169,"input",30),w("ngModelChange",function(s){return M(r.charges.other,s)||(r.charges.other=s),s}),u()(),c(170,"label"),h(171,"CCC "),c(172,"input",30),w("ngModelChange",function(s){return M(r.charges.ccc,s)||(r.charges.ccc=s),s}),u()(),c(173,"label"),h(174,"Discount (Consignor) "),c(175,"input",31),w("ngModelChange",function(s){return M(r.charges.consignorDiscount,s)||(r.charges.consignorDiscount=s),s}),u()(),c(176,"label"),h(177,"Final Amount "),c(178,"input",32),w("ngModelChange",function(s){return M(r.finalAmount,s)||(r.finalAmount=s),s}),u()()()()()(),c(179,"div",33)(180,"div",34)(181,"div")(182,"span",2),h(183,"Consignment"),u(),c(184,"strong"),h(185),u()(),c(186,"div")(187,"span",2),h(188,"Branch"),u(),c(189,"strong"),h(190),u()(),c(191,"div")(192,"span",2),h(193,"Final Amount"),u(),c(194,"strong"),h(195),u()()(),c(196,"div",35)(197,"button",36),T("click",function(){return r.resetForm()}),h(198,"Reset"),u(),c(199,"button",36),T("click",function(){return r.calculateFinalAmount()}),h(200,"Calculate"),u(),c(201,"button",37),T("click",function(){return r.saveShipment()}),h(202),u()()()(),N(203,LH,52,13,"div",38)(204,BH,29,8,"div",38)),2&i&&(p(14),B(r.branch||"All Branches"),p(5),B(r.consignmentNumber),p(4),b("ngModel",r.date),p(13),b("ngModel",r.consignmentNumber),p(3),b("ngModel",r.externalRefId),p(16),qe("active","consignor"===r.consignorTab),p(2),qe("active","guest"===r.consignorTab),p(2),S("ngIf","consignor"===r.consignorTab),p(),S("ngIf","guest"===r.consignorTab),p(6),qe("active","consignee"===r.consigneeTab),p(2),qe("active","guest"===r.consigneeTab),p(2),S("ngIf","consignee"===r.consigneeTab),p(),S("ngIf","guest"===r.consigneeTab),p(14),qe("active","consignor"===r.billingType),p(2),qe("active","different"===r.billingType),p(2),S("ngIf","different"===r.billingType),p(),S("ngIf","consignor"===r.billingType),p(6),qe("active","consignor"===r.pickupType),p(2),qe("active","different"===r.pickupType),p(2),S("ngIf","different"===r.pickupType),p(),S("ngIf","consignor"===r.pickupType),p(6),qe("active","consignee"===r.deliveryType),p(2),qe("active","different"===r.deliveryType),p(2),S("ngIf","different"===r.deliveryType),p(),S("ngIf","consignee"===r.deliveryType),p(11),S("ngForOf",r.ewaybills),p(16),b("ngModel",r.paymentMode),p(9),b("ngModel",r.shipmentStatus),p(12),b("ngModel",r.charges.odc),p(3),b("ngModel",r.charges.unloading),p(3),b("ngModel",r.charges.docket),p(3),b("ngModel",r.charges.other),p(3),b("ngModel",r.charges.ccc),p(3),b("ngModel",r.charges.consignorDiscount),p(3),b("ngModel",r.finalAmount),p(7),B(r.consignmentNumber),p(5),B(r.branch),p(5),B(r.finalAmount||0),p(6),S("disabled",r.isSaving),p(),z(" ",r.isSaving?"Saving...":"Save"," "),p(),S("ngIf",r.showClientModal),p(),S("ngIf",r.showGuestModal))},dependencies:[Bt,Et,_t,yt,li,ci,ot,ai,bn,ft,st],styles:["[_ngcontent-%COMP%]:root{--bg: #f6f8fb;--card: #ffffff;--border: #e5e7eb;--text: #000000;--muted: #000000;--primary: #2563eb;--primary-strong: #1e3a8a}.page-shell[_ngcontent-%COMP%]{max-width:1280px;margin:0 auto 72px;padding:24px;background:var(--bg);color:var(--text)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:16px;align-items:flex-start;margin-bottom:16px}.eyebrow[_ngcontent-%COMP%]{margin:0;font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:var(--muted)}h1[_ngcontent-%COMP%]{margin:4px 0;font-size:26px}.subhead[_ngcontent-%COMP%]{margin:0;color:var(--muted);font-size:14px}.meta-stack[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;flex-wrap:wrap}.chip-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:10px 12px;background:#eef2ff;border:1px solid #e0e7ff;border-radius:10px;min-width:160px}.chip-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:var(--muted)}.layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.1fr .9fr;gap:16px;align-items:start}.card[_ngcontent-%COMP%]{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:16px;box-shadow:0 4px 16px #0f172a0d}.card-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:12px}.pill[_ngcontent-%COMP%]{padding:6px 10px;border-radius:20px;background:#e0f2fe;color:#0ea5e9;font-weight:600;font-size:12px;white-space:nowrap}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;font-weight:600;font-size:13px;color:#1f2937}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px;border:1px solid var(--border);border-radius:8px;font-size:14px;color:var(--text);background:#fff}textarea[_ngcontent-%COMP%]{min-height:70px;resize:vertical}.tab-buttons[_ngcontent-%COMP%]{display:inline-flex;background:#e5e7eb;border-radius:8px;padding:4px;gap:4px}.tab-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;padding:6px 12px;border-radius:6px;cursor:pointer;color:var(--muted);font-weight:600}.tab-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:var(--primary-strong);box-shadow:0 2px 8px #0f172a1f}.tab-buttons.ghost[_ngcontent-%COMP%]{background:#f8fafc}.party-grid[_ngcontent-%COMP%]{gap:12px}.panel[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:10px;padding:12px;background:#fff;display:flex;flex-direction:column;gap:8px}.panel.soft[_ngcontent-%COMP%]{background:#f8fafc}.panel-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px;align-items:center}.panel-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.inline-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px}.muted[_ngcontent-%COMP%]{color:var(--muted)}.muted[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text)}.small-text[_ngcontent-%COMP%]{font-size:12px}.tiny-btn[_ngcontent-%COMP%]{padding:8px 10px;border-radius:8px;border:1px solid var(--border);background:#fff;cursor:pointer;font-weight:600}.tiny-btn.primary[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border-color:var(--primary)}.tiny-btn.primary.black[_ngcontent-%COMP%]{background:#000;border-color:#000;color:#fff}.tiny-btn.primary.ghost[_ngcontent-%COMP%]{background:#eef2ff;color:var(--primary-strong)}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border);width:28px;height:28px;border-radius:6px;cursor:pointer;color:var(--muted)}.ewaybill[_ngcontent-%COMP%]{border:1px dashed var(--border);border-radius:12px;padding:12px;margin-bottom:12px;background:#f8fafc}.invoice-block[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border);border-radius:10px;padding:10px;margin-top:10px;display:flex;flex-direction:column;gap:10px}.line-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;justify-content:space-between;flex-wrap:wrap}.grid-3.compact[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}.compact-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 110px auto;gap:8px;align-items:center}.subsection[_ngcontent-%COMP%]{margin-top:8px;border:1px dashed var(--border);border-radius:10px;padding:10px;background:#fff}.subsection-title[_ngcontent-%COMP%]{font-weight:600;color:var(--muted);margin-bottom:8px}.charges-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;margin-top:12px}.action-bar[_ngcontent-%COMP%]{position:sticky;bottom:0;display:flex;justify-content:space-between;align-items:center;gap:12px;padding:12px 16px;background:#fffffff2;border:1px solid var(--border);border-radius:12px;box-shadow:0 -4px 16px #0f172a14;margin-top:12px}.summary[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.summary[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}button.primary[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border:1px solid var(--primary);padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:700}button.ghost[_ngcontent-%COMP%]{background:#f8fafc;color:var(--text);border:1px solid var(--border);padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:700}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;display:flex;align-items:center;justify-content:center;z-index:2000;padding:16px}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;width:min(520px,100%);box-shadow:0 10px 40px #00000029;display:flex;flex-direction:column;gap:10px;max-height:90vh;overflow-y:auto}.modal-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px}.modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:70px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px}.error[_ngcontent-%COMP%]{color:#b91c1c;font-size:12px}.inline-fields[_ngcontent-%COMP%]{display:flex;gap:8px;flex:1;min-width:260px}.inline-fields[_ngcontent-%COMP%]   .flex-1[_ngcontent-%COMP%]{flex:1;min-width:160px}.product-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));gap:8px;align-items:center}@media (max-width: 1080px){.layout[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 720px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}.grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.meta-stack[_ngcontent-%COMP%], .action-bar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}@media (max-width: 520px){.grid-3[_ngcontent-%COMP%]{grid-template-columns:1fr}.inline-fields[_ngcontent-%COMP%]{flex-direction:column}.compact-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return e})();function UH(e,n){if(1&e){const t=k();c(0,"tr",13),T("click",function(){const r=y(t).$implicit;return C(m().openShipmentDetails(r))}),c(1,"td"),h(2),u(),c(3,"td"),h(4),u(),c(5,"td"),h(6),u(),c(7,"td"),h(8),u(),c(9,"td"),h(10),u(),c(11,"td"),h(12),u(),c(13,"td"),h(14),u(),c(15,"td"),h(16),u()()}if(2&e){const t=n.$implicit,i=m();p(2),B(t.consignmentNumber),p(2),B(t.shipmentStatus),p(2),B(t.consignor),p(2),B(t.deliveryAddress),p(2),B(i.getProductTotal(t.invoices,"instock")),p(2),B(i.getProductTotal(t.invoices,"intransitstock")),p(2),B(i.getProductTotal(t.invoices,"deliveredstock")),p(2),B(i.getInvoiceAmountTotal(t.invoices))}}function HH(e,n){if(1&e&&(c(0,"li"),h(1),u()),2&e){const t=n.$implicit;p(),Io(" ",t.type," (In Stock Qty: ",t.instock,") (Total Qty: ",t.amount,") ")}}function GH(e,n){if(1&e&&(c(0,"li"),h(1),c(2,"ul"),N(3,HH,2,3,"li",18),u()()),2&e){const t=n.$implicit;p(),z(" ",t.number,": "),p(2),S("ngForOf",t.products)}}function $H(e,n){if(1&e){const t=k();c(0,"div",14)(1,"div",15)(2,"span",16),T("click",function(){return y(t),C(m().closeShipmentDetails())}),h(3,"\xd7"),u(),c(4,"h2"),h(5,"Shipment Details"),u(),c(6,"div",17)(7,"p")(8,"strong"),h(9,"Consignment No.:"),u(),h(10),u(),c(11,"p")(12,"strong"),h(13,"Status:"),u(),h(14),u(),c(15,"p")(16,"strong"),h(17,"Consignor:"),u(),h(18),u(),c(19,"p")(20,"strong"),h(21,"Consignee:"),u(),h(22),u(),c(23,"p")(24,"strong"),h(25,"Delivery Address:"),u(),h(26),u(),c(27,"p")(28,"strong"),h(29,"Date:"),u(),h(30),Tc(31,"date"),u(),c(32,"p")(33,"strong"),h(34,"Products in stock:"),u(),h(35),u(),c(36,"p")(37,"strong"),h(38,"No. of Products:"),u(),h(39),u()(),c(40,"h3"),h(41,"Products"),u(),c(42,"ul"),N(43,GH,4,2,"li",18),u()()()}if(2&e){const t=m();p(10),z(" ",t.selectedShipment.consignmentNumber,""),p(4),z(" ",t.selectedShipment.shipmentStatus,""),p(4),z(" ",t.selectedShipment.consignor,""),p(4),z(" ",t.selectedShipment.consignee,""),p(4),z(" ",t.selectedShipment.deliveryAddress,""),p(4),z(" ",Ic(31,9,t.selectedShipment.date,"short"),""),p(5),z(" ",t.getInStockAmountTotal(t.selectedShipment.invoices),""),p(4),z(" ",t.getInvoiceAmountTotal(t.selectedShipment.invoices),""),p(4),S("ngForOf",t.selectedShipment.invoices)}}let zH=(()=>{class e{constructor(t){this.http=t,this.shipments=[],this.filteredShipments=[],this.searchText="",this.filterDate="",this.filterStatus="",this.filterConsignor="",this.selectedShipment=null}ngOnInit(){this.loadShipments()}loadShipments(){this.http.get("http://localhost:3000/api/newshipments",{params:{username:localStorage.getItem("username")||"",branch:localStorage.getItem("branch")||"All Branches"}}).subscribe({next:t=>{const i=(t||[]).map(r=>({...r,invoices:this.flattenInvoices(r.ewaybills||r.invoices||[])}));this.shipments=i,this.filteredShipments=i},error:t=>console.error("Error loading shipments:",t)})}flattenInvoices(t){return(t||[]).flatMap(i=>i.invoices||[])}getProductTotal(t,i){return t?t.reduce((r,o)=>{const s=o.products?.reduce((a,l)=>a+Number(l[i]||0),0)||0;return r+Number(s||0)},0):0}getInStockAmountTotal(t){return this.getProductTotal(t,"instock")}getInvoiceAmountTotal(t){return this.getInStockAmountTotal(t)+this.getProductTotal(t,"intransitstock")+this.getProductTotal(t,"deliveredstock")}applyFilters(){this.filteredShipments=this.shipments.filter(t=>{const i=!this.searchText||t.consignmentNumber?.toLowerCase().includes(this.searchText.toLowerCase())||t.consignor?.toLowerCase().includes(this.searchText.toLowerCase()),r=!this.filterDate||new Date(t.date).toDateString()===new Date(this.filterDate).toDateString(),o=!this.filterStatus||t.shipmentStatus===this.filterStatus,s=!this.filterConsignor||t.consignor?.toLowerCase().includes(this.filterConsignor.toLowerCase());return i&&r&&o&&s})}openShipmentDetails(t){this.selectedShipment=t}closeShipmentDetails(){this.selectedShipment=null}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-view-shipments"]],standalone:!0,features:[Fe],decls:38,vars:6,consts:[[1,"shipments-container"],[1,"filters"],["type","text","placeholder","Search by consignment no. or consignor",3,"ngModelChange","input","ngModel"],["type","date",3,"ngModelChange","change","ngModel"],[3,"ngModelChange","change","ngModel"],["value",""],["value","Pending"],["value","In Transit"],["value","Delivered"],["type","text","placeholder","Filter by consignor",3,"ngModelChange","input","ngModel"],[1,"shipments-table"],[3,"click",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[3,"click"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[1,"shipment-details"],[4,"ngFor","ngForOf"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"View Shipments"),u(),c(3,"div",1)(4,"input",2),w("ngModelChange",function(s){return M(r.searchText,s)||(r.searchText=s),s}),T("input",function(){return r.applyFilters()}),u(),c(5,"input",3),w("ngModelChange",function(s){return M(r.filterDate,s)||(r.filterDate=s),s}),T("change",function(){return r.applyFilters()}),u(),c(6,"select",4),w("ngModelChange",function(s){return M(r.filterStatus,s)||(r.filterStatus=s),s}),T("change",function(){return r.applyFilters()}),c(7,"option",5),h(8,"All Status"),u(),c(9,"option",6),h(10,"Pending"),u(),c(11,"option",7),h(12,"In Transit"),u(),c(13,"option",8),h(14,"Delivered"),u()(),c(15,"input",9),w("ngModelChange",function(s){return M(r.filterConsignor,s)||(r.filterConsignor=s),s}),T("input",function(){return r.applyFilters()}),u()(),c(16,"table",10)(17,"thead")(18,"tr")(19,"th"),h(20,"Consignment No."),u(),c(21,"th"),h(22,"Status"),u(),c(23,"th"),h(24,"Consignor"),u(),c(25,"th"),h(26,"Delivery Address"),u(),c(27,"th"),h(28,"Products in stock"),u(),c(29,"th"),h(30,"Products in Transit"),u(),c(31,"th"),h(32,"Products Delivered"),u(),c(33,"th"),h(34,"No. of Products"),u()()(),c(35,"tbody"),N(36,UH,17,8,"tr",11),u()()(),N(37,$H,44,12,"div",12)),2&i&&(p(4),b("ngModel",r.searchText),p(),b("ngModel",r.filterDate),p(),b("ngModel",r.filterStatus),p(9),b("ngModel",r.filterConsignor),p(21),S("ngForOf",r.filteredShipments),p(),S("ngIf",r.selectedShipment))},dependencies:[Bt,Et,_t,iu,yt,li,ci,ot,bn,ft,st],styles:[".shipments-container[_ngcontent-%COMP%]{padding:20px}.filters[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.shipments-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.shipments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .shipments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;text-align:left}.shipments-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;cursor:pointer}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;width:500px;max-height:80vh;overflow-y:auto;border-radius:8px;position:relative}.close[_ngcontent-%COMP%]{position:absolute;right:15px;top:10px;font-size:24px;cursor:pointer}"]})}}return e})(),qH=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-admin"]],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"Admin"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})(),WH=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-settings"]],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"Settings"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})();function ZH(e,n){1&e&&te(0,"img",20),2&e&&S("src",m().profile.photo,Hh)}function QH(e,n){1&e&&(c(0,"span"),h(1,"No Photo"),u())}let YH=(()=>{class e{constructor(t){this.http=t,this.profile={name:"",photo:"",address:"",company:"",mobile:"",email:"",role:"",businessType:"",pricePerNumber:0,pricePerKg:0,pricePerArea:0}}ngOnInit(){this.loadProfile()}loadProfile(){const t=localStorage.getItem("email"),i=localStorage.getItem("username");this.http.get(`http://localhost:3000/api/profile?user=${i}&email=${t}`).subscribe({next:r=>{this.profile=r[0]||this.profile,console.log("Profile loaded:",this.profile)},error:r=>console.error("Error loading products:",r)})}onFileSelected(t){const i=t.target.files[0];if(i){const r=new FileReader;r.onload=()=>{this.profile.photo=r.result},r.readAsDataURL(i)}}saveProfile(){console.log("\u{1f4e4} Sending profile data:",this.profile),this.http.post("http://localhost:3000/api/profile/save",this.profile,{headers:{"Content-Type":"application/json"}}).subscribe({next:t=>{console.log("\u2705 Profile saved",t),alert("Profile saved successfully!")},error:t=>{console.error("\u274c Error saving profile:",t),alert("Error: "+t.error.message)}})}clearProfile(){this.profile={name:"",address:"",company:"",mobile:"",role:"",photo:"",businessType:""},console.log("Profile cleared locally.")}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-profile"]],standalone:!0,features:[Fe],decls:68,vars:14,consts:[[1,"profile-container"],[1,"profile-main"],[1,"photo-section"],[1,"photo-frame"],["alt","Profile Photo",3,"src",4,"ngIf"],[4,"ngIf"],["type","file",3,"change"],[1,"form-section"],[1,"form-row"],["placeholder","Enter address",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter company name",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter mobile number",3,"ngModelChange","ngModel"],["type","radio","value","5",3,"ngModelChange","ngModel"],["type","radio","value","12",3,"ngModelChange","ngModel"],["type","radio","value","18",3,"ngModelChange","ngModel"],[1,"pricing-section"],[1,"grid-3"],["type","number","placeholder","\u20b9",3,"ngModelChange","ngModel"],[1,"button-section"],[3,"click"],["alt","Profile Photo",3,"src"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),N(4,ZH,1,1,"img",4)(5,QH,2,0,"span",5),u(),c(6,"input",6),T("change",function(s){return r.onFileSelected(s)}),u()(),c(7,"div",7)(8,"div",8)(9,"label"),h(10,"Name:"),u(),c(11,"span"),h(12),u()(),c(13,"div",8)(14,"label"),h(15,"Address:"),u(),c(16,"textarea",9),w("ngModelChange",function(s){return M(r.profile.address,s)||(r.profile.address=s),s}),u()(),c(17,"div",8)(18,"label"),h(19,"Company Name:"),u(),c(20,"input",10),w("ngModelChange",function(s){return M(r.profile.company,s)||(r.profile.company=s),s}),u()(),c(21,"div",8)(22,"label"),h(23,"Mobile Number:"),u(),c(24,"input",11),w("ngModelChange",function(s){return M(r.profile.mobile,s)||(r.profile.mobile=s),s}),u()(),c(25,"div",8)(26,"label"),h(27,"Email:"),u(),c(28,"span"),h(29),u()(),c(30,"div",8)(31,"label"),h(32,"Role:"),u(),c(33,"span"),h(34),u()()()(),c(35,"div",8)(36,"label"),h(37,"Type of Business:"),u(),c(38,"div")(39,"label")(40,"input",12),w("ngModelChange",function(s){return M(r.profile.businessType,s)||(r.profile.businessType=s),s}),u(),h(41," Goods Transport Agency (GTA) - 5% "),u(),c(42,"label")(43,"input",13),w("ngModelChange",function(s){return M(r.profile.businessType,s)||(r.profile.businessType=s),s}),u(),h(44," Parcel - 12% "),u(),c(45,"label")(46,"input",14),w("ngModelChange",function(s){return M(r.profile.businessType,s)||(r.profile.businessType=s),s}),u(),h(47," Courier - 18% "),u()()(),c(48,"div",15)(49,"h3"),h(50,"Standard Pricing"),u(),c(51,"div",16)(52,"label"),h(53,"Price per box (\u20b9) "),c(54,"input",17),w("ngModelChange",function(s){return M(r.profile.pricePerNumber,s)||(r.profile.pricePerNumber=s),s}),u()(),te(55,"br"),c(56,"label"),h(57,"Price per Kilogram (\u20b9) "),c(58,"input",17),w("ngModelChange",function(s){return M(r.profile.pricePerKg,s)||(r.profile.pricePerKg=s),s}),u()(),te(59,"br"),c(60,"label"),h(61,"Price per Area (cm\xb3 / sq units) (\u20b9) "),c(62,"input",17),w("ngModelChange",function(s){return M(r.profile.pricePerArea,s)||(r.profile.pricePerArea=s),s}),u()()()(),c(63,"div",18)(64,"button",19),T("click",function(){return r.saveProfile()}),h(65,"Save"),u(),c(66,"button",19),T("click",function(){return r.clearProfile()}),h(67,"Clear"),u()()()),2&i&&(p(4),S("ngIf",r.profile.photo),p(),S("ngIf",!r.profile.photo),p(7),B(r.profile.name),p(4),b("ngModel",r.profile.address),p(4),b("ngModel",r.profile.company),p(4),b("ngModel",r.profile.mobile),p(5),B(r.profile.email),p(5),B(r.profile.role),p(6),b("ngModel",r.profile.businessType),p(3),b("ngModel",r.profile.businessType),p(3),b("ngModel",r.profile.businessType),p(8),b("ngModel",r.profile.pricePerNumber),p(4),b("ngModel",r.profile.pricePerKg),p(4),b("ngModel",r.profile.pricePerArea))},dependencies:[Bt,_t,yt,ot,ai,Zu,ft,st,MB],styles:[".profile-container[_ngcontent-%COMP%]{max-width:900px;margin:auto;background:#f9f9f9;padding:20px;border-radius:10px;display:flex;flex-direction:column;gap:20px}.profile-main[_ngcontent-%COMP%]{display:flex;gap:30px;align-items:flex-start}.photo-section[_ngcontent-%COMP%]{flex:1;text-align:center}.photo-frame[_ngcontent-%COMP%]{width:150px;height:150px;border:2px solid #ccc;border-radius:50%;margin:auto;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#eee}.photo-frame[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.photo-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px}.form-section[_ngcontent-%COMP%]{flex:2;display:grid;grid-template-columns:1fr 2fr;gap:15px 20px}.form-row[_ngcontent-%COMP%]{display:contents}.form-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;align-self:center}.form-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px;border-radius:5px;border:1px solid #ccc;width:100%}.button-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px}.button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;cursor:pointer}.button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#2c3e50;color:#fff}.button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#e74c3c;color:#fff}"]})}}return e})();function KH(e,n){if(1&e){const t=k();c(0,"button",19),T("click",function(){y(t);const r=m().index;return C(m().removeVehicle(r))}),h(1,"\u{1f5d1}\ufe0f"),u()}}function JH(e,n){if(1&e){const t=k();c(0,"div",15)(1,"input",16),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.vehicleNo,r)||(o.vehicleNo=r),C(r)}),u(),c(2,"input",17),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.driverPhone,r)||(o.driverPhone=r),C(r)}),u(),N(3,KH,2,0,"button",18),u()}if(2&e){const t=n.$implicit,i=m();p(),b("ngModel",t.vehicleNo),p(),b("ngModel",t.driverPhone),p(),S("ngIf",i.newBranch.vehicles.length>1)}}function XH(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.branchName)}}function e5(e,n){if(1&e){const t=k();c(0,"input",25),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingBranch.branchName,r)||(o.editingBranch.branchName=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingBranch.branchName)}function t5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.address)}}function n5(e,n){if(1&e){const t=k();c(0,"input",25),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingBranch.address,r)||(o.editingBranch.address=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingBranch.address)}function i5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.city)}}function r5(e,n){if(1&e){const t=k();c(0,"input",25),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingBranch.city,r)||(o.editingBranch.city=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingBranch.city)}function o5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.state)}}function s5(e,n){if(1&e){const t=k();c(0,"input",25),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingBranch.state,r)||(o.editingBranch.state=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingBranch.state)}function a5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.pinCode)}}function l5(e,n){if(1&e){const t=k();c(0,"input",25),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingBranch.pinCode,r)||(o.editingBranch.pinCode=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingBranch.pinCode)}function c5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.phoneNum)}}function u5(e,n){if(1&e){const t=k();c(0,"input",25),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingBranch.phoneNum,r)||(o.editingBranch.phoneNum=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingBranch.phoneNum)}function d5(e,n){if(1&e&&(c(0,"div"),h(1),u()),2&e){const t=n.$implicit;p(),Pe(" \u{1f69a} ",t.vehicleNo," \u2014 \u{1f4de} ",t.driverPhone," ")}}function h5(e,n){if(1&e&&(c(0,"div"),N(1,d5,2,2,"div",14),u()),2&e){const t=m().$implicit;p(),S("ngForOf",t.vehicles)}}function f5(e,n){if(1&e){const t=k();c(0,"button",19),T("click",function(){y(t);const r=m().index;return C(m(3).removeVehicleEdit(r))}),h(1,"\u{1f5d1}\ufe0f"),u()}}function p5(e,n){if(1&e){const t=k();c(0,"div",15)(1,"input",16),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.vehicleNo,r)||(o.vehicleNo=r),C(r)}),u(),c(2,"input",17),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.driverPhone,r)||(o.driverPhone=r),C(r)}),u(),N(3,f5,2,0,"button",18),u()}if(2&e){const t=n.$implicit,i=m(3);p(),b("ngModel",t.vehicleNo),p(),b("ngModel",t.driverPhone),p(),S("ngIf",i.editingBranch.vehicles.length>1)}}function g5(e,n){if(1&e){const t=k();c(0,"div",26),N(1,p5,4,3,"div",10),c(2,"button",11),T("click",function(){return y(t),C(m(2).addVehicleEdit())}),h(3,"+ Vehicle"),u()()}if(2&e){const t=m(2);p(),S("ngForOf",t.editingBranch.vehicles)}}function m5(e,n){if(1&e){const t=k();c(0,"button",23),T("click",function(){y(t);const r=m().$implicit;return C(m().editBranch(r))}),h(1,"Edit"),u()}}function _5(e,n){if(1&e){const t=k();c(0,"button",23),T("click",function(){return y(t),C(m(2).saveEdit())}),h(1,"Save"),u()}}function v5(e,n){if(1&e){const t=k();c(0,"tr")(1,"td"),N(2,XH,2,1,"span",20)(3,e5,1,1,"input",21),u(),c(4,"td"),N(5,t5,2,1,"span",20)(6,n5,1,1,"input",21),u(),c(7,"td"),N(8,i5,2,1,"span",20)(9,r5,1,1,"input",21),u(),c(10,"td"),N(11,o5,2,1,"span",20)(12,s5,1,1,"input",21),u(),c(13,"td"),N(14,a5,2,1,"span",20)(15,l5,1,1,"input",21),u(),c(16,"td"),N(17,c5,2,1,"span",20)(18,u5,1,1,"input",21),u(),c(19,"td"),N(20,h5,2,1,"div",20)(21,g5,4,1,"div",22),u(),c(22,"td")(23,"button",23),T("click",function(){const r=y(t).$implicit;return C(m().toggleStatus(r))}),h(24),u()(),c(25,"td"),N(26,m5,2,0,"button",24)(27,_5,2,0,"button",24),u()()}if(2&e){const t=n.$implicit,i=m();p(2),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)!==t._id),p(),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)===t._id),p(2),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)!==t._id),p(),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)===t._id),p(2),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)!==t._id),p(),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)===t._id),p(2),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)!==t._id),p(),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)===t._id),p(2),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)!==t._id),p(),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)===t._id),p(2),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)!==t._id),p(),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)===t._id),p(2),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)!==t._id),p(),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)===t._id),p(3),z(" ","active"===t.status?"Deactivate":"Activate"," "),p(2),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)!==t._id),p(),S("ngIf",(null==i.editingBranch?null:i.editingBranch._id)===t._id)}}let y5=(()=>{class e{constructor(t){this.http=t,this.branches=[],this.newBranch={branchName:"",address:"",city:"",state:"",pinCode:"",phoneNum:"",vehicles:[{vehicleNo:"",driverPhone:""}],status:"active"},this.editingBranch=null}ngOnInit(){localStorage.setItem("branch","All Branches"),this.loadBranches()}loadBranches(){this.http.get("http://localhost:3000/api/branches").subscribe({next:t=>{this.branches=t},error:t=>console.error("Error loading branches:",t)})}addVehicle(){this.newBranch.vehicles.push({vehicleNo:"",driverPhone:""})}removeVehicle(t){this.newBranch.vehicles.splice(t,1)}addVehicleEdit(){this.editingBranch.vehicles.push({vehicleNo:"",driverPhone:""})}removeVehicleEdit(t){this.editingBranch.vehicles.splice(t,1)}addBranch(){if(!this.newBranch.branchName||!this.newBranch.address||!this.newBranch.phoneNum)return void alert("Branch Name, Address, and Branch Phone are required.");if(Array.isArray(this.newBranch.vehicles)&&this.newBranch.vehicles.some(o=>(o?.vehicleNo||o?.driverPhone)&&!(o?.vehicleNo&&o?.driverPhone)))return void alert("Each vehicle must have both Vehicle No. and Driver Phone (or leave the row empty).");const i=Array.isArray(this.newBranch.vehicles)?this.newBranch.vehicles.filter(o=>o?.vehicleNo&&o?.driverPhone):[];this.http.post("http://localhost:3000/api/branches/add",{branchName:this.newBranch.branchName,address:this.newBranch.address,city:this.newBranch.city,state:this.newBranch.state,pinCode:this.newBranch.pinCode,phoneNum:this.newBranch.phoneNum,vehicles:i},{headers:{"Content-Type":"application/json"}}).subscribe({next:()=>{alert("Branch added successfully!"),this.loadBranches(),this.resetNewBranch()},error:o=>{console.error("Error saving branch:",o),alert("Error: "+(o?.error?.message||o?.message||"Bad Request"))}})}resetNewBranch(){this.newBranch={branchName:"",address:"",city:"",state:"",pinCode:"",phoneNum:"",vehicles:[{vehicleNo:"",driverPhone:""}],status:"active"}}editBranch(t){this.editingBranch=JSON.parse(JSON.stringify(t))}saveEdit(){this.http.put(`http://localhost:3000/api/branches/${this.editingBranch._id}`,this.editingBranch).subscribe({next:()=>{alert("Branch updated successfully!"),this.editingBranch=null,this.loadBranches()},error:t=>{console.error("Error updating branch:",t),alert("Error: "+(t?.error?.message||t?.message||"Bad Request"))}})}toggleStatus(t){this.http.patch(`http://localhost:3000/api/branches/${t._id}/status`,{}).subscribe(()=>{this.loadBranches()})}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-branch"]],standalone:!0,features:[Fe],decls:40,vars:8,consts:[[1,"branches-container"],[1,"add-branch-form"],["placeholder","Branch Name","required","",3,"ngModelChange","ngModel"],["placeholder","Address","required","",3,"ngModelChange","ngModel"],["placeholder","City",3,"ngModelChange","ngModel"],["placeholder","State",3,"ngModelChange","ngModel"],["placeholder","Pin Code",3,"ngModelChange","ngModel"],["placeholder","Branch Phone","required","",3,"ngModelChange","ngModel"],[1,"vehicle-wrapper"],[1,"vehicle-label"],["class","vehicle-row",4,"ngFor","ngForOf"],[1,"add-vehicle-btn",3,"click"],[1,"add-btn",3,"click"],[1,"branches-table-wrapper"],[4,"ngFor","ngForOf"],[1,"vehicle-row"],["placeholder","Vehicle No.",3,"ngModelChange","ngModel"],["placeholder","Driver Phone",3,"ngModelChange","ngModel"],["class","remove-btn",3,"click",4,"ngIf"],[1,"remove-btn",3,"click"],[4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["class","vehicle-edit-wrapper",4,"ngIf"],[3,"click"],[3,"click",4,"ngIf"],[3,"ngModelChange","ngModel"],[1,"vehicle-edit-wrapper"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"Manage Branches"),u(),c(3,"div",1)(4,"input",2),w("ngModelChange",function(s){return M(r.newBranch.branchName,s)||(r.newBranch.branchName=s),s}),u(),c(5,"input",3),w("ngModelChange",function(s){return M(r.newBranch.address,s)||(r.newBranch.address=s),s}),u(),c(6,"input",4),w("ngModelChange",function(s){return M(r.newBranch.city,s)||(r.newBranch.city=s),s}),u(),c(7,"input",5),w("ngModelChange",function(s){return M(r.newBranch.state,s)||(r.newBranch.state=s),s}),u(),c(8,"input",6),w("ngModelChange",function(s){return M(r.newBranch.pinCode,s)||(r.newBranch.pinCode=s),s}),u(),c(9,"input",7),w("ngModelChange",function(s){return M(r.newBranch.phoneNum,s)||(r.newBranch.phoneNum=s),s}),u(),c(10,"div",8)(11,"label",9),h(12,"Vehicles & Drivers"),u(),N(13,JH,4,3,"div",10),c(14,"button",11),T("click",function(){return r.addVehicle()}),h(15,"+ Add Vehicle"),u()(),c(16,"button",12),T("click",function(){return r.addBranch()}),h(17,"+ Add Branch"),u()(),c(18,"div",13)(19,"table")(20,"tr")(21,"th"),h(22,"Branch Name"),u(),c(23,"th"),h(24,"Address"),u(),c(25,"th"),h(26,"City"),u(),c(27,"th"),h(28,"State"),u(),c(29,"th"),h(30,"Pin"),u(),c(31,"th"),h(32,"Phone"),u(),c(33,"th"),h(34,"Vehicles & Drivers"),u(),c(35,"th"),h(36,"Status"),u(),c(37,"th"),h(38,"Actions"),u()(),N(39,v5,28,17,"tr",14),u()()()),2&i&&(p(4),b("ngModel",r.newBranch.branchName),p(),b("ngModel",r.newBranch.address),p(),b("ngModel",r.newBranch.city),p(),b("ngModel",r.newBranch.state),p(),b("ngModel",r.newBranch.pinCode),p(),b("ngModel",r.newBranch.phoneNum),p(4),S("ngForOf",r.newBranch.vehicles),p(26),S("ngForOf",r.branches))},dependencies:[Bt,Et,_t,yt,ot,ft,wn,st],styles:[".contact-row[_ngcontent-%COMP%], .compact-contact[_ngcontent-%COMP%]{display:flex;gap:6px}.delete-small[_ngcontent-%COMP%]{background-color:#fdd;border:1px solid red;padding:2px 6px;cursor:pointer}.tiny-btn[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;padding:3px 8px;cursor:pointer}.active-btn[_ngcontent-%COMP%]{background:#3cb371;color:#fff}.inactive-btn[_ngcontent-%COMP%]{background:#777;color:#fff}"]})}}return e})();const C5=(e,n)=>({"active-btn":e,"inactive-btn":n});function b5(e,n){if(1&e){const t=k();c(0,"button",22),T("click",function(){y(t);const r=m().index;return C(m().removeAddress(r))}),h(1,"\u{1f5d1}\ufe0f"),u()}}function w5(e,n){if(1&e){const t=k();c(0,"button",22),T("click",function(){y(t);const r=m().index,o=m().index;return C(m().removeVehicle(o,r))}),h(1,"\u{1f5d1}\ufe0f"),u()}}function M5(e,n){if(1&e){const t=k();c(0,"div",23)(1,"input",24),w("ngModelChange",function(r){const o=y(t).index,s=m().$implicit;return M(s.vehicles[o].vehicleNo,r)||(s.vehicles[o].vehicleNo=r),C(r)}),u(),c(2,"input",25),w("ngModelChange",function(r){const o=y(t).index,s=m().$implicit;return M(s.vehicles[o].driverPhone,r)||(s.vehicles[o].driverPhone=r),C(r)}),u(),N(3,w5,2,0,"button",18),u()}if(2&e){const t=n.index,i=m().$implicit;p(),b("ngModel",i.vehicles[t].vehicleNo),p(),b("ngModel",i.vehicles[t].driverPhone),p(),S("ngIf",i.vehicles.length>1)}}function D5(e,n){if(1&e){const t=k();c(0,"div",15)(1,"div",16)(2,"input",17),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.location,r)||(o.location=r),C(r)}),u(),N(3,b5,2,0,"button",18),u(),c(4,"div",19)(5,"label"),h(6,"Vehicles for this address"),u(),N(7,M5,4,3,"div",20),c(8,"button",21),T("click",function(){const r=y(t).index;return C(m().addVehicle(r))}),h(9,"+ Add Vehicle"),u()()()}if(2&e){const t=n.$implicit,i=m();p(2),b("ngModel",t.location),p(),S("ngIf",i.newHub.deliveryAddresses.length>1),p(4),S("ngForOf",t.vehicles)}}function S5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.hubName)}}function T5(e,n){if(1&e){const t=k();c(0,"input",32),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingHub.hubName,r)||(o.editingHub.hubName=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingHub.hubName)}function I5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.address)}}function E5(e,n){if(1&e){const t=k();c(0,"input",32),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingHub.address,r)||(o.editingHub.address=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingHub.address)}function N5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.city)}}function x5(e,n){if(1&e){const t=k();c(0,"input",32),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingHub.city,r)||(o.editingHub.city=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingHub.city)}function P5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.phoneNum)}}function A5(e,n){if(1&e){const t=k();c(0,"input",32),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingHub.phoneNum,r)||(o.editingHub.phoneNum=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingHub.phoneNum)}function k5(e,n){if(1&e&&(c(0,"div",41),h(1),u()),2&e){const t=n.$implicit;p(),Pe(" \u{1f69b} ",t.vehicleNo," \u2014 \u{1f4de} ",t.driverPhone," ")}}function O5(e,n){if(1&e&&(c(0,"div",39),N(1,k5,2,2,"div",40),u()),2&e){const t=m().$implicit;p(),S("ngForOf",t.vehicles)}}function R5(e,n){1&e&&(c(0,"div",42),h(1," \u2014 No vehicles assigned \u2014 "),u())}function F5(e,n){if(1&e&&(c(0,"div",35)(1,"div",36),h(2),u(),N(3,O5,2,1,"div",37)(4,R5,2,0,"div",38),u()),2&e){const t=n.$implicit;p(2),z("\u{1f4cd} ",t.location,""),p(),S("ngIf",null==t.vehicles?null:t.vehicles.length),p(),S("ngIf",!t.vehicles||0===t.vehicles.length)}}function L5(e,n){if(1&e&&(c(0,"div",33),N(1,F5,5,3,"div",34),u()),2&e){const t=m().$implicit;p(),S("ngForOf",t.deliveryAddresses)}}function V5(e,n){if(1&e){const t=k();c(0,"button",22),T("click",function(){y(t);const r=m().index;return C(m(3).removeAddressEdit(r))}),h(1,"\u{1f5d1}\ufe0f"),u()}}function B5(e,n){if(1&e){const t=k();c(0,"button",22),T("click",function(){y(t);const r=m().index,o=m().index;return C(m(3).removeVehicleEdit(o,r))}),h(1,"\u{1f5d1}\ufe0f"),u()}}function j5(e,n){if(1&e){const t=k();c(0,"div",23)(1,"input",24),w("ngModelChange",function(r){const o=y(t).index,s=m().index,a=m(3);return M(a.editingHub.deliveryAddresses[s].vehicles[o].vehicleNo,r)||(a.editingHub.deliveryAddresses[s].vehicles[o].vehicleNo=r),C(r)}),u(),c(2,"input",25),w("ngModelChange",function(r){const o=y(t).index,s=m().index,a=m(3);return M(a.editingHub.deliveryAddresses[s].vehicles[o].driverPhone,r)||(a.editingHub.deliveryAddresses[s].vehicles[o].driverPhone=r),C(r)}),u(),N(3,B5,2,0,"button",18),u()}if(2&e){const t=n.index,i=m().index,r=m(3);p(),b("ngModel",r.editingHub.deliveryAddresses[i].vehicles[t].vehicleNo),p(),b("ngModel",r.editingHub.deliveryAddresses[i].vehicles[t].driverPhone),p(),S("ngIf",r.editingHub.deliveryAddresses[i].vehicles.length>1)}}function U5(e,n){if(1&e){const t=k();c(0,"div",45)(1,"div",16)(2,"input",17),w("ngModelChange",function(r){const o=y(t).index,s=m(3);return M(s.editingHub.deliveryAddresses[o].location,r)||(s.editingHub.deliveryAddresses[o].location=r),C(r)}),u(),N(3,V5,2,0,"button",18),u(),c(4,"div",46)(5,"label"),h(6,"Vehicles"),u(),N(7,j5,4,3,"div",20),c(8,"button",21),T("click",function(){const r=y(t).index;return C(m(3).addVehicleEdit(r))}),h(9,"+ Add Vehicle"),u()()()}if(2&e){const t=n.$implicit,i=n.index,r=m(3);p(2),b("ngModel",r.editingHub.deliveryAddresses[i].location),p(),S("ngIf",r.editingHub.deliveryAddresses.length>1),p(4),S("ngForOf",t.vehicles)}}function H5(e,n){if(1&e){const t=k();c(0,"div",43),N(1,U5,10,3,"div",44),c(2,"button",11),T("click",function(){return y(t),C(m(2).addAddressEdit())}),h(3,"+ Add Address"),u()()}if(2&e){const t=m(2);p(),S("ngForOf",t.editingHub.deliveryAddresses)}}function G5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),z("",t.perRev,"%")}}function $5(e,n){if(1&e){const t=k();c(0,"input",32),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingHub.perRev,r)||(o.editingHub.perRev=r),C(r)}),u()}2&e&&b("ngModel",m(2).editingHub.perRev)}function z5(e,n){if(1&e){const t=k();c(0,"button",47),T("click",function(){y(t);const r=m().$implicit;return C(m().editHub(r))}),h(1,"Edit"),u()}}function q5(e,n){if(1&e){const t=k();c(0,"button",47),T("click",function(){return y(t),C(m(2).saveEdit())}),h(1,"Save"),u()}}function W5(e,n){if(1&e){const t=k();c(0,"tr")(1,"td"),N(2,S5,2,1,"span",26)(3,T5,1,1,"input",27),u(),c(4,"td"),N(5,I5,2,1,"span",26)(6,E5,1,1,"input",27),u(),c(7,"td"),N(8,N5,2,1,"span",26)(9,x5,1,1,"input",27),u(),c(10,"td"),N(11,P5,2,1,"span",26)(12,A5,1,1,"input",27),u(),c(13,"td"),N(14,L5,2,1,"div",28)(15,H5,4,1,"div",29),u(),c(16,"td"),N(17,G5,2,1,"span",26)(18,$5,1,1,"input",27),u(),c(19,"td")(20,"button",30),T("click",function(){const r=y(t).$implicit;return C(m().toggleStatus(r))}),h(21),u()(),c(22,"td"),N(23,z5,2,0,"button",31)(24,q5,2,0,"button",31),u()()}if(2&e){const t=n.$implicit,i=m();p(2),S("ngIf",(null==i.editingHub?null:i.editingHub._id)!==t._id),p(),S("ngIf",(null==i.editingHub?null:i.editingHub._id)===t._id),p(2),S("ngIf",(null==i.editingHub?null:i.editingHub._id)!==t._id),p(),S("ngIf",(null==i.editingHub?null:i.editingHub._id)===t._id),p(2),S("ngIf",(null==i.editingHub?null:i.editingHub._id)!==t._id),p(),S("ngIf",(null==i.editingHub?null:i.editingHub._id)===t._id),p(2),S("ngIf",(null==i.editingHub?null:i.editingHub._id)!==t._id),p(),S("ngIf",(null==i.editingHub?null:i.editingHub._id)===t._id),p(2),S("ngIf",(null==i.editingHub?null:i.editingHub._id)!==t._id),p(),S("ngIf",(null==i.editingHub?null:i.editingHub._id)===t._id),p(2),S("ngIf",(null==i.editingHub?null:i.editingHub._id)!==t._id),p(),S("ngIf",(null==i.editingHub?null:i.editingHub._id)===t._id),p(2),S("ngClass",function Cw(e,n,t,i,r){return ww(P(),Mt(),e,n,t,i,r)}(16,C5,"active"===t.status,"inactive"===t.status)),p(),z(" ","active"===t.status?"Active":"Inactive"," "),p(2),S("ngIf",(null==i.editingHub?null:i.editingHub._id)!==t._id),p(),S("ngIf",(null==i.editingHub?null:i.editingHub._id)===t._id)}}let Z5=(()=>{class e{constructor(t){this.http=t,this.hubs=[],this.newHub={hubName:"",address:"",city:"",state:"",pinCode:"",phoneNum:"",perRev:"",branch:localStorage.getItem("branch")||"All Branches",deliveryAddresses:[{location:"",vehicles:[{vehicleNo:"",driverPhone:""}]}],status:"active"},this.editingHub=null}ngOnInit(){localStorage.setItem("branch","All Branches"),this.newHub.branch=localStorage.getItem("branch")||"All Branches",this.loadHubs()}loadHubs(){this.http.get("http://localhost:3000/api/hubs").subscribe({next:t=>{console.log("Hubs loaded:",t),this.hubs=t},error:t=>console.error("Error loading hubs:",t)})}addHub(){this.newHub.branch=localStorage.getItem("branch")||"All Branches",this.http.post("http://localhost:3000/api/hubs/add",this.newHub).subscribe({next:()=>{alert("Hub added successfully!"),this.loadHubs(),this.resetForm()},error:t=>{console.error("Error saving hub:",t),alert("Error: "+t.error?.message)}})}resetForm(){this.newHub={hubName:"",address:"",city:"",state:"",pinCode:"",phoneNum:"",perRev:"",branch:localStorage.getItem("branch")||"All Branches",deliveryAddresses:[{location:"",vehicles:[{vehicleNo:"",driverPhone:""}]}],status:"active"}}addAddress(){this.newHub.deliveryAddresses.push({location:"",vehicles:[{vehicleNo:"",driverPhone:""}]})}removeAddress(t){this.newHub.deliveryAddresses.splice(t,1)}addVehicle(t){this.newHub.deliveryAddresses[t].vehicles.push({vehicleNo:"",driverPhone:""})}removeVehicle(t,i){this.newHub.deliveryAddresses[t].vehicles.splice(i,1)}editHub(t){this.editingHub=JSON.parse(JSON.stringify(t))}addAddressEdit(){this.editingHub.deliveryAddresses.push({location:"",vehicles:[{vehicleNo:"",driverPhone:""}]})}removeAddressEdit(t){this.editingHub.deliveryAddresses.splice(t,1)}addVehicleEdit(t){this.editingHub.deliveryAddresses[t].vehicles.push({vehicleNo:"",driverPhone:""})}removeVehicleEdit(t,i){this.editingHub.deliveryAddresses[t].vehicles.splice(i,1)}saveEdit(){this.http.put(`http://localhost:3000/api/hubs/${this.editingHub._id}`,this.editingHub).subscribe({next:()=>{this.loadHubs(),this.editingHub=null},error:t=>alert("Update failed!")})}toggleStatus(t){this.http.patch(`http://localhost:3000/api/hubs/${t._id}/status`,{status:"active"===t.status?"inactive":"active"}).subscribe(()=>this.loadHubs())}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-hub"]],standalone:!0,features:[Fe],decls:41,vars:9,consts:[[1,"hubs-container"],[1,"add-hub-form"],["placeholder","Hub Name","required","",3,"ngModelChange","ngModel"],["placeholder","Address","required","",3,"ngModelChange","ngModel"],["placeholder","City",3,"ngModelChange","ngModel"],["placeholder","State",3,"ngModelChange","ngModel"],["placeholder","Pin Code",3,"ngModelChange","ngModel"],["placeholder","Phone Number","required","",3,"ngModelChange","ngModel"],["placeholder","% of Revenue","required","",3,"ngModelChange","ngModel"],[1,"delivery-wrapper"],["class","addr-block",4,"ngFor","ngForOf"],[1,"add-addr-btn",3,"click"],[1,"add-btn",3,"click"],[1,"hubs-table-wrapper"],[4,"ngFor","ngForOf"],[1,"addr-block"],[1,"addr-row"],["placeholder","Address / Location",3,"ngModelChange","ngModel"],["class","delete-btn",3,"click",4,"ngIf"],[1,"vehicles-for-address"],["class","vehicle-row",4,"ngFor","ngForOf"],[1,"add-vehicle-btn",3,"click"],[1,"delete-btn",3,"click"],[1,"vehicle-row"],["placeholder","Vehicle No",3,"ngModelChange","ngModel"],["placeholder","Driver Phone",3,"ngModelChange","ngModel"],[4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["class","addr-list-view",4,"ngIf"],["class","addr-list-edit",4,"ngIf"],[3,"click","ngClass"],[3,"click",4,"ngIf"],[3,"ngModelChange","ngModel"],[1,"addr-list-view"],["class","addr-view-block",4,"ngFor","ngForOf"],[1,"addr-view-block"],[1,"addr-title"],["class","vehicles-list-view",4,"ngIf"],["class","no-vehicles",4,"ngIf"],[1,"vehicles-list-view"],["class","vehicle-view",4,"ngFor","ngForOf"],[1,"vehicle-view"],[1,"no-vehicles"],[1,"addr-list-edit"],["class","addr-edit-block",4,"ngFor","ngForOf"],[1,"addr-edit-block"],[1,"vehicles-for-address-edit"],[3,"click"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"Manage Hubs"),u(),c(3,"div",1)(4,"input",2),w("ngModelChange",function(s){return M(r.newHub.hubName,s)||(r.newHub.hubName=s),s}),u(),c(5,"input",3),w("ngModelChange",function(s){return M(r.newHub.address,s)||(r.newHub.address=s),s}),u(),c(6,"input",4),w("ngModelChange",function(s){return M(r.newHub.city,s)||(r.newHub.city=s),s}),u(),c(7,"input",5),w("ngModelChange",function(s){return M(r.newHub.state,s)||(r.newHub.state=s),s}),u(),c(8,"input",6),w("ngModelChange",function(s){return M(r.newHub.pinCode,s)||(r.newHub.pinCode=s),s}),u(),c(9,"input",7),w("ngModelChange",function(s){return M(r.newHub.phoneNum,s)||(r.newHub.phoneNum=s),s}),u(),c(10,"input",8),w("ngModelChange",function(s){return M(r.newHub.perRev,s)||(r.newHub.perRev=s),s}),u(),c(11,"div",9)(12,"label"),h(13,"Delivery / Pickup Addresses"),u(),N(14,D5,10,3,"div",10),c(15,"button",11),T("click",function(){return r.addAddress()}),h(16,"+ Add Address"),u()(),c(17,"button",12),T("click",function(){return r.addHub()}),h(18,"+ Add Hub"),u()(),c(19,"div",13)(20,"table")(21,"thead")(22,"tr")(23,"th"),h(24,"Hub Name"),u(),c(25,"th"),h(26,"Address"),u(),c(27,"th"),h(28,"City"),u(),c(29,"th"),h(30,"Phone"),u(),c(31,"th"),h(32,"Delivery / Pickup (with Vehicles)"),u(),c(33,"th"),h(34,"% of Revenue"),u(),c(35,"th"),h(36,"Status"),u(),c(37,"th"),h(38,"Actions"),u()()(),c(39,"tbody"),N(40,W5,25,19,"tr",14),u()()()()),2&i&&(p(4),b("ngModel",r.newHub.hubName),p(),b("ngModel",r.newHub.address),p(),b("ngModel",r.newHub.city),p(),b("ngModel",r.newHub.state),p(),b("ngModel",r.newHub.pinCode),p(),b("ngModel",r.newHub.phoneNum),p(),b("ngModel",r.newHub.perRev),p(4),S("ngForOf",r.newHub.deliveryAddresses),p(26),S("ngForOf",r.hubs))},dependencies:[Bt,Qp,Et,_t,yt,ot,ft,wn,st],styles:[".hubs-container[_ngcontent-%COMP%]{padding:15px;max-width:100%;box-sizing:border-box}.hubs-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd;vertical-align:top}.edit-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:200px;margin-bottom:5px;box-sizing:border-box}"]})}}return e})();function Q5(e,n){if(1&e){const t=k();c(0,"div",21),h(1),c(2,"span",22),T("click",function(){const r=y(t).index;return C(m().removeVehicle(r))}),h(3,"\xd7"),u()()}if(2&e){const t=n.$implicit;p(),Pe(" ",t.number," | ",t.phone," ")}}function Y5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.partnerName)}}function K5(e,n){if(1&e){const t=k();c(0,"input",27),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editing.partnerName,r)||(o.editing.partnerName=r),C(r)}),u()}2&e&&b("ngModel",m(2).editing.partnerName)}function J5(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.GSTIN)}}function X5(e,n){if(1&e){const t=k();c(0,"input",27),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editing.GSTIN,r)||(o.editing.GSTIN=r),C(r)}),u()}2&e&&b("ngModel",m(2).editing.GSTIN)}function e6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.address)}}function t6(e,n){if(1&e){const t=k();c(0,"div",28)(1,"input",29),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editing.address,r)||(o.editing.address=r),C(r)}),u(),c(2,"input",6),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editing.city,r)||(o.editing.city=r),C(r)}),u(),c(3,"input",7),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editing.state,r)||(o.editing.state=r),C(r)}),u(),c(4,"input",8),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editing.pinCode,r)||(o.editing.pinCode=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editing.address),p(),b("ngModel",t.editing.city),p(),b("ngModel",t.editing.state),p(),b("ngModel",t.editing.pinCode)}}function n6(e,n){if(1&e&&(c(0,"div",31),h(1),te(2,"br"),h(3),u()),2&e){const t=n.$implicit;p(),z(" ",t.number," "),p(2),z(" ",t.phone," ")}}function i6(e,n){if(1&e&&(c(0,"div"),N(1,n6,4,2,"div",30),u()),2&e){const t=m().$implicit;p(),S("ngForOf",t.vehicleNumbers)}}function r6(e,n){if(1&e){const t=k();c(0,"div",35)(1,"input",27),w("ngModelChange",function(r){const o=y(t).index,s=m(3);return M(s.editing.vehicleNumbers[o].number,r)||(s.editing.vehicleNumbers[o].number=r),C(r)}),u(),c(2,"input",27),w("ngModelChange",function(r){const o=y(t).index,s=m(3);return M(s.editing.vehicleNumbers[o].phone,r)||(s.editing.vehicleNumbers[o].phone=r),C(r)}),u(),c(3,"button",16),T("click",function(){const r=y(t).index;return C(m(3).removeEditingVehicle(r))}),h(4,"-"),u()()}if(2&e){const t=n.index,i=m(3);p(),b("ngModel",i.editing.vehicleNumbers[t].number),p(),b("ngModel",i.editing.vehicleNumbers[t].phone)}}function o6(e,n){if(1&e){const t=k();c(0,"div"),N(1,r6,5,2,"div",32),c(2,"input",33),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editVehicleField.number,r)||(o.editVehicleField.number=r),C(r)}),u(),c(3,"input",34),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editVehicleField.phone,r)||(o.editVehicleField.phone=r),C(r)}),u(),c(4,"button",16),T("click",function(){return y(t),C(m(2).addEditingVehicle())}),h(5,"+ Veh"),u()()}if(2&e){const t=m(2);p(),S("ngForOf",t.editing.vehicleNumbers),p(),b("ngModel",t.editVehicleField.number),p(),b("ngModel",t.editVehicleField.phone)}}function s6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),Pe(" ",t.rateValue," / ","km"===t.rateType?"Km":"Day"," ")}}function a6(e,n){if(1&e){const t=k();c(0,"div")(1,"select",27),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editing.rateType,r)||(o.editing.rateType=r),C(r)}),c(2,"option",10),h(3,"Rate / Km"),u(),c(4,"option",11),h(5,"Rate / Day"),u()(),c(6,"input",36),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editing.rateValue,r)||(o.editing.rateValue=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editing.rateType),p(5),b("ngModel",t.editing.rateValue)}}function l6(e,n){if(1&e){const t=k();c(0,"button",16),T("click",function(){y(t);const r=m().$implicit;return C(m().editPartner(r))}),h(1,"Edit"),u()}}function c6(e,n){if(1&e){const t=k();c(0,"button",16),T("click",function(){return y(t),C(m(2).saveEdit())}),h(1,"Save"),u()}}function u6(e,n){if(1&e){const t=k();c(0,"tr")(1,"td"),N(2,Y5,2,1,"span",23)(3,K5,1,1,"input",24),u(),c(4,"td"),N(5,J5,2,1,"span",23)(6,X5,1,1,"input",24),u(),c(7,"td"),N(8,e6,2,1,"span",23)(9,t6,5,4,"div",25),u(),c(10,"td"),N(11,i6,2,1,"div",23)(12,o6,6,3,"div",23),u(),c(13,"td"),N(14,s6,2,2,"span",23)(15,a6,7,2,"div",23),u(),c(16,"td")(17,"button",16),T("click",function(){const r=y(t).$implicit;return C(m().toggleStatus(r))}),h(18),u()(),c(19,"td"),N(20,l6,2,0,"button",26)(21,c6,2,0,"button",26),u()()}if(2&e){const t=n.$implicit,i=m();p(2),S("ngIf",(null==i.editing?null:i.editing._id)!==t._id),p(),S("ngIf",(null==i.editing?null:i.editing._id)===t._id),p(2),S("ngIf",(null==i.editing?null:i.editing._id)!==t._id),p(),S("ngIf",(null==i.editing?null:i.editing._id)===t._id),p(2),S("ngIf",(null==i.editing?null:i.editing._id)!==t._id),p(),S("ngIf",(null==i.editing?null:i.editing._id)===t._id),p(2),S("ngIf",(null==i.editing?null:i.editing._id)!==t._id),p(),S("ngIf",(null==i.editing?null:i.editing._id)===t._id),p(2),S("ngIf",(null==i.editing?null:i.editing._id)!==t._id),p(),S("ngIf",(null==i.editing?null:i.editing._id)===t._id),p(2),qe("active","active"===t.status)("inactive","active"!==t.status),p(),z(" ","active"===t.status?"Active":"Inactive"," "),p(2),S("ngIf",(null==i.editing?null:i.editing._id)!==t._id),p(),S("ngIf",(null==i.editing?null:i.editing._id)===t._id)}}let d6=(()=>{class e{constructor(t){this.http=t,this.partners=[],this.newPartner={partnerName:"",address:"",city:"",state:"",pinCode:"",GSTIN:"",vehicleNumbers:[],rateType:"km",rateValue:0,status:"active"},this.newVehicle={number:"",phone:""},this.editVehicleField={number:"",phone:""},this.editing=null}ngOnInit(){this.loadPartners()}addVehicle(){this.newVehicle.number.trim()&&this.newVehicle.phone.trim()&&(this.newPartner.vehicleNumbers.push({...this.newVehicle}),this.newVehicle={number:"",phone:""})}removeVehicle(t){this.newPartner.vehicleNumbers.splice(t,1)}addEditingVehicle(){this.editVehicleField.number.trim()&&this.editVehicleField.phone.trim()&&(this.editing.vehicleNumbers.push({...this.editVehicleField}),this.editVehicleField={number:"",phone:""})}removeEditingVehicle(t){this.editing.vehicleNumbers.splice(t,1)}loadPartners(){this.http.get("http://localhost:3000/api/tpartners").subscribe(t=>this.partners=t)}addPartner(){this.http.post("http://localhost:3000/api/tpartners/add",this.newPartner).subscribe({next:()=>{alert("Transport Partner added!"),this.loadPartners(),this.resetForm()},error:t=>alert(t.error.message)})}resetForm(){this.newPartner={partnerName:"",address:"",city:"",state:"",pinCode:"",GSTIN:"",vehicleNumbers:[],rateType:"km",rateValue:0,status:"active"}}editPartner(t){this.editing=JSON.parse(JSON.stringify(t))}saveEdit(){this.http.put(`http://localhost:3000/api/tpartners/${this.editing._id}`,this.editing).subscribe(()=>{alert("Updated Successfully"),this.editing=null,this.loadPartners()})}toggleStatus(t){this.http.patch(`http://localhost:3000/api/tpartners/${t._id}/status`,{}).subscribe(()=>this.loadPartners())}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-transport-partner"]],standalone:!0,features:[Fe],decls:48,vars:12,consts:[[1,"tpartner-container"],[1,"add-partner-form"],[1,"form-row"],["placeholder","Partner Name*","required","",3,"ngModelChange","ngModel"],["placeholder","GSTIN*","required","",3,"ngModelChange","ngModel"],["placeholder","Address*","required","",3,"ngModelChange","ngModel"],["placeholder","City",3,"ngModelChange","ngModel"],["placeholder","State",3,"ngModelChange","ngModel"],["placeholder","Pin Code",3,"ngModelChange","ngModel"],["required","",3,"ngModelChange","ngModel"],["value","km"],["value","day"],["type","number","placeholder","Rate Value*","required","",3,"ngModelChange","ngModel"],[1,"vehicle-entry"],["placeholder","Vehicle Number",3,"ngModelChange","ngModel"],["placeholder","Driver Phone",3,"ngModelChange","ngModel"],[3,"click"],["class","vehicle-tag",4,"ngFor","ngForOf"],[1,"btn-add",3,"click"],[1,"tpartner-table-wrapper"],[4,"ngFor","ngForOf"],[1,"vehicle-tag"],[1,"delete-tag",3,"click"],[4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["class","edit-field",4,"ngIf"],[3,"click",4,"ngIf"],[3,"ngModelChange","ngModel"],[1,"edit-field"],["placeholder","Address",3,"ngModelChange","ngModel"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],["class","tag-edit",4,"ngFor","ngForOf"],["placeholder","Vehicle",3,"ngModelChange","ngModel"],["placeholder","Phone",3,"ngModelChange","ngModel"],[1,"tag-edit"],["type","number",3,"ngModelChange","ngModel"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"Transport Partners"),u(),c(3,"div",1)(4,"div",2)(5,"input",3),w("ngModelChange",function(s){return M(r.newPartner.partnerName,s)||(r.newPartner.partnerName=s),s}),u(),c(6,"input",4),w("ngModelChange",function(s){return M(r.newPartner.GSTIN,s)||(r.newPartner.GSTIN=s),s}),u()(),c(7,"div",2)(8,"input",5),w("ngModelChange",function(s){return M(r.newPartner.address,s)||(r.newPartner.address=s),s}),u(),c(9,"input",6),w("ngModelChange",function(s){return M(r.newPartner.city,s)||(r.newPartner.city=s),s}),u()(),c(10,"div",2)(11,"input",7),w("ngModelChange",function(s){return M(r.newPartner.state,s)||(r.newPartner.state=s),s}),u(),c(12,"input",8),w("ngModelChange",function(s){return M(r.newPartner.pinCode,s)||(r.newPartner.pinCode=s),s}),u()(),c(13,"div",2)(14,"label"),h(15,"Rate Type "),c(16,"select",9),w("ngModelChange",function(s){return M(r.newPartner.rateType,s)||(r.newPartner.rateType=s),s}),c(17,"option",10),h(18,"Rate / Km"),u(),c(19,"option",11),h(20,"Rate / Day"),u()()(),c(21,"input",12),w("ngModelChange",function(s){return M(r.newPartner.rateValue,s)||(r.newPartner.rateValue=s),s}),u()(),c(22,"div",13)(23,"input",14),w("ngModelChange",function(s){return M(r.newVehicle.number,s)||(r.newVehicle.number=s),s}),u(),c(24,"input",15),w("ngModelChange",function(s){return M(r.newVehicle.phone,s)||(r.newVehicle.phone=s),s}),u(),c(25,"button",16),T("click",function(){return r.addVehicle()}),h(26,"+ Vehicle"),u()(),N(27,Q5,4,2,"div",17),c(28,"button",18),T("click",function(){return r.addPartner()}),h(29,"+ Add Partner"),u()(),c(30,"div",19)(31,"table")(32,"tr")(33,"th"),h(34,"Partner"),u(),c(35,"th"),h(36,"GSTIN"),u(),c(37,"th"),h(38,"Address"),u(),c(39,"th"),h(40,"Vehicles"),u(),c(41,"th"),h(42,"Rate"),u(),c(43,"th"),h(44,"Status"),u(),c(45,"th"),h(46,"Actions"),u()(),N(47,u6,22,17,"tr",20),u()()()),2&i&&(p(5),b("ngModel",r.newPartner.partnerName),p(),b("ngModel",r.newPartner.GSTIN),p(2),b("ngModel",r.newPartner.address),p(),b("ngModel",r.newPartner.city),p(2),b("ngModel",r.newPartner.state),p(),b("ngModel",r.newPartner.pinCode),p(4),b("ngModel",r.newPartner.rateType),p(5),b("ngModel",r.newPartner.rateValue),p(2),b("ngModel",r.newVehicle.number),p(),b("ngModel",r.newVehicle.phone),p(3),S("ngForOf",r.newPartner.vehicleNumbers),p(20),S("ngForOf",r.partners))},dependencies:[Bt,Et,_t,yt,li,ci,ot,ai,bn,ft,wn,st],styles:[".tpartner-container[_ngcontent-%COMP%]{width:100%;padding:10px}.add-partner-form[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;flex-direction:column;gap:8px}.add-partner-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-partner-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:4px;font-size:14px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}.vehicle-entry[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap}.vehicle-tag[_ngcontent-%COMP%]{background:#e0f3ff;padding:3px 6px;border-radius:4px;display:inline-block;margin:3px;font-size:12px}.delete-tag[_ngcontent-%COMP%]{cursor:pointer;font-size:12px;color:red}.btn-add[_ngcontent-%COMP%]{background:#0069ff;color:#fff;border-radius:4px;padding:6px;width:fit-content}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:6px;border:1px solid #ccc}.active[_ngcontent-%COMP%]{background:green;color:#fff}.inactive[_ngcontent-%COMP%]{background:#000;color:#fff}.tag-edit[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{background:#f2f2f2;padding:4px;margin-bottom:4px;border-radius:4px}.edit-field[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:6px}@media (max-width: 720px){.form-row[_ngcontent-%COMP%], .edit-field[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return e})(),h6=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-notifications"]],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"Notifications"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})();function f6(e,n){if(1&e){const t=k();c(0,"div",24)(1,"input",25),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.location,r)||(o.location=r),C(r)}),u(),c(2,"button",21),T("click",function(){const r=y(t).index;return C(m(2).removeDeliveryLocation(r))}),h(3,"Remove"),u()()}if(2&e){const t=n.$implicit;p(),b("ngModel",t.location)}}function p6(e,n){if(1&e&&(c(0,"option",33),h(1),u()),2&e){const t=n.$implicit;S("value",t.productName),p(),Pe(" ",t.hsnNum," - ",t.productName," ")}}function g6(e,n){if(1&e){const t=k();c(0,"div",26)(1,"select",27),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.productName,r)||(o.productName=r),C(r)}),T("change",function(){const r=y(t).$implicit;return C(m(2).onProductSelect(r))}),c(2,"option",28),h(3,"Select Product"),u(),N(4,p6,2,3,"option",29),u(),te(5,"br"),c(6,"label"),h(7,"Rate per Box:"),u(),c(8,"input",30),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.ratePerNum,r)||(o.ratePerNum=r),C(r)}),u(),te(9,"br"),c(10,"label"),h(11,"Rate per Volume cm3:"),u(),c(12,"input",31),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.ratePerVolume,r)||(o.ratePerVolume=r),C(r)}),u(),te(13,"br"),c(14,"label"),h(15,"Rate per Kilogram:"),u(),c(16,"input",32),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.ratePerKg,r)||(o.ratePerKg=r),C(r)}),u(),te(17,"br"),c(18,"button",21),T("click",function(){const r=y(t).index;return C(m(2).removeProduct(r))}),h(19,"Remove"),u()()}if(2&e){const t=n.$implicit,i=m(2);p(),b("ngModel",t.productName),p(3),S("ngForOf",i.productOptions),p(4),b("ngModel",t.ratePerNum),p(4),b("ngModel",t.ratePerVolume),p(4),b("ngModel",t.ratePerKg)}}function m6(e,n){if(1&e){const t=k();c(0,"div",5)(1,"div",6)(2,"span",7),T("click",function(){return y(t),C(m().closeAddClientPopup())}),h(3,"\xd7"),u(),c(4,"h3"),h(5,"Add New Client"),u(),c(6,"div",8)(7,"input",9),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.clientName,r)||(o.newClient.clientName=r),C(r)}),u(),c(8,"input",10),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.address,r)||(o.newClient.address=r),C(r)}),u(),c(9,"input",11),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.city,r)||(o.newClient.city=r),C(r)}),u(),c(10,"input",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.state,r)||(o.newClient.state=r),C(r)}),u(),c(11,"input",13),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.pinCode,r)||(o.newClient.pinCode=r),C(r)}),u(),c(12,"input",14),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.GSTIN,r)||(o.newClient.GSTIN=r),C(r)}),u(),c(13,"input",15),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.phoneNum,r)||(o.newClient.phoneNum=r),C(r)}),u(),c(14,"input",16),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.perDis,r)||(o.newClient.perDis=r),C(r)}),u(),c(15,"select",17),w("ngModelChange",function(r){y(t);const o=m();return M(o.newClient.creditType,r)||(o.newClient.creditType=r),C(r)}),c(16,"option",18),h(17,"No Credit"),u(),c(18,"option",19),h(19,"Credit Allowed"),u()(),c(20,"h4"),h(21,"Delivery Locations"),u(),N(22,f6,4,1,"div",20),c(23,"button",21),T("click",function(){return y(t),C(m().addDeliveryLocation())}),h(24,"+ Add Delivery Location"),u(),te(25,"br")(26,"br"),c(27,"h4"),h(28,"Product Pricing"),u(),N(29,g6,20,5,"div",22),c(30,"button",21),T("click",function(){return y(t),C(m().addProduct())}),h(31,"+ Add Product"),u(),te(32,"br")(33,"br"),c(34,"button",23),T("click",function(){return y(t),C(m().addClient())}),h(35,"+ Add Client"),u()()()()}if(2&e){const t=m();p(7),b("ngModel",t.newClient.clientName),p(),b("ngModel",t.newClient.address),p(),b("ngModel",t.newClient.city),p(),b("ngModel",t.newClient.state),p(),b("ngModel",t.newClient.pinCode),p(),b("ngModel",t.newClient.GSTIN),p(),b("ngModel",t.newClient.phoneNum),p(),b("ngModel",t.newClient.perDis),p(),b("ngModel",t.newClient.creditType),p(7),S("ngForOf",t.newClient.deliveryLocations),p(7),S("ngForOf",t.newClient.products)}}function _6(e,n){if(1&e&&(c(0,"div"),h(1),u()),2&e){const t=n.$implicit;p(),z(" \u{1f4e6} ",t.location," ")}}function v6(e,n){if(1&e){const t=k();c(0,"tr")(1,"td"),h(2),u(),c(3,"td"),h(4),u(),c(5,"td"),h(6),u(),c(7,"td"),h(8),u(),c(9,"td"),h(10),u(),c(11,"td"),h(12),u(),c(13,"td"),h(14),u(),c(15,"td"),h(16),u(),c(17,"td")(18,"button",34),T("click",function(){const r=y(t).$implicit;return C(m().toggleCreditType(r))}),h(19),u()(),c(20,"td"),N(21,_6,2,1,"div",4),u(),c(22,"td")(23,"button",34),T("click",function(){const r=y(t).$implicit;return C(m().toggleStatus(r))}),h(24),u()(),c(25,"td")(26,"button",23),T("click",function(){const r=y(t).$implicit;return C(m().openEditClientPopup(r))}),h(27,"Edit"),u()()()}if(2&e){const t=n.$implicit;p(2),B(t.clientName),p(2),B(t.address),p(2),B(t.city),p(2),B(t.state),p(2),B(t.pinCode),p(2),B(t.GSTIN),p(2),B(t.phoneNum),p(2),B(t.perDis),p(2),S("ngClass","credit"===t.creditType?"credit-active":"credit-inactive"),p(),z(" ","credit"===t.creditType?"Credit \u2714":"No Credit"," "),p(2),S("ngForOf",t.deliveryLocations),p(2),S("ngClass","active"===t.status?"status-active":"status-inactive"),p(),z(" ","active"===t.status?"Active":"Deactivated"," ")}}function y6(e,n){if(1&e){const t=k();c(0,"div",24)(1,"input",25),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.location,r)||(o.location=r),C(r)}),u(),c(2,"button",21),T("click",function(){const r=y(t).index;return C(m(2).removeDeliveryLocationEdit(r))}),h(3,"Remove"),u()()}if(2&e){const t=n.$implicit;p(),b("ngModel",t.location)}}function C6(e,n){if(1&e&&(c(0,"option",33),h(1),u()),2&e){const t=n.$implicit;S("value",t.productName),p(),Pe(" ",t.hsnNum," - ",t.productName," ")}}function b6(e,n){if(1&e){const t=k();c(0,"div",26)(1,"select",27),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.productName,r)||(o.productName=r),C(r)}),T("change",function(){const r=y(t).$implicit;return C(m(2).onProductSelect(r))}),c(2,"option",28),h(3,"Select Product"),u(),N(4,C6,2,3,"option",29),u(),te(5,"br"),c(6,"label"),h(7,"Rate per Box:"),u(),c(8,"input",30),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.ratePerNum,r)||(o.ratePerNum=r),C(r)}),u(),te(9,"br"),c(10,"label"),h(11,"Rate per Volume cm3:"),u(),c(12,"input",31),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.ratePerVolume,r)||(o.ratePerVolume=r),C(r)}),u(),te(13,"br"),c(14,"label"),h(15,"Rate per Kilogram:"),u(),c(16,"input",32),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.ratePerKg,r)||(o.ratePerKg=r),C(r)}),u(),te(17,"br"),c(18,"button",21),T("click",function(){const r=y(t).index;return C(m(2).removeProductEdit(r))}),h(19,"Remove"),u()()}if(2&e){const t=n.$implicit,i=m(2);p(),b("ngModel",t.productName),p(3),S("ngForOf",i.productOptions),p(4),b("ngModel",t.ratePerNum),p(4),b("ngModel",t.ratePerVolume),p(4),b("ngModel",t.ratePerKg)}}function w6(e,n){if(1&e){const t=k();c(0,"div",5)(1,"div",6)(2,"span",7),T("click",function(){return y(t),C(m().closeEditClientPopup())}),h(3,"\xd7"),u(),c(4,"h3"),h(5,"Edit Client"),u(),c(6,"div",8)(7,"input",9),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingClient.clientName,r)||(o.editingClient.clientName=r),C(r)}),u(),c(8,"input",10),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingClient.address,r)||(o.editingClient.address=r),C(r)}),u(),c(9,"input",11),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingClient.city,r)||(o.editingClient.city=r),C(r)}),u(),c(10,"input",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingClient.state,r)||(o.editingClient.state=r),C(r)}),u(),c(11,"input",13),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingClient.pinCode,r)||(o.editingClient.pinCode=r),C(r)}),u(),c(12,"input",14),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingClient.GSTIN,r)||(o.editingClient.GSTIN=r),C(r)}),u(),c(13,"input",15),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingClient.phoneNum,r)||(o.editingClient.phoneNum=r),C(r)}),u(),c(14,"input",16),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingClient.perDis,r)||(o.editingClient.perDis=r),C(r)}),u(),c(15,"select",17),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingClient.creditType,r)||(o.editingClient.creditType=r),C(r)}),c(16,"option",18),h(17,"No Credit"),u(),c(18,"option",19),h(19,"Credit Allowed"),u()(),c(20,"h4"),h(21,"Delivery Locations"),u(),N(22,y6,4,1,"div",20),c(23,"button",21),T("click",function(){return y(t),C(m().addDeliveryLocationEdit())}),h(24,"+ Add Delivery Location"),u(),te(25,"br")(26,"br"),c(27,"h4"),h(28,"Product Pricing"),u(),N(29,b6,20,5,"div",22),c(30,"button",21),T("click",function(){return y(t),C(m().addProductEdit())}),h(31,"+ Add Product"),u(),te(32,"br")(33,"br"),c(34,"button",23),T("click",function(){return y(t),C(m().saveEdit())}),h(35,"Save"),u()()()()}if(2&e){const t=m();p(7),b("ngModel",t.editingClient.clientName),p(),b("ngModel",t.editingClient.address),p(),b("ngModel",t.editingClient.city),p(),b("ngModel",t.editingClient.state),p(),b("ngModel",t.editingClient.pinCode),p(),b("ngModel",t.editingClient.GSTIN),p(),b("ngModel",t.editingClient.phoneNum),p(),b("ngModel",t.editingClient.perDis),p(),b("ngModel",t.editingClient.creditType),p(7),S("ngForOf",t.editingClient.deliveryLocations),p(7),S("ngForOf",t.editingClient.products)}}let M6=(()=>{class e{constructor(t){this.http=t,this.clients=[],this.productOptions=[],this.showAddClientPopup=!1,this.showEditClientPopup=!1,this.cbranch=localStorage.getItem("branch")||"All Branches",this.newClient={clientName:"",address:"",city:"",state:"",pinCode:"",GSTIN:"",phoneNum:"",perDis:"",creditType:"no-credit",products:[],deliveryLocations:[{location:""}],status:"active",branch:localStorage.getItem("branch")||"All Branches",email:localStorage.getItem("email"),username:localStorage.getItem("username")},this.editingClient=null,this.onStorage=i=>{"branch"===i.key&&i.newValue&&i.newValue!==this.cbranch&&(this.cbranch=i.newValue,this.loadClients(),this.loadProducts())}}ngOnInit(){this.loadClients(),this.loadProducts(),this.branchCheck=setInterval(()=>{const t=localStorage.getItem("branch")||"All Branches";t!==this.cbranch&&(this.cbranch=t,this.loadClients(),this.loadProducts())},1e3),window.addEventListener("storage",this.onStorage)}ngOnDestroy(){this.branchCheck&&clearInterval(this.branchCheck),window.removeEventListener("storage",this.onStorage)}loadClients(){const t=localStorage.getItem("email");this.cbranch=localStorage.getItem("branch")||"All Branches",this.http.get(`http://localhost:3000/api/clients?email=${t}&branch=${this.cbranch}`).subscribe({next:i=>{console.log("Clients loaded:",i),this.clients=i},error:i=>console.error("Error loading clients:",i)})}loadProducts(){const t=localStorage.getItem("branch")||"All Branches";this.http.get("http://localhost:3000/api/products").subscribe({next:i=>{this.productOptions=(i||[]).filter(r=>"All Branches"===t||r.branch===t)},error:i=>console.error("Error loading products:",i)})}openAddClientPopup(){this.showAddClientPopup=!0}closeAddClientPopup(){this.showAddClientPopup=!1}openEditClientPopup(t){this.editingClient=JSON.parse(JSON.stringify(t)),Array.isArray(this.editingClient.products)||(this.editingClient.products=[]),Array.isArray(this.editingClient.deliveryLocations)||(this.editingClient.deliveryLocations=[{location:""}]),this.showEditClientPopup=!0}closeEditClientPopup(){this.showEditClientPopup=!1,this.editingClient=null}addProduct(){this.newClient.products.push({hsnNum:"",productName:"",ratePerNum:0,ratePerVolume:0,ratePerKg:0})}onProductSelect(t){const i=this.productOptions.find(r=>r.productName===t.productName);i&&(t.hsnNum=i.hsnNum)}removeProduct(t){this.newClient.products.splice(t,1)}addProductEdit(){this.editingClient.products.push({hsnNum:"",productName:"",ratePerNum:0,ratePerVolume:0,ratePerKg:0})}removeProductEdit(t){this.editingClient.products.splice(t,1)}addDeliveryLocation(){this.newClient.deliveryLocations.push({location:""})}removeDeliveryLocation(t){this.newClient.deliveryLocations.splice(t,1)}addDeliveryLocationEdit(){this.editingClient.deliveryLocations.push({location:""})}removeDeliveryLocationEdit(t){this.editingClient.deliveryLocations.splice(t,1)}addClient(){console.log("\u{1f4e4} Sending client data:",this.newClient),this.newClient.branch=localStorage.getItem("branch")||"All Branches","All Branches"!==this.newClient.branch?this.http.post("http://localhost:3000/api/clients/add",this.newClient,{headers:{"Content-Type":"application/json"}}).subscribe({next:t=>{console.log("\u2705 Client saved",t),alert("Client added successfully!"),window.location.reload()},error:t=>{console.error("\u274c Error saving client:",t),alert("Error: "+t.error.message)}}):alert("Please select a specific branch before adding a client.")}saveEdit(){this.http.put(`http://localhost:3000/api/clients/${this.editingClient._id}`,this.editingClient).subscribe(()=>{this.loadClients(),this.closeEditClientPopup()})}toggleCreditType(t){this.http.patch(`http://localhost:3000/api/clients/${t._id}/credit`,{}).subscribe(()=>this.loadClients()),console.log("Toggled credit type for client:",t._id)}toggleStatus(t){this.http.patch(`http://localhost:3000/api/clients/${t._id}/status`,{}).subscribe(()=>this.loadClients())}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-client"]],standalone:!0,features:[Fe],decls:37,vars:3,consts:[[1,"clients-container"],[1,"add-client-btn",3,"click"],["class","modal",4,"ngIf"],[1,"clients-table-wrapper"],[4,"ngFor","ngForOf"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[1,"add-client-form"],["placeholder","Client Name","required","",3,"ngModelChange","ngModel"],["placeholder","Address","required","",3,"ngModelChange","ngModel"],["placeholder","City",3,"ngModelChange","ngModel"],["placeholder","State",3,"ngModelChange","ngModel"],["placeholder","Pin Code",3,"ngModelChange","ngModel"],["placeholder","GSTIN","required","",3,"ngModelChange","ngModel"],["placeholder","Contact Number","required","",3,"ngModelChange","ngModel"],["placeholder","% of Discount","required","",3,"ngModelChange","ngModel"],[1,"small-select",3,"ngModelChange","ngModel"],["value","no-credit"],["value","credit"],["class","delivery-form",4,"ngFor","ngForOf"],["type","button",3,"click"],["class","product-form",4,"ngFor","ngForOf"],[3,"click"],[1,"delivery-form"],["placeholder","Delivery Address","required","",3,"ngModelChange","ngModel"],[1,"product-form"],["required","",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number","placeholder","Rate per Number",3,"ngModelChange","ngModel"],["type","number","placeholder","Rate per Volume",3,"ngModelChange","ngModel"],["type","number","placeholder","Rate per Kg",3,"ngModelChange","ngModel"],[3,"value"],[3,"click","ngClass"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"Manage Clients"),u(),c(3,"button",1),T("click",function(){return r.openAddClientPopup()}),h(4,"+ Add Client"),u(),N(5,m6,36,11,"div",2),c(6,"div",3)(7,"table")(8,"thead")(9,"tr")(10,"th"),h(11,"Client Name"),u(),c(12,"th"),h(13,"Address"),u(),c(14,"th"),h(15,"City"),u(),c(16,"th"),h(17,"State"),u(),c(18,"th"),h(19,"Pin"),u(),c(20,"th"),h(21,"GSTIN"),u(),c(22,"th"),h(23,"Contact Number"),u(),c(24,"th"),h(25,"% Discount"),u(),c(26,"th"),h(27,"Credit Type"),u(),c(28,"th"),h(29,"Delivery Locations"),u(),c(30,"th"),h(31,"Status"),u(),c(32,"th"),h(33,"Actions"),u()()(),c(34,"tbody"),N(35,v6,28,13,"tr",4),u()()()(),N(36,w6,36,11,"div",2)),2&i&&(p(5),S("ngIf",r.showAddClientPopup),p(30),S("ngForOf",r.clients),p(),S("ngIf",r.showEditClientPopup))},dependencies:[Bt,Qp,Et,_t,yt,li,ci,ot,ai,bn,ft,wn,st],styles:[".clients-container[_ngcontent-%COMP%]{padding:15px;max-width:100%;box-sizing:border-box}.clients-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd;vertical-align:top}.edit-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:200px;margin-bottom:5px;box-sizing:border-box}.credit-active[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-weight:700;border:none;padding:5px 10px;border-radius:4px}.credit-inactive[_ngcontent-%COMP%]{background-color:#333;color:#fff;border:none;padding:5px 10px;border-radius:4px}.status-active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700;border:none;padding:5px 10px;border-radius:4px}.status-inactive[_ngcontent-%COMP%]{background-color:#555;color:#fff;border:none;padding:5px 10px;border-radius:4px}.modal[_ngcontent-%COMP%]{display:flex;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:6px;width:400px;max-width:90%}.close[_ngcontent-%COMP%]{float:right;font-size:24px;cursor:pointer}"]})}}return e})();function D6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.guestName)}}function S6(e,n){if(1&e){const t=k();c(0,"div",15)(1,"input",16),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingGuest.guestName,r)||(o.editingGuest.guestName=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingGuest.guestName)}}function T6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.address)}}function I6(e,n){if(1&e){const t=k();c(0,"div",15)(1,"input",16),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingGuest.address,r)||(o.editingGuest.address=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingGuest.address)}}function E6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.city)}}function N6(e,n){if(1&e){const t=k();c(0,"div",15)(1,"input",16),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingGuest.city,r)||(o.editingGuest.city=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingGuest.city)}}function x6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.state)}}function P6(e,n){if(1&e){const t=k();c(0,"div",15)(1,"input",16),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingGuest.state,r)||(o.editingGuest.state=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingGuest.state)}}function A6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.pinCode)}}function k6(e,n){if(1&e){const t=k();c(0,"div",15)(1,"input",16),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingGuest.pinCode,r)||(o.editingGuest.pinCode=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingGuest.pinCode)}}function O6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.phoneNum)}}function R6(e,n){if(1&e){const t=k();c(0,"div",15)(1,"input",16),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingGuest.phoneNum,r)||(o.editingGuest.phoneNum=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingGuest.phoneNum)}}function F6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.perDis)}}function L6(e,n){if(1&e){const t=k();c(0,"div",15)(1,"input",16),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingGuest.perDis,r)||(o.editingGuest.perDis=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingGuest.perDis)}}function V6(e,n){if(1&e){const t=k();c(0,"button",9),T("click",function(){y(t);const r=m().$implicit;return C(m().editGuest(r))}),h(1,"Edit"),u()}}function B6(e,n){if(1&e){const t=k();c(0,"button",9),T("click",function(){return y(t),C(m(2).saveEdit())}),h(1,"Save"),u()}}function j6(e,n){if(1&e){const t=k();c(0,"tr")(1,"td"),N(2,D6,2,1,"span",12)(3,S6,2,1,"div",13),u(),c(4,"td"),N(5,T6,2,1,"span",12)(6,I6,2,1,"div",13),u(),c(7,"td"),N(8,E6,2,1,"span",12)(9,N6,2,1,"div",13),u(),c(10,"td"),N(11,x6,2,1,"span",12)(12,P6,2,1,"div",13),u(),c(13,"td"),N(14,A6,2,1,"span",12)(15,k6,2,1,"div",13),u(),c(16,"td"),N(17,O6,2,1,"span",12)(18,R6,2,1,"div",13),u(),c(19,"td"),N(20,F6,2,1,"span",12)(21,L6,2,1,"div",13),u(),c(22,"td")(23,"button",9),T("click",function(){const r=y(t).$implicit;return C(m().toggleStatus(r))}),h(24),u()(),c(25,"td"),N(26,V6,2,0,"button",14)(27,B6,2,0,"button",14),u()()}if(2&e){const t=n.$implicit,i=m();p(2),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)!==t._id),p(),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)===t._id),p(2),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)!==t._id),p(),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)===t._id),p(2),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)!==t._id),p(),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)===t._id),p(2),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)!==t._id),p(),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)===t._id),p(2),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)!==t._id),p(),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)===t._id),p(2),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)!==t._id),p(),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)===t._id),p(2),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)!==t._id),p(),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)===t._id),p(3),z(" ","active"===t.status?"Deactivate":"Activate"," "),p(2),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)!==t._id),p(),S("ngIf",(null==i.editingGuest?null:i.editingGuest._id)===t._id)}}let U6=(()=>{class e{constructor(t){this.http=t,this.guests=[],this.newGuest={guestName:"",address:"",city:"",state:"",pinCode:"",phoneNum:"",perDis:"",status:"active",email:localStorage.getItem("email"),username:localStorage.getItem("username")},this.editingGuest=null}ngOnInit(){this.loadGuests()}loadGuests(){const t=localStorage.getItem("email");this.http.get(`http://localhost:3000/api/guests?email=${t}`).subscribe({next:i=>{console.log("Guests loaded:",i),this.guests=i},error:i=>console.error("Error loading guests:",i)})}addGuest(){console.log("\u{1f4e4} Sending guest data:"),this.http.post("http://localhost:3000/api/guests/add",this.newGuest,{headers:{"Content-Type":"application/json"}}).subscribe({next:t=>{console.log("\u2705 Guest saved",t),alert("Guest added successfully!"),window.location.reload()},error:t=>{console.error("\u274c Error saving guest:",t),alert("Error12: "+t.error.message)}})}editGuest(t){this.editingGuest={...t}}saveEdit(){this.http.put(`http://localhost:3000/api/guests/${this.editingGuest._id}`,this.editingGuest).subscribe(()=>{this.loadGuests(),this.editingGuest=null})}toggleStatus(t){this.http.patch(`http://localhost:3000/api/guests/${t._id}/status`,{}).subscribe(()=>this.loadGuests())}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-guest"]],standalone:!0,features:[Fe],decls:35,vars:8,consts:[[1,"guests-container"],[1,"add-guest-form"],["placeholder","Guest Name","required","",3,"ngModelChange","ngModel"],["placeholder","Address","required","",3,"ngModelChange","ngModel"],["placeholder","City",3,"ngModelChange","ngModel"],["placeholder","State",3,"ngModelChange","ngModel"],["placeholder","Pin Code",3,"ngModelChange","ngModel"],["placeholder","Contact Number","required","",3,"ngModelChange","ngModel"],["placeholder","% of Discount","required","",3,"ngModelChange","ngModel"],[3,"click"],[1,"guests-table-wrapper"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","edit-field",4,"ngIf"],[3,"click",4,"ngIf"],[1,"edit-field"],[3,"ngModelChange","ngModel"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"Manage Guests"),u(),c(3,"div",1)(4,"input",2),w("ngModelChange",function(s){return M(r.newGuest.guestName,s)||(r.newGuest.guestName=s),s}),u(),c(5,"input",3),w("ngModelChange",function(s){return M(r.newGuest.address,s)||(r.newGuest.address=s),s}),u(),c(6,"input",4),w("ngModelChange",function(s){return M(r.newGuest.city,s)||(r.newGuest.city=s),s}),u(),c(7,"input",5),w("ngModelChange",function(s){return M(r.newGuest.state,s)||(r.newGuest.state=s),s}),u(),c(8,"input",6),w("ngModelChange",function(s){return M(r.newGuest.pinCode,s)||(r.newGuest.pinCode=s),s}),u(),c(9,"input",7),w("ngModelChange",function(s){return M(r.newGuest.phoneNum,s)||(r.newGuest.phoneNum=s),s}),u(),c(10,"input",8),w("ngModelChange",function(s){return M(r.newGuest.perDis,s)||(r.newGuest.perDis=s),s}),u(),c(11,"button",9),T("click",function(){return r.addGuest()}),h(12,"+ Add Guest"),u()(),c(13,"div",10)(14,"table")(15,"tr")(16,"th"),h(17,"Guest Name"),u(),c(18,"th"),h(19,"Address"),u(),c(20,"th"),h(21,"City"),u(),c(22,"th"),h(23,"State"),u(),c(24,"th"),h(25,"Pin"),u(),c(26,"th"),h(27,"Contact Number"),u(),c(28,"th"),h(29,"% of Discount"),u(),c(30,"th"),h(31,"Status"),u(),c(32,"th"),h(33,"Actions"),u()(),N(34,j6,28,17,"tr",11),u()()()),2&i&&(p(4),b("ngModel",r.newGuest.guestName),p(),b("ngModel",r.newGuest.address),p(),b("ngModel",r.newGuest.city),p(),b("ngModel",r.newGuest.state),p(),b("ngModel",r.newGuest.pinCode),p(),b("ngModel",r.newGuest.phoneNum),p(),b("ngModel",r.newGuest.perDis),p(24),S("ngForOf",r.guests))},dependencies:[Bt,Et,_t,yt,ot,ft,wn,st],styles:[".guests-container[_ngcontent-%COMP%]{padding:15px;max-width:100%;box-sizing:border-box}.guests-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd;vertical-align:top}.edit-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:200px;margin-bottom:5px;box-sizing:border-box}"]})}}return e})(),H6=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-categories"]],standalone:!0,features:[Fe],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"Categories"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})();function G6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.pkgName)}}function $6(e,n){if(1&e){const t=k();c(0,"div",10)(1,"input",11),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingPkg.pkgName,r)||(o.editingPkg.pkgName=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingPkg.pkgName)}}function z6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.rate)}}function q6(e,n){if(1&e){const t=k();c(0,"div",10)(1,"input",12),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingPkg.rate,r)||(o.editingPkg.rate=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingPkg.rate)}}function W6(e,n){if(1&e){const t=k();c(0,"button",4),T("click",function(){y(t);const r=m().$implicit;return C(m().editPkg(r))}),h(1,"Edit"),u()}}function Z6(e,n){if(1&e){const t=k();c(0,"button",4),T("click",function(){return y(t),C(m(2).saveEdit())}),h(1,"Save"),u()}}function Q6(e,n){if(1&e){const t=k();c(0,"tr")(1,"td"),N(2,G6,2,1,"span",7)(3,$6,2,1,"div",8),u(),c(4,"td"),N(5,z6,2,1,"span",7)(6,q6,2,1,"div",8),u(),c(7,"td")(8,"button",4),T("click",function(){const r=y(t).$implicit;return C(m().toggleStatus(r))}),h(9),u()(),c(10,"td"),N(11,W6,2,0,"button",9)(12,Z6,2,0,"button",9),u()()}if(2&e){const t=n.$implicit,i=m();p(2),S("ngIf",(null==i.editingPkg?null:i.editingPkg._id)!==t._id),p(),S("ngIf",(null==i.editingPkg?null:i.editingPkg._id)===t._id),p(2),S("ngIf",(null==i.editingPkg?null:i.editingPkg._id)!==t._id),p(),S("ngIf",(null==i.editingPkg?null:i.editingPkg._id)===t._id),p(3),z(" ","active"===t.status?"Deactivate":"Activate"," "),p(2),S("ngIf",(null==i.editingPkg?null:i.editingPkg._id)!==t._id),p(),S("ngIf",(null==i.editingPkg?null:i.editingPkg._id)===t._id)}}let Y6=(()=>{class e{constructor(t){this.http=t,this.pkgs=[],this.newPkg={pkgName:"",rate:0,status:"active",email:localStorage.getItem("email"),username:localStorage.getItem("username")},this.editingPkg=null}ngOnInit(){this.loadPkgs()}loadPkgs(){const t=localStorage.getItem("email");this.http.get(`http://localhost:3000/api/pkgs?email=${t}`).subscribe({next:i=>{console.log("Packages loaded:",i),this.pkgs=i},error:i=>console.error("Error loading pkgs:",i)})}addPkg(){console.log("\u{1f4e4} Sending pkg data:"),this.http.post("http://localhost:3000/api/pkgs/add",this.newPkg,{headers:{"Content-Type":"application/json"}}).subscribe({next:t=>{console.log("\u2705 Package type saved",t),alert("Package type added successfully!"),window.location.reload()},error:t=>{console.error("\u274c Error saving pkg:",t),alert("Error12: "+t.error.message)}})}editPkg(t){this.editingPkg={...t}}saveEdit(){this.http.put(`http://localhost:3000/api/pkgs/${this.editingPkg._id}`,this.editingPkg).subscribe(()=>{this.loadPkgs(),this.editingPkg=null})}toggleStatus(t){this.http.patch(`http://localhost:3000/api/pkgs/${t._id}/status`,{}).subscribe(()=>this.loadPkgs())}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-pkg"]],standalone:!0,features:[Fe],decls:20,vars:3,consts:[[1,"pkgs-container"],[1,"add-pkg-form"],["placeholder","Package Type","required","",3,"ngModelChange","ngModel"],["type","number","placeholder","Rate","required","",3,"ngModelChange","ngModel"],[3,"click"],[1,"pkgs-table-wrapper"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","edit-field",4,"ngIf"],[3,"click",4,"ngIf"],[1,"edit-field"],[3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"Manage Packages"),u(),c(3,"div",1)(4,"input",2),w("ngModelChange",function(s){return M(r.newPkg.pkgName,s)||(r.newPkg.pkgName=s),s}),u(),c(5,"input",3),w("ngModelChange",function(s){return M(r.newPkg.rate,s)||(r.newPkg.rate=s),s}),u(),c(6,"button",4),T("click",function(){return r.addPkg()}),h(7,"+ Add Package"),u()(),c(8,"div",5)(9,"table")(10,"tr")(11,"th"),h(12,"Package Type"),u(),c(13,"th"),h(14,"Rate"),u(),c(15,"th"),h(16,"Status"),u(),c(17,"th"),h(18,"Actions"),u()(),N(19,Q6,13,7,"tr",6),u()()()),2&i&&(p(4),b("ngModel",r.newPkg.pkgName),p(),b("ngModel",r.newPkg.rate),p(14),S("ngForOf",r.pkgs))},dependencies:[Bt,Et,_t,yt,ot,ai,ft,wn,st],styles:[".pkgs-container[_ngcontent-%COMP%]{padding:15px;max-width:100%;box-sizing:border-box}.pkgs-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd;vertical-align:top}.edit-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:200px;margin-bottom:5px;box-sizing:border-box}"]})}}return e})();function K6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.hsnNum)}}function J6(e,n){if(1&e){const t=k();c(0,"div",13)(1,"input",14),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingProduct.hsnNum,r)||(o.editingProduct.hsnNum=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingProduct.hsnNum)}}function X6(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.productName)}}function eG(e,n){if(1&e){const t=k();c(0,"div",13)(1,"input",14),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingProduct.productName,r)||(o.editingProduct.productName=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingProduct.productName)}}function tG(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.ratePerNum)}}function nG(e,n){if(1&e){const t=k();c(0,"div",13)(1,"input",15),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingProduct.ratePerNum,r)||(o.editingProduct.ratePerNum=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingProduct.ratePerNum)}}function iG(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.ratePerVolume)}}function rG(e,n){if(1&e){const t=k();c(0,"div",13)(1,"input",15),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingProduct.ratePerVolume,r)||(o.editingProduct.ratePerVolume=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingProduct.ratePerVolume)}}function oG(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),B(t.ratePerKg)}}function sG(e,n){if(1&e){const t=k();c(0,"div",13)(1,"input",15),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingProduct.ratePerKg,r)||(o.editingProduct.ratePerKg=r),C(r)}),u()()}if(2&e){const t=m(2);p(),b("ngModel",t.editingProduct.ratePerKg)}}function aG(e,n){if(1&e){const t=k();c(0,"button",7),T("click",function(){y(t);const r=m().$implicit;return C(m().editProduct(r))}),h(1,"Edit"),u()}}function lG(e,n){if(1&e){const t=k();c(0,"button",7),T("click",function(){return y(t),C(m(2).saveEdit())}),h(1,"Save"),u()}}function cG(e,n){if(1&e){const t=k();c(0,"tr")(1,"td"),N(2,K6,2,1,"span",10)(3,J6,2,1,"div",11),u(),c(4,"td"),N(5,X6,2,1,"span",10)(6,eG,2,1,"div",11),u(),c(7,"td"),N(8,tG,2,1,"span",10)(9,nG,2,1,"div",11),u(),c(10,"td"),N(11,iG,2,1,"span",10)(12,rG,2,1,"div",11),u(),c(13,"td"),N(14,oG,2,1,"span",10)(15,sG,2,1,"div",11),u(),c(16,"td")(17,"button",7),T("click",function(){const r=y(t).$implicit;return C(m().toggleStatus(r))}),h(18),u()(),c(19,"td"),N(20,aG,2,0,"button",12)(21,lG,2,0,"button",12),u()()}if(2&e){const t=n.$implicit,i=m();p(2),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)!==t._id),p(),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)===t._id),p(2),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)!==t._id),p(),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)===t._id),p(2),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)!==t._id),p(),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)===t._id),p(2),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)!==t._id),p(),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)===t._id),p(2),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)!==t._id),p(),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)===t._id),p(3),z(" ","active"===t.status?"Deactivate":"Activate"," "),p(2),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)!==t._id),p(),S("ngIf",(null==i.editingProduct?null:i.editingProduct._id)===t._id)}}let uG=(()=>{class e{constructor(t){this.http=t,this.products=[],this.newProduct={productName:"",branch:localStorage.getItem("branch")||"All Branches",status:"active",email:localStorage.getItem("email"),username:localStorage.getItem("username")},this.editingProduct=null}ngOnInit(){this.loadProducts()}loadProducts(){const t=localStorage.getItem("email");this.http.get(`http://localhost:3000/api/products?email=${t}`).subscribe({next:i=>{this.products=i},error:i=>console.error("Error loading products:",i)})}addProduct(){this.newProduct.branch=localStorage.getItem("branch")||"All Branches","All Branches"!==this.newProduct.branch?this.http.post("http://localhost:3000/api/products/add",this.newProduct,{headers:{"Content-Type":"application/json"}}).subscribe({next:()=>{alert("Product type added successfully!"),window.location.reload()},error:t=>{alert("Error: "+t.error?.message)}}):alert("Please select a specific branch before adding a product.")}editProduct(t){this.editingProduct={...t}}saveEdit(){this.http.put(`http://localhost:3000/api/products/${this.editingProduct._id}`,this.editingProduct).subscribe(()=>{this.loadProducts(),this.editingProduct=null})}toggleStatus(t){this.http.patch(`http://localhost:3000/api/products/${t._id}/status`,{}).subscribe(()=>this.loadProducts())}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-product"]],standalone:!0,features:[Fe],decls:29,vars:6,consts:[[1,"products-container"],[1,"add-product-form"],["placeholder","HSN number","required","",3,"ngModelChange","ngModel"],["placeholder","Product Type","required","",3,"ngModelChange","ngModel"],["type","number","placeholder","Rate / Box","required","",3,"ngModelChange","ngModel"],["type","number","placeholder","Rate / cm\xb3","required","",3,"ngModelChange","ngModel"],["type","number","placeholder","Rate / Kg","required","",3,"ngModelChange","ngModel"],[3,"click"],[1,"products-table-wrapper"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","edit-field",4,"ngIf"],[3,"click",4,"ngIf"],[1,"edit-field"],[3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"Manage Standard Products Pricing"),u(),c(3,"div",1)(4,"input",2),w("ngModelChange",function(s){return M(r.newProduct.hsnNum,s)||(r.newProduct.hsnNum=s),s}),u(),c(5,"input",3),w("ngModelChange",function(s){return M(r.newProduct.productName,s)||(r.newProduct.productName=s),s}),u(),c(6,"input",4),w("ngModelChange",function(s){return M(r.newProduct.ratePerNum,s)||(r.newProduct.ratePerNum=s),s}),u(),c(7,"input",5),w("ngModelChange",function(s){return M(r.newProduct.ratePerVolume,s)||(r.newProduct.ratePerVolume=s),s}),u(),c(8,"input",6),w("ngModelChange",function(s){return M(r.newProduct.ratePerKg,s)||(r.newProduct.ratePerKg=s),s}),u(),c(9,"button",7),T("click",function(){return r.addProduct()}),h(10,"+ Add Product"),u()(),c(11,"div",8)(12,"table")(13,"tr")(14,"th"),h(15,"HSN number"),u(),c(16,"th"),h(17,"Product Type"),u(),c(18,"th"),h(19,"Rate / Box."),u(),c(20,"th"),h(21,"Rate / cm\xb3"),u(),c(22,"th"),h(23,"Rate / Kg"),u(),c(24,"th"),h(25,"Status"),u(),c(26,"th"),h(27,"Actions"),u()(),N(28,cG,22,13,"tr",9),u()()()),2&i&&(p(4),b("ngModel",r.newProduct.hsnNum),p(),b("ngModel",r.newProduct.productName),p(),b("ngModel",r.newProduct.ratePerNum),p(),b("ngModel",r.newProduct.ratePerVolume),p(),b("ngModel",r.newProduct.ratePerKg),p(20),S("ngForOf",r.products))},dependencies:[Bt,Et,_t,yt,ot,ai,ft,wn,st],styles:[".products-container[_ngcontent-%COMP%]{padding:15px;max-width:100%;box-sizing:border-box}.products-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd;vertical-align:top}.edit-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:200px;margin-bottom:5px;box-sizing:border-box}"]})}}return e})();function dG(e,n){if(1&e&&(c(0,"option",18),h(1),u()),2&e){const t=n.$implicit;S("ngValue",t.branchName),p(),B(t.branchName)}}function hG(e,n){if(1&e){const t=k();sr(0),c(1,"td",19),h(2),u(),c(3,"td",19),h(4),u(),c(5,"td",19),h(6),u(),c(7,"td",19),h(8),u(),c(9,"td",19),h(10),u(),c(11,"td",19)(12,"button",20),T("click",function(){y(t);const r=m().$implicit;return C(m(2).startEdit(r))}),h(13,"Edit"),u(),c(14,"button",21),T("click",function(){y(t);const r=m().$implicit;return C(m(2).deleteUser(r._id))}),h(15,"Delete"),u()(),ar()}if(2&e){const t=m().$implicit;p(2),B(t._id),p(2),B(t.email),p(2),B(t.username),p(2),B(t.role),p(2),B(t.branches&&t.branches.length?t.branches.join(", "):t.branch)}}function fG(e,n){if(1&e&&(c(0,"option",18),h(1),u()),2&e){const t=n.$implicit;S("ngValue",t.branchName),p(),B(t.branchName)}}function pG(e,n){if(1&e){const t=k();c(0,"td",19),h(1),u(),c(2,"td",19)(3,"input",22),w("ngModelChange",function(r){y(t);const o=m(3);return M(o.editUser.email,r)||(o.editUser.email=r),C(r)}),u()(),c(4,"td",19)(5,"input",22),w("ngModelChange",function(r){y(t);const o=m(3);return M(o.editUser.username,r)||(o.editUser.username=r),C(r)}),u()(),c(6,"td",19)(7,"select",9),w("ngModelChange",function(r){y(t);const o=m(3);return M(o.editUser.role,r)||(o.editUser.role=r),C(r)}),T("change",function(){return y(t),C(m(3).onEditRoleChange())}),c(8,"option",10),h(9,"User"),u(),c(10,"option",11),h(11,"Admin"),u()()(),c(12,"td",19)(13,"select",12),w("ngModelChange",function(r){y(t);const o=m(3);return M(o.editUser.branches,r)||(o.editUser.branches=r),C(r)}),N(14,fG,2,2,"option",13),u(),c(15,"div",23)(16,"input",24),w("ngModelChange",function(r){y(t);const o=m(3);return M(o.editUser.password,r)||(o.editUser.password=r),C(r)}),u()()(),c(17,"td",19)(18,"button",20),T("click",function(){return y(t),C(m(3).saveEdit())}),h(19,"Save"),u(),c(20,"button",21),T("click",function(){return y(t),C(m(3).cancelEdit())}),h(21,"Cancel"),u()()}if(2&e){const t=m().$implicit,i=m(2);p(),B(t._id),p(2),b("ngModel",i.editUser.email),p(2),b("ngModel",i.editUser.username),p(2),b("ngModel",i.editUser.role),p(6),b("ngModel",i.editUser.branches),S("disabled","admin"===i.editUser.role),p(),S("ngForOf",i.branches),p(2),b("ngModel",i.editUser.password)}}function gG(e,n){if(1&e&&(c(0,"tr"),N(1,hG,16,5,"ng-container",2)(2,pG,22,8,"ng-template",null,1,Eo),u()),2&e){const t=n.$implicit,i=To(3),r=m(2);p(),S("ngIf",r.editId!==t._id)("ngIfElse",i)}}function mG(e,n){if(1&e){const t=k();sr(0),c(1,"h2"),h(2,"Roles Settings"),u(),c(3,"p"),h(4,"Create/manage users for this company here."),u(),c(5,"div",3)(6,"h3",4),h(7,"Add User"),u(),c(8,"div",5)(9,"div")(10,"label"),h(11,"Email"),u(),c(12,"input",6),w("ngModelChange",function(r){y(t);const o=m();return M(o.newUser.email,r)||(o.newUser.email=r),C(r)}),u()(),c(13,"div")(14,"label"),h(15,"Username"),u(),c(16,"input",7),w("ngModelChange",function(r){y(t);const o=m();return M(o.newUser.username,r)||(o.newUser.username=r),C(r)}),u()(),c(17,"div")(18,"label"),h(19,"Password"),u(),c(20,"input",8),w("ngModelChange",function(r){y(t);const o=m();return M(o.newUser.password,r)||(o.newUser.password=r),C(r)}),u()(),c(21,"div")(22,"label"),h(23,"Role"),u(),c(24,"select",9),w("ngModelChange",function(r){y(t);const o=m();return M(o.newUser.role,r)||(o.newUser.role=r),C(r)}),T("change",function(){return y(t),C(m().onNewRoleChange())}),c(25,"option",10),h(26,"User"),u(),c(27,"option",11),h(28,"Admin"),u()()(),c(29,"div")(30,"label"),h(31,"Branch"),u(),c(32,"select",12),w("ngModelChange",function(r){y(t);const o=m();return M(o.newUser.branches,r)||(o.newUser.branches=r),C(r)}),N(33,dG,2,2,"option",13),u()(),c(34,"div")(35,"button",14),T("click",function(){return y(t),C(m().createUser())}),h(36,"Add"),u()()()(),c(37,"h3"),h(38,"Users"),u(),c(39,"table",15)(40,"thead")(41,"tr")(42,"th",16),h(43,"User ID"),u(),c(44,"th",16),h(45,"Email"),u(),c(46,"th",16),h(47,"Username"),u(),c(48,"th",16),h(49,"Role"),u(),c(50,"th",16),h(51,"Branch"),u(),c(52,"th",16),h(53,"Actions"),u()()(),c(54,"tbody"),N(55,gG,4,2,"tr",17),u()(),ar()}if(2&e){const t=m();p(12),b("ngModel",t.newUser.email),p(4),b("ngModel",t.newUser.username),p(4),b("ngModel",t.newUser.password),p(4),b("ngModel",t.newUser.role),p(8),b("ngModel",t.newUser.branches),S("disabled","admin"===t.newUser.role),p(),S("ngForOf",t.branches),p(22),S("ngForOf",t.users)}}function _G(e,n){1&e&&(c(0,"h2"),h(1,"No privileges"),u(),c(2,"p"),h(3,"Only admins can access Roles Settings."),u())}let vG=(()=>{class e{constructor(t){this.http=t,this.isAdmin="admin"===String(localStorage.getItem("role")||"").toLowerCase(),this.email=localStorage.getItem("email")||"",this.branches=[],this.users=[],this.newUser={branches:[],email:"",username:"",password:"",role:"user"},this.editId=null,this.editUser={branches:[],email:"",username:"",password:"",role:"user"}}ngOnInit(){this.isAdmin&&(this.loadBranches(),this.loadUsers())}loadBranches(){this.http.get("http://localhost:3000/api/branches").subscribe({next:t=>{this.branches=t||[]},error:()=>{this.branches=[]}})}loadUsers(){this.http.get("http://localhost:3000/api/admin/users").subscribe({next:t=>{this.users=t||[]},error:()=>{this.users=[]}})}onNewRoleChange(){"admin"===String(this.newUser.role).toLowerCase()&&(this.newUser.branches=["All Branches"])}createUser(){this.newUser.email&&this.newUser.username&&this.newUser.password?"admin"===String(this.newUser.role).toLowerCase()||this.newUser.branches.length?this.http.post("http://localhost:3000/api/admin/users",this.newUser).subscribe({next:()=>{this.newUser={branches:[],email:"",username:"",password:"",role:"user"},this.loadUsers()},error:t=>{alert(t?.error?.message||"Failed to create user")}}):alert("At least one branch is required"):alert("Email, username, and password are required")}startEdit(t){this.editId=Number(t?._id),this.editUser={branches:Array.isArray(t?.branches)?t.branches:t?.branch?[t.branch]:[],email:t?.email||"",username:t?.username||"",password:"",role:t?.role||"user"}}cancelEdit(){this.editId=null,this.editUser={branches:[],email:"",username:"",password:"",role:"user"}}onEditRoleChange(){"admin"===String(this.editUser.role).toLowerCase()&&(this.editUser.branches=["All Branches"])}saveEdit(){if(null===this.editId)return;const t={branches:this.editUser.branches,email:this.editUser.email,username:this.editUser.username,role:this.editUser.role};this.editUser.password&&(t.password=this.editUser.password),this.http.put(`http://localhost:3000/api/admin/users/${this.editId}`,t).subscribe({next:()=>{this.cancelEdit(),this.loadUsers()},error:i=>{alert(i?.error?.message||"Failed to update user")}})}deleteUser(t){const i=Number(t);Number.isFinite(i)&&confirm("Delete this user?")&&this.http.delete(`http://localhost:3000/api/admin/users/${i}`).subscribe({next:()=>this.loadUsers(),error:r=>alert(r?.error?.message||"Failed to delete user")})}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-roleSettings"]],standalone:!0,features:[Fe],decls:3,vars:2,consts:[["noPrivileges",""],["editRow",""],[4,"ngIf","ngIfElse"],[2,"margin","12px 0","padding","12px","border","1px solid #ddd","border-radius","8px"],[2,"margin-top","0"],[2,"display","grid","grid-template-columns","1fr 1fr","gap","10px","align-items","end"],["placeholder","user@example.com",2,"width","100%",3,"ngModelChange","ngModel"],["placeholder","username",2,"width","100%",3,"ngModelChange","ngModel"],["type","password","placeholder","password",2,"width","100%",3,"ngModelChange","ngModel"],[2,"width","100%",3,"ngModelChange","change","ngModel"],["value","user"],["value","admin"],["multiple","",2,"width","100%","min-height","80px",3,"ngModelChange","ngModel","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[2,"width","100%",3,"click"],[2,"width","100%","border-collapse","collapse"],[2,"text-align","left","border-bottom","1px solid #ddd","padding","6px"],[4,"ngFor","ngForOf"],[3,"ngValue"],[2,"padding","6px","border-bottom","1px solid #f0f0f0"],[3,"click"],[2,"margin-left","6px",3,"click"],[2,"width","100%",3,"ngModelChange","ngModel"],[2,"margin-top","6px"],["type","password","placeholder","new password (optional)",2,"width","100%",3,"ngModelChange","ngModel"]],template:function(i,r){if(1&i&&N(0,mG,56,8,"ng-container",2)(1,_G,4,0,"ng-template",null,0,Eo),2&i){const o=To(2);S("ngIf",r.isAdmin)("ngIfElse",o)}},dependencies:[_t,Et,yt,li,ci,ot,bn,Qu,ft,st],styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})(),yG=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-users"]],standalone:!0,features:[Fe],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"Users"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})();function CG(e,n){if(1&e){const t=k();c(0,"tr",7),T("click",function(){const r=y(t).$implicit;return C(m().openStockDetails(r))}),c(1,"td")(2,"input",13),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.selected,r)||(o.selected=r),C(r)}),T("click",function(r){return y(t),C(r.stopPropagation())}),u()(),c(3,"td"),h(4),u(),c(5,"td"),h(6),u(),c(7,"td"),h(8),u(),c(9,"td"),h(10),u(),c(11,"td"),h(12),u(),c(13,"td")(14,"button",7),T("click",function(r){const o=y(t).$implicit;return m().editStock(o),C(r.stopPropagation())}),h(15,"Edit"),u()()()}if(2&e){const t=n.$implicit,i=m();p(2),b("ngModel",t.selected),p(2),B(t.consignmentNumber),p(2),B(t.consignor),p(2),B(t.deliveryAddress),p(2),B(i.getInStockAmountTotal(t.invoices)),p(2),B(i.getInvoiceAmountTotal(t.invoices))}}function bG(e,n){if(1&e&&(c(0,"li"),h(1),u()),2&e){const t=n.$implicit;p(),Io(" ",t.type," (In Stock Qty: ",t.instock,") (Total Qty: ",t.amount,") ")}}function wG(e,n){if(1&e&&(c(0,"li"),h(1),c(2,"ul"),N(3,bG,2,3,"li",18),u()()),2&e){const t=n.$implicit;p(),z(" ",t.number,": "),p(2),S("ngForOf",t.products)}}function MG(e,n){if(1&e){const t=k();c(0,"div",14)(1,"div",15)(2,"span",16),T("click",function(){return y(t),C(m().closeStockDetails())}),h(3,"\xd7"),u(),c(4,"h2"),h(5,"Shipment Details"),u(),c(6,"div",17)(7,"p")(8,"strong"),h(9,"Consignment No.:"),u(),h(10),u(),c(11,"p")(12,"strong"),h(13,"Status:"),u(),h(14),u(),c(15,"p")(16,"strong"),h(17,"Consignor:"),u(),h(18),u(),c(19,"p")(20,"strong"),h(21,"Consignee:"),u(),h(22),u(),c(23,"p")(24,"strong"),h(25,"Delivery Address:"),u(),h(26),u(),c(27,"p")(28,"strong"),h(29,"Date:"),u(),h(30),Tc(31,"date"),u(),c(32,"p")(33,"strong"),h(34,"Products in stock:"),u(),h(35),u(),c(36,"p")(37,"strong"),h(38,"No. of Products:"),u(),h(39),u()(),c(40,"h3"),h(41,"Products"),u(),c(42,"ul"),N(43,wG,4,2,"li",18),u()()()}if(2&e){const t=m();p(10),z(" ",t.selectedStock.consignmentNumber,""),p(4),z(" ",t.selectedStock.shipmentStatus,""),p(4),z(" ",t.selectedStock.consignor,""),p(4),z(" ",t.selectedStock.consignee,""),p(4),z(" ",t.selectedStock.deliveryAddress,""),p(4),z(" ",Ic(31,9,t.selectedStock.date,"short"),""),p(5),z(" ",t.getInStockAmountTotal(t.selectedStock.invoices),""),p(4),z(" ",t.getInvoiceAmountTotal(t.selectedStock.invoices),""),p(4),S("ngForOf",t.selectedStock.invoices)}}function DG(e,n){if(1&e&&(c(0,"option",31),h(1),u()),2&e){const t=n.$implicit;S("value",t.clientName),p(),Pe("",t.clientName,", ",t.address,"")}}function SG(e,n){if(1&e){const t=k();c(0,"div")(1,"label"),h(2,"Consignor: "),c(3,"select",28),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consignor,r)||(o.editingStock.consignor=r),C(r)}),T("change",function(){y(t);const r=m(2);return C(r.onConsignorSelect(r.editingStock.consignor))}),N(4,DG,2,3,"option",29),u()(),c(5,"label"),h(6,"GSTIN: "),c(7,"input",30),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consignorGST,r)||(o.editingStock.consignorGST=r),C(r)}),u()(),c(8,"label"),h(9,"Address: "),c(10,"input",30),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consignorAddress,r)||(o.editingStock.consignorAddress=r),C(r)}),u()(),c(11,"label"),h(12,"Phone: "),c(13,"input",30),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consignorPhone,r)||(o.editingStock.consignorPhone=r),C(r)}),u()()()}if(2&e){const t=m(2);p(3),b("ngModel",t.editingStock.consignor),p(),S("ngForOf",t.clientList),p(3),b("ngModel",t.editingStock.consignorGST),p(3),b("ngModel",t.editingStock.consignorAddress),p(3),b("ngModel",t.editingStock.consignorPhone)}}function TG(e,n){if(1&e&&(c(0,"option",31),h(1),u()),2&e){const t=n.$implicit;S("value",t.guestName),p(),Pe("",t.guestName,", ",t.address,"")}}function IG(e,n){if(1&e){const t=k();c(0,"div")(1,"label"),h(2,"Guest Name: "),c(3,"select",28),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consignor,r)||(o.editingStock.consignor=r),C(r)}),T("change",function(){y(t);const r=m(2);return C(r.onConsignorGuestSelect(r.editingStock.consignor))}),N(4,TG,2,3,"option",29),u()(),c(5,"label"),h(6,"Address: "),c(7,"input",30),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consignorAddress,r)||(o.editingStock.consignorAddress=r),C(r)}),u()(),c(8,"label"),h(9,"Phone: "),c(10,"input",30),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consignorPhone,r)||(o.editingStock.consignorPhone=r),C(r)}),u()()()}if(2&e){const t=m(2);p(3),b("ngModel",t.editingStock.consignor),p(),S("ngForOf",t.guestList),p(3),b("ngModel",t.editingStock.consignorAddress),p(3),b("ngModel",t.editingStock.consignorPhone)}}function EG(e,n){if(1&e&&(c(0,"option",31),h(1),u()),2&e){const t=n.$implicit;S("value",t.clientName),p(),Pe("",t.clientName,", ",t.address,"")}}function NG(e,n){if(1&e){const t=k();c(0,"div")(1,"label"),h(2,"Consignee: "),c(3,"select",28),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consignee,r)||(o.editingStock.consignee=r),C(r)}),T("change",function(){y(t);const r=m(2);return C(r.onConsigneeSelect(r.editingStock.consignee))}),N(4,EG,2,3,"option",29),u()(),c(5,"label"),h(6,"GSTIN: "),c(7,"input",30),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consigneeGST,r)||(o.editingStock.consigneeGST=r),C(r)}),u()(),c(8,"label"),h(9,"Address: "),c(10,"input",30),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consigneeAddress,r)||(o.editingStock.consigneeAddress=r),C(r)}),u()(),c(11,"label"),h(12,"Phone: "),c(13,"input",30),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consigneePhone,r)||(o.editingStock.consigneePhone=r),C(r)}),u()()()}if(2&e){const t=m(2);p(3),b("ngModel",t.editingStock.consignee),p(),S("ngForOf",t.clientList),p(3),b("ngModel",t.editingStock.consigneeGST),p(3),b("ngModel",t.editingStock.consigneeAddress),p(3),b("ngModel",t.editingStock.consigneePhone)}}function xG(e,n){if(1&e&&(c(0,"option",31),h(1),u()),2&e){const t=n.$implicit;S("value",t.guestName),p(),Pe("",t.guestName,", ",t.address,"")}}function PG(e,n){if(1&e){const t=k();c(0,"div")(1,"label"),h(2,"Guest Name: "),c(3,"select",28),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consignee,r)||(o.editingStock.consignee=r),C(r)}),T("change",function(){y(t);const r=m(2);return C(r.onConsigneeGuestSelect(r.editingStock.consignee))}),N(4,xG,2,3,"option",29),u()(),c(5,"label"),h(6,"Address: "),c(7,"input",30),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consigneeAddress,r)||(o.editingStock.consigneeAddress=r),C(r)}),u()(),c(8,"label"),h(9,"Phone: "),c(10,"input",30),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.consigneePhone,r)||(o.editingStock.consigneePhone=r),C(r)}),u()()()}if(2&e){const t=m(2);p(3),b("ngModel",t.editingStock.consignee),p(),S("ngForOf",t.guestList),p(3),b("ngModel",t.editingStock.consigneeAddress),p(3),b("ngModel",t.editingStock.consigneePhone)}}function AG(e,n){if(1&e){const t=k();c(0,"div")(1,"label"),h(2,"Name: "),c(3,"input",19),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.billingName,r)||(o.editingStock.billingName=r),C(r)}),u()(),c(4,"label"),h(5,"GSTIN: "),c(6,"input",19),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.billingGSTIN,r)||(o.editingStock.billingGSTIN=r),C(r)}),u()(),c(7,"label"),h(8,"Address: "),c(9,"textarea",19),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.editingStock.billingAddress,r)||(o.editingStock.billingAddress=r),C(r)}),u()()()}if(2&e){const t=m(2);p(3),b("ngModel",t.editingStock.billingName),p(3),b("ngModel",t.editingStock.billingGSTIN),p(3),b("ngModel",t.editingStock.billingAddress)}}function kG(e,n){if(1&e&&(c(0,"option",31),h(1),u()),2&e){const t=n.$implicit;S("value",t.pkgName),p(),B(t.pkgName)}}function OG(e,n){if(1&e){const t=k();c(0,"div",37)(1,"select",28),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.type,r)||(o.type=r),C(r)}),T("change",function(){const r=y(t).$implicit;return C(m(3).onPackageList(r.pkgName))}),N(2,kG,2,2,"option",29),u(),c(3,"input",38),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.amount,r)||(o.amount=r),C(r)}),u(),c(4,"button",26),T("click",function(){const r=y(t).index,o=m().index;return C(m(2).deletePackage(o,r))}),h(5),u()()}if(2&e){const t=n.$implicit,i=n.index,r=m().index,o=m(2);p(),b("ngModel",t.type),p(),S("ngForOf",o.pkgList),p(),b("ngModel",t.amount),p(2),Pe("\xf0\u0178\u2014\u2018\xef\xb8\x8f Delete Package ",r,"/",i,"")}}function RG(e,n){if(1&e&&(c(0,"option",31),h(1),u()),2&e){const t=n.$implicit;S("value",t.productName),p(),Pe(" ",t.hsnNum," - ",t.productName," ")}}function FG(e,n){if(1&e){const t=k();c(0,"div",37)(1,"select",28),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.type,r)||(o.type=r),C(r)}),T("change",function(){const r=y(t).$implicit;return C(m(3).onPackageList(r.productName))}),N(2,RG,2,3,"option",29),u(),c(3,"input",38),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.amount,r)||(o.amount=r),C(r)}),T("ngModelChange",function(r){return C(y(t).$implicit.instock=r)}),u(),c(4,"button",26),T("click",function(){const r=y(t).index,o=m().index;return C(m(2).deleteProduct(o,r))}),h(5),u()()}if(2&e){const t=n.$implicit,i=n.index,r=m().index,o=m(2);p(),b("ngModel",t.type),p(),S("ngForOf",o.productList),p(),b("ngModel",t.amount),p(2),Pe("\xf0\u0178\u2014\u2018\xef\xb8\x8f Delete Product ",r,"/",i,"")}}function LG(e,n){if(1&e){const t=k();c(0,"div",32)(1,"div",33)(2,"input",34),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.number,r)||(o.number=r),C(r)}),u(),c(3,"input",35),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.value,r)||(o.value=r),C(r)}),u(),c(4,"button",26),T("click",function(){const r=y(t).index;return C(m(2).deleteInvoice(r))}),h(5,"\xf0\u0178\u2014\u2018\xef\xb8\x8f Delete Invoice"),u()(),c(6,"h4"),h(7,"Packages"),u(),N(8,OG,6,5,"div",36),c(9,"button",26),T("click",function(){const r=y(t).index;return C(m(2).addPackage(r))}),h(10,"+ Add Package"),u(),c(11,"h4"),h(12,"Products"),u(),N(13,FG,6,5,"div",36),c(14,"button",26),T("click",function(){const r=y(t).index;return C(m(2).addProduct(r))}),h(15,"+ Add Product"),u()()}if(2&e){const t=n.$implicit;p(2),b("ngModel",t.number),p(),b("ngModel",t.value),p(5),S("ngForOf",t.packages),p(5),S("ngForOf",t.products)}}function VG(e,n){if(1&e){const t=k();c(0,"div",14)(1,"div",15)(2,"h3"),h(3,"Edit Stock"),u(),c(4,"label"),h(5),u(),te(6,"br"),c(7,"label"),h(8,"E-way Bill No:"),u(),c(9,"input",19),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.ewaybillNumber,r)||(o.editingStock.ewaybillNumber=r),C(r)}),u(),c(10,"label"),h(11,"Date:"),u(),c(12,"input",20),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.date,r)||(o.editingStock.date=r),C(r)}),u(),c(13,"label"),h(14,"Status Details:"),u(),c(15,"input",19),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.shipmentStatusDetails,r)||(o.editingStock.shipmentStatusDetails=r),C(r)}),u(),c(16,"h4"),h(17,"Consignor"),u(),c(18,"div",21)(19,"button",7),T("click",function(){return y(t),C(m().editingStock.consignorTab="consignor")}),h(20,"Consignor"),u(),c(21,"button",7),T("click",function(){return y(t),C(m().editingStock.consignorTab="guest")}),h(22,"Guest"),u()(),N(23,SG,14,5,"div",22)(24,IG,11,4,"div",22),c(25,"h4"),h(26,"Consignee"),u(),c(27,"div",21)(28,"button",7),T("click",function(){return y(t),C(m().editingStock.consigneeTab="consignee")}),h(29,"Consignee"),u(),c(30,"button",7),T("click",function(){return y(t),C(m().editingStock.consigneeTab="guest")}),h(31,"Guest"),u()(),N(32,NG,14,5,"div",22)(33,PG,11,4,"div",22),c(34,"label"),h(35,"Payment Mode: "),c(36,"select",19),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.paymentMode,r)||(o.editingStock.paymentMode=r),C(r)}),c(37,"option"),h(38,"Account Credit"),u(),c(39,"option"),h(40,"Paid"),u(),c(41,"option"),h(42,"To Pay"),u()()(),c(43,"label"),h(44,"External Ref ID:"),u(),c(45,"input",19),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.externalRefId,r)||(o.editingStock.externalRefId=r),C(r)}),u(),c(46,"h4"),h(47,"Billing Type"),u(),c(48,"label")(49,"input",23),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.billingType,r)||(o.editingStock.billingType=r),C(r)}),u(),h(50," Consignor's GST Address"),u(),c(51,"label")(52,"input",24),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.billingType,r)||(o.editingStock.billingType=r),C(r)}),u(),h(53," Different Address"),u(),N(54,AG,10,3,"div",22),c(55,"section")(56,"h3"),h(57,"4. Invoice Details"),u(),N(58,LG,16,4,"div",25),c(59,"button",26),T("click",function(){return y(t),C(m().addInvoice())}),h(60,"+ Add Invoice"),u()(),c(61,"h4"),h(62,"Charges"),u(),c(63,"label"),h(64,"ODC: "),c(65,"input",27),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.charges.odc,r)||(o.editingStock.charges.odc=r),C(r)}),u()(),c(66,"label"),h(67,"Unloading: "),c(68,"input",27),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.charges.unloading,r)||(o.editingStock.charges.unloading=r),C(r)}),u()(),c(69,"label"),h(70,"Docket: "),c(71,"input",27),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.charges.docket,r)||(o.editingStock.charges.docket=r),C(r)}),u()(),c(72,"label"),h(73,"Other: "),c(74,"input",27),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.charges.other,r)||(o.editingStock.charges.other=r),C(r)}),u()(),c(75,"label"),h(76,"CCC: "),c(77,"input",27),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.charges.ccc,r)||(o.editingStock.charges.ccc=r),C(r)}),u()(),c(78,"label"),h(79,"Final Amount: "),c(80,"input",27),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingStock.finalAmount,r)||(o.editingStock.finalAmount=r),C(r)}),u()(),c(81,"button",7),T("click",function(){return y(t),C(m().calculateFinalAmount())}),h(82,"Calculate"),u(),c(83,"button",7),T("click",function(){return y(t),C(m().saveStockEdit())}),h(84,"Save"),u(),c(85,"button",7),T("click",function(){return y(t),C(m().cancelEdit())}),h(86,"Cancel"),u()()()}if(2&e){const t=m();p(5),Pe("Consignment No: ",t.editingStock.consignmentNumber," | Status: ",t.editingStock.shipmentStatus,""),p(4),b("ngModel",t.editingStock.ewaybillNumber),p(3),b("ngModel",t.editingStock.date),p(3),b("ngModel",t.editingStock.shipmentStatusDetails),p(4),qe("active","consignor"===t.editingStock.consignorTab),p(2),qe("active","guest"===t.editingStock.consignorTab),p(2),S("ngIf","consignor"===t.editingStock.consignorTab),p(),S("ngIf","guest"===t.editingStock.consignorTab),p(4),qe("active","consignee"===t.editingStock.consigneeTab),p(2),qe("active","guest"===t.editingStock.consigneeTab),p(2),S("ngIf","consignee"===t.editingStock.consigneeTab),p(),S("ngIf","guest"===t.editingStock.consigneeTab),p(3),b("ngModel",t.editingStock.paymentMode),p(9),b("ngModel",t.editingStock.externalRefId),p(4),b("ngModel",t.editingStock.billingType),p(3),b("ngModel",t.editingStock.billingType),p(2),S("ngIf","different"===t.editingStock.billingType),p(4),S("ngForOf",t.editingStock.invoices),p(7),b("ngModel",t.editingStock.charges.odc),p(3),b("ngModel",t.editingStock.charges.unloading),p(3),b("ngModel",t.editingStock.charges.docket),p(3),b("ngModel",t.editingStock.charges.other),p(3),b("ngModel",t.editingStock.charges.ccc),p(3),b("ngModel",t.editingStock.finalAmount)}}function BG(e,n){if(1&e){const t=k();sr(0),c(1,"label",51)(2,"input",52),w("ngModelChange",function(r){y(t);const o=m().$implicit;return M(o.ewayBillRequired,r)||(o.ewayBillRequired=r),C(r)}),u(),te(3,"span",53),c(4,"span",54),h(5),u()(),ar()}if(2&e){const t=m().$implicit;p(2),b("ngModel",t.ewayBillRequired),p(3),z(" ",t.ewayBillRequired?"Eway Bill will be created":"Eway Bill not required"," ")}}function jG(e,n){if(1&e&&(c(0,"p")(1,"strong"),h(2,"Customer created Eway Bill No:"),u(),h(3),u()),2&e){const t=m().$implicit;p(3),z(" ",t.ewaybillNumber,"")}}function UG(e,n){if(1&e){const t=k();c(0,"li")(1,"div",55)(2,"span")(3,"strong"),h(4),u()(),c(5,"span"),h(6),u(),c(7,"span")(8,"input",56),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.manifestQty,r)||(o.manifestQty=r),C(r)}),T("change",function(){const r=y(t).$implicit;return C(m(5).validateManifestQty(r))}),u()()()()}if(2&e){const t=n.$implicit;p(4),B(t.type),p(2),Pe(" In Stock: ",t.instock," / Total: ",t.amount," "),p(2),S("max",t.instock),b("ngModel",t.manifestQty)}}function HG(e,n){if(1&e&&(c(0,"li")(1,"strong"),h(2,"Invoice:"),u(),h(3),c(4,"ul"),N(5,UG,9,5,"li",18),u()()),2&e){const t=n.$implicit;p(3),z(" ",t.number," "),p(2),S("ngForOf",t.products)}}function GG(e,n){if(1&e&&(c(0,"div",49)(1,"h4"),h(2),u(),c(3,"div",50),N(4,BG,6,2,"ng-container",40)(5,jG,4,1,"ng-template",null,1,Eo),u(),c(7,"p")(8,"strong"),h(9,"Consignor:"),u(),h(10),u(),c(11,"ul"),N(12,HG,6,2,"li",18),u(),te(13,"hr"),u()),2&e){const t=n.$implicit,i=To(6);p(2),z("Consignment: ",t.consignmentNumber,""),p(2),S("ngIf",""===t.ewaybillNumber)("ngIfElse",i),p(6),z(" ",t.consignor,""),p(2),S("ngForOf",t.invoices)}}function $G(e,n){if(1&e&&(c(0,"option",57),h(1),u()),2&e){const t=n.$implicit;S("ngValue",t),p(),Pe(" ",t.name," (",t.type,") ")}}function zG(e,n){if(1&e&&(c(0,"option",31),h(1),u()),2&e){const t=n.$implicit;S("value",t),p(),z(" ",t," ")}}function qG(e,n){if(1&e&&(c(0,"span"),h(1),u()),2&e){const t=m().$implicit;p(),z("- ",t.vehicleNo,"")}}function WG(e,n){if(1&e){const t=k();c(0,"li"),h(1),N(2,qG,2,1,"span",22),c(3,"button",58),T("click",function(){const r=y(t).index;return C(m(3).removeRoutePoint(r))}),h(4,"x"),u()()}if(2&e){const t=n.$implicit,i=n.index;p(),Io(" ",i+1,". ",t.name," (",t.type,") "),p(),S("ngIf",t.vehicleNo)}}function ZG(e,n){if(1&e){const t=k();c(0,"div")(1,"p")(2,"strong"),h(3,"Manifestation No:"),u(),h(4),u(),te(5,"hr"),N(6,GG,14,5,"div",41),c(7,"div",42)(8,"h3"),h(9,"Shipment Routing"),u(),c(10,"div",43)(11,"select",28),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.selectedRoutePoint,r)||(o.selectedRoutePoint=r),C(r)}),T("change",function(){return y(t),C(m(2).onRoutePointChange())}),N(12,$G,2,3,"option",44),u(),c(13,"select",45),w("ngModelChange",function(r){y(t);const o=m(2);return M(o.selectedRouteVehicle,r)||(o.selectedRouteVehicle=r),C(r)}),c(14,"option",46),h(15,"Select Vehicle"),u(),N(16,zG,2,2,"option",29),u(),c(17,"button",7),T("click",function(){return y(t),C(m(2).addRoutePoint())}),h(18,"Add"),u()(),c(19,"ul",47),N(20,WG,5,4,"li",18),u()(),c(21,"div",48)(22,"button",7),T("click",function(){return y(t),C(m(2).finalizeManifestation())}),h(23,"Manifest"),u(),c(24,"button",7),T("click",function(){return y(t),C(m(2).closeManifestationPopup())}),h(25,"Cancel"),u()()()}if(2&e){const t=m(2);p(4),z(" ",t.manifestationNumber,""),p(2),S("ngForOf",t.selectedForManifestation),p(5),b("ngModel",t.selectedRoutePoint),p(),S("ngForOf",t.availableRoutePoints),p(),b("ngModel",t.selectedRouteVehicle),S("disabled",!(null!=t.selectedRoutePoint&&null!=t.selectedRoutePoint.vehicles&&t.selectedRoutePoint.vehicles.length)),p(3),S("ngForOf",null==t.selectedRoutePoint?null:t.selectedRoutePoint.vehicles),p(4),S("ngForOf",t.shipmentRoute)}}function QG(e,n){if(1&e){const t=k();c(0,"p"),h(1,"No consignments selected for manifestation."),u(),c(2,"button",7),T("click",function(){return y(t),C(m(2).closeManifestationPopup())}),h(3,"Close"),u()}}function YG(e,n){if(1&e){const t=k();c(0,"div",14)(1,"div",39)(2,"span",16),T("click",function(){return y(t),C(m().closeManifestationPopup())}),h(3,"\xd7"),u(),c(4,"h2"),h(5,"Manifestation Terminal"),u(),N(6,ZG,26,8,"div",40)(7,QG,4,0,"ng-template",null,0,Eo),u()()}if(2&e){const t=To(8),i=m();p(6),S("ngIf",i.selectedForManifestation.length>0)("ngIfElse",t)}}let KG=(()=>{class e{constructor(t,i){this.http=t,this.branchService=i,this.stocks=[],this.filteredStocks=[],this.searchText="",this.filterDate="",this.filterConsignor="",this.selectedStock=null,this.editingStock=null,this.billingType="consignor",this.billingName="",this.billingAddress="",this.billingGSTIN="",this.billingPhone="",this.clientList=[],this.guestList=[],this.pkgList=[],this.productList=[],this.pickupType="consignor",this.pickupName="",this.pickupAddress="",this.pickupPhone="",this.deliveryType="consignee",this.deliveryName="",this.deliveryAddress="",this.deliveryPhone="",this.consignorTab="consignor",this.consigneeTab="consignee",this.email="",this.username="",this.branch=localStorage.getItem("branch")||"All Branches",this.consignmentNumber=localStorage.getItem("consignmentNumber")||"-999",this.date=(new Date).toISOString().split("T")[0],this.ewaybillNumber="",this.consignor="",this.consignorGST="",this.consignorAddress="",this.consignorPhone="",this.consignee="",this.consigneeGST="",this.consigneeAddress="",this.consigneePhone="",this.paymentMode="Account Credit",this.externalRefId="",this.invoices=[{number:"",value:0}],this.packages=[{type:"",amount:1}],this.products=[{type:"",amount:1}],this.charges={odc:0,unloading:0,docket:0,other:0,ccc:0},this.finalAmount=0,this.shipmentStatus="Pending",this.shipmentStatusDetails="",this.branches=[],this.hubs=[],this.availableRoutePoints=[],this.shipmentRoute=[],this.selectedRoutePoint=null,this.selectedRouteVehicle="",this.onStorageChange=r=>{"branch"===r.key&&r.newValue&&r.newValue!==this.branch&&(this.branch=r.newValue,this.loadStocks())},this.showManifestationPopup=!1,this.selectedForManifestation=[],this.manifestationNumber=""}addInvoice(){this.editingStock.invoices.push({number:"",value:0,packages:[],products:[]})}deleteInvoice(t){this.editingStock.invoices.splice(t,1)}addPackage(t){const i=this.editingStock.invoices[t];i.packages||(i.packages=[]),i.packages.push({type:"",amount:1})}deletePackage(t,i){const r=this.editingStock.invoices[t];r.packages&&r.packages.length>i&&r.packages.splice(i,1)}addProduct(t){const i=this.editingStock.invoices[t];i.products||(i.products=[]),i.products.push({type:"",amount:1,instock:0,intransitstock:0,deliveredstock:0})}deleteProduct(t,i){const r=this.editingStock.invoices[t];r.products&&r.products.length>i&&r.products.splice(i,1)}calculateFinalAmount(){const t=this.editingStock.invoices.reduce((o,s)=>o+(s.value||0),0),i=this.editingStock.packages.reduce((o,s)=>o+(s.amount||0),0),r=Object.values(this.charges).reduce((o,s)=>o+(Number(s)||0),0);this.editingStock.finalAmount=t+i+r}loadStocks(){const t=this.username||localStorage.getItem("username")||"",i=this.branch||localStorage.getItem("branch")||"All Branches";t?this.http.get("http://localhost:3000/api/newshipments",{params:{username:t,branch:i}}).subscribe({next:r=>{const o=(r||[]).map(s=>({...s,invoices:this.flattenInvoices(s.ewaybills||s.invoices||[])}));this.stocks=o.filter(s=>"Pending"===s.shipmentStatus||"In Transit/Pending"===s.shipmentStatus).sort((s,a)=>new Date(a.createdAt).getTime()-new Date(s.createdAt).getTime()),this.applyFilters()},error:r=>console.error("Error loading shipments:",r)}):console.error("Missing username for loading stocks")}flattenInvoices(t){return(t||[]).flatMap(i=>i.invoices||[])}getInStockAmountTotal(t){let i=0;return(t||[]).forEach(r=>{(r.products||[]).forEach(o=>{i+=Number(o.instock||0)})}),i}getInvoiceAmountTotal(t){let i=0;return(t||[]).forEach(r=>{(r.products||[]).forEach(o=>{i+=Number(o.instock||0)+Number(o.intransitstock||0)+Number(o.deliveredstock||0)})}),i}getProductTotal(t,i){let r=0;return t.forEach(o=>{o.invoices.forEach(s=>{s.products.forEach(a=>{r+=a[i]||0})})}),r}applyFilters(){this.filteredStocks=this.stocks.filter(t=>(!this.searchText||t.consignmentNumber?.includes(this.searchText)||t.consignor?.includes(this.searchText))&&(!this.filterDate||new Date(t.date).toISOString().split("T")[0]===this.filterDate)&&(!this.filterConsignor||t.consignor?.toLowerCase().includes(this.filterConsignor.toLowerCase())))}toggleAllSelection(t){const i=t.target.checked;this.filteredStocks.forEach(r=>r.selected=i)}openStockDetails(t){this.selectedStock=t}closeStockDetails(){this.selectedStock=null}editStock(t){console.log("\u270f\ufe0f Edit stock:",t),this.editingStock={...t}}saveStockEdit(){this.editingStock&&(console.log("kkkkkkkkkkklllllllllllllllll"+this.editingStock.consignmentNumber),this.http.put(`http://localhost:3000/api/newshipments/${this.editingStock.consignmentNumber}`,this.editingStock).subscribe({next:()=>{console.log("\u2705 Stock updated"),this.loadStocks(),this.editingStock=null},error:t=>console.error("\u274c Error updating stock:",t)}))}cancelEdit(){this.editingStock=null}onConsignorSelect(t){const i=this.clientList.find(r=>r.clientName===t);i&&(this.editingStock.consignorGST=i.GSTIN,this.editingStock.consignorAddress=i.address,this.editingStock.consignorPhone=i.phoneNum)}onConsigneeSelect(t){const i=this.clientList.find(r=>r.clientName===t);i&&(this.editingStock.consigneeGST=i.GSTIN,this.editingStock.consigneeAddress=i.address,this.editingStock.consigneePhone=i.phoneNum)}onConsignorGuestSelect(t){const i=this.guestList.find(r=>r.guestName===t);i&&(this.editingStock.consignorGST="GUEST",this.editingStock.consignorAddress=i.address,this.editingStock.consignorPhone=i.phoneNum)}onConsigneeGuestSelect(t){const i=this.guestList.find(r=>r.guestName===t);i&&(this.editingStock.consigneeGST="GUEST",this.editingStock.editingStock.consigneeAddress=i.address,this.editingStock.editingStock.consigneePhone=i.phoneNum)}onPackageList(t){this.pkgList.find(r=>r.pkgName===t)}onProductList(t){this.productList.find(r=>r.productName===t)}addRoutePoint(){this.selectedRoutePoint&&(this.shipmentRoute.push({name:this.selectedRoutePoint.name,type:this.selectedRoutePoint.type,vehicleNo:this.selectedRouteVehicle||""}),this.selectedRoutePoint=null,this.selectedRouteVehicle="")}removeRoutePoint(t){this.shipmentRoute.splice(t,1)}loadBranches(){const t=localStorage.getItem("email");this.http.get(`http://localhost:3000/api/branches?email=${t}`).subscribe({next:i=>{console.log("Branches loaded:",i),this.branches=i,this.updateAvailableRoutePoints()},error:i=>console.error("Error loading branches:",i)})}loadHubs(){const t=localStorage.getItem("email");this.http.get(`http://localhost:3000/api/hubs?email=${t}`).subscribe({next:i=>{console.log("Hubs loaded:",i),this.hubs=i,this.updateAvailableRoutePoints()},error:i=>console.error("Error loading hubs:",i)})}updateAvailableRoutePoints(){this.availableRoutePoints=[...this.branches.map(t=>({name:t.branchName,type:"Branch",vehicles:(t.vehicles||[]).map(i=>i.vehicleNo).filter(Boolean)})),...this.hubs.map(t=>({name:t.hubName,type:"Hub",vehicles:(t.deliveryAddresses||[]).flatMap(i=>(i.vehicles||[]).map(r=>r.vehicleNo)).filter(Boolean)}))]}onRoutePointChange(){this.selectedRouteVehicle=this.selectedRoutePoint?.vehicles?.[0]||""}ngOnInit(){this.email=localStorage.getItem("email")||"",this.username=localStorage.getItem("username")||"",this.branch=this.branchService.currentBranch||localStorage.getItem("branch")||"All Branches",this.branchSub=this.branchService.branch$.subscribe(t=>{this.branch=t,this.loadStocks()}),this.branchCheck=setInterval(()=>{const t=localStorage.getItem("branch")||"All Branches";t!==this.branch&&(this.branch=t,this.loadStocks())},1e3),window.addEventListener("storage",this.onStorageChange),this.http.get(`http://localhost:3000/api/clients/clientslist?emailId=${this.email}`).subscribe({next:t=>this.clientList=t,error:t=>console.error("Error fetching client list",t),complete:()=>console.log("Client list fetch complete")}),this.http.get(`http://localhost:3000/api/guests/guestslist?emailId=${this.email}`).subscribe({next:t=>this.guestList=t,error:t=>console.error("Error fetching guest list",t),complete:()=>console.log("Guest list fetch complete")}),this.http.get(`http://localhost:3000/api/pkgs/pkglist?emailId=${this.email}`).subscribe({next:t=>this.pkgList=t,error:t=>console.error("Error fetching package list",t),complete:()=>console.log("Package list fetch complete")}),this.http.get(`http://localhost:3000/api/products/productlist?emailId=${this.email}`).subscribe({next:t=>this.productList=t,error:t=>console.error("Error fetching product list",t),complete:()=>console.log("Product list fetch complete")}),this.loadBranches(),this.loadHubs()}ngOnDestroy(){this.branchSub?.unsubscribe(),this.branchCheck&&clearInterval(this.branchCheck),window.removeEventListener("storage",this.onStorageChange)}getEwaybillNumberFromDB(t){return this.stocks.find(r=>r.consignmentNumber===t)?.ewaybillNumber||""}openManifestationPopup(){"All Branches"!==this.branch?(this.selectedForManifestation=this.filteredStocks.filter(t=>t.selected),0!==this.selectedForManifestation.length?(this.manifestationNumber="",this.http.get("http://localhost:3000/api/manifest/next-number",{params:{email:this.email,username:this.username}}).subscribe({next:t=>this.manifestationNumber=t.nextManifestationNumber||"1",error:t=>{console.error("Error fetching next manifestation number:",t),this.manifestationNumber="1"}}),this.selectedForManifestation=this.selectedForManifestation.map(t=>{const i={...t,ewayBillRequired:!1,ewaybillNumber:this.getEwaybillNumberFromDB(t.consignmentNumber)};return i.invoices?.forEach(r=>{r.products?.forEach(o=>{const s=Number(o.amount)||0,a=Number(o.intransitstock)||0,l=Number(o.deliveredstock)||0,d=Math.max(0,s-a-l);!Number(o.instock)&&d>0&&(o.instock=d),o.manifestQty=Number(o.instock)||d,o.manifestQtyTouched=!1})}),i}),this.showManifestationPopup=!0):alert("\u26a0\ufe0f Please select at least one consignment to manifest.")):alert("Please select a specific branch before manifesting consignments.")}closeManifestationPopup(){this.showManifestationPopup=!1}finalizeManifestation(){if(0===this.selectedForManifestation.length)return void alert("No consignments selected.");const t=this.shipmentRoute.map(o=>`${o.name} (${o.type})${o.vehicleNo?" - Vehicle: "+o.vehicleNo:""}`).join(" -> ");console.log("\u{1f6e4}\ufe0f TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTravel Pattern:",this.selectedForManifestation);const i=this.selectedForManifestation.map(o=>({consignmentNumber:o.consignmentNumber,consignor:o.consignor,routes:t,invoices:(o.invoices||[]).map(s=>{const a=(s.products||[]).map(l=>{const d=Number(l.instock)||0,f=l.manifestQty,_=l.manifestQtyTouched&&null!=f&&""!==f?Math.max(0,Number(f)||0):d,v=Math.max(0,d-_),D=(Number(l.intransitstock)||0)+_;return{...l,type:l.type,instock:v,intransitstock:D,amount:Number(l.amount)||0,manifestQty:_}});return{number:s.number||s.invoicenum||"",invoicenum:s.invoicenum||s.number||"",value:Number(s.value)||0,products:a}}),ewaybills:(o.ewaybills||[]).map(s=>({number:s.number||s.ewaybillNumber||"",ewaybillNumber:s.ewaybillNumber||s.number||"",invoices:(s.invoices||[]).map(a=>({number:a.number||a.invoicenum||"",invoicenum:a.invoicenum||a.number||"",value:Number(a.value)||0}))}))})),r={username:this.username,branch:this.branch,manifestationNumber:this.manifestationNumber,date:new Date,consignments:i};console.log("\u{1f4e6} Sending manifestation to backend:",r),this.http.post("http://localhost:3000/api/manifest/add",r).subscribe({next:o=>{console.log("\u2705 Manifestation saved successfully:",o),console.log("testttttt",r),this.showManifestationPopup=!1,this.loadStocks()},error:o=>{console.error("\u274c Error saving manifestation:",o.message),alert("Failed to save manifestation. Check server logs. "+o.message)}})}validateManifestQty(t){t.manifestQtyTouched=!0,t.manifestQty>t.instock&&(alert(`\u26a0\ufe0f Manifest quantity cannot exceed available stock (${t.instock}).`),t.manifestQty=t.instock),t.manifestQty<0&&(alert("\u26a0\ufe0f Manifest quantity cannot be negative."),t.manifestQty=0)}printReceipts(){const t=this.filteredStocks?.filter(i=>i.selected)||[];0!==t.length?fetch("assets/receipt-template.html").then(i=>i.text()).then(i=>{let r="\n        <html>\n          <head>\n            <style>\n              body { font-family: Arial, sans-serif; padding: 20px; }\n              h2 { margin-bottom: 0; }\n              table { width: 100%; border-collapse: collapse; margin-top: 10px; }\n              th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n              th { background-color: #f2f2f2; }\n              .page-break { page-break-after: always; }\n            </style>\n          </head>\n          <body>\n      ";t.forEach((s,a)=>{const l=s.invoices.flatMap(f=>f.products.map(g=>`\n            <tr>\n              <td>${f.number}</td>\n              <td>${g.type}</td>\n              <td>${g.instock}</td>\n              <td>${g.manifestQty}</td>\n              <td>${g.amount}</td>\n            </tr>\n          `)).join(""),d=i.replace("{{consignmentNumber}}",s.consignmentNumber).replace("{{consignor}}",s.consignor).replace("{{rows}}",l);r+=d,a<t.length-1&&(r+='<div class="page-break"></div>')}),r+="</body></html>";const o=window.open("","_blank");o&&(o.document.open(),o.document.write(r),o.document.close(),o.print())}):alert("No consignments selected.")}static{this.\u0275fac=function(i){return new(i||e)(O(rt),O(mm))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-stocks"]],standalone:!0,features:[Fe],decls:34,vars:7,consts:[["noSelection",""],["showEwaybill",""],[1,"stocks-container"],[1,"filters"],["type","text","placeholder","Search by consignment no. or consignor",3,"ngModelChange","input","ngModel"],["type","date",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Filter by consignor",3,"ngModelChange","input","ngModel"],[3,"click"],[1,"actions"],[1,"stocks-table"],["type","checkbox",3,"change"],[3,"click",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],["type","checkbox",3,"ngModelChange","click","ngModel"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[1,"stock-details"],[4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],[1,"tabs"],[4,"ngIf"],["type","radio","name","billing","value","consignor",3,"ngModelChange","ngModel"],["type","radio","name","billing","value","different",3,"ngModelChange","ngModel"],["class","invoice-block",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","number",3,"ngModelChange","ngModel"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["readonly","",3,"ngModelChange","ngModel"],[3,"value"],[1,"invoice-block"],[1,"grid-3"],["placeholder","Invoice Number",3,"ngModelChange","ngModel"],["placeholder","Invoice Value","type","number",3,"ngModelChange","ngModel"],["class","grid-4",4,"ngFor","ngForOf"],[1,"grid-4"],["placeholder","Amount*","type","number",3,"ngModelChange","ngModel"],[1,"modal-content","terminal-style"],[4,"ngIf","ngIfElse"],["class","consignment-block",4,"ngFor","ngForOf"],[1,"routing-section"],[1,"routing-controls"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel","disabled"],["value",""],[1,"route-list"],[1,"terminal-buttons"],[1,"consignment-block"],[1,"ewaybill-section"],[1,"eway-toggle-label"],["type","checkbox",1,"eway-toggle-input",3,"ngModelChange","ngModel"],[1,"eway-toggle-slider"],[1,"eway-toggle-text"],[1,"product-line"],["type","number","min","0",1,"manifest-input",3,"ngModelChange","change","max","ngModel"],[3,"ngValue"],[1,"remove-btn",3,"click"]],template:function(i,r){1&i&&(c(0,"div",2)(1,"h2"),h(2,"Stocks"),u(),c(3,"div",3)(4,"input",4),w("ngModelChange",function(s){return M(r.searchText,s)||(r.searchText=s),s}),T("input",function(){return r.applyFilters()}),u(),c(5,"input",5),w("ngModelChange",function(s){return M(r.filterDate,s)||(r.filterDate=s),s}),T("change",function(){return r.applyFilters()}),u(),c(6,"input",6),w("ngModelChange",function(s){return M(r.filterConsignor,s)||(r.filterConsignor=s),s}),T("input",function(){return r.applyFilters()}),u(),c(7,"button",7),T("click",function(){return r.openManifestationPopup()}),h(8,"Manifestation"),u(),c(9,"button",7),T("click",function(){return r.printReceipts()}),h(10,"\xf0\u0178\u2013\xa8\xef\xb8\x8f Print Receipts"),u()(),te(11,"div",8),c(12,"table",9)(13,"thead")(14,"tr")(15,"th")(16,"input",10),T("change",function(s){return r.toggleAllSelection(s)}),u()(),c(17,"th"),h(18,"Consignment No."),u(),c(19,"th"),h(20,"Consignor"),u(),c(21,"th"),h(22,"Delivery Address"),u(),c(23,"th"),h(24,"Products in stock"),u(),c(25,"th"),h(26,"No. of Products"),u(),c(27,"th"),h(28,"Actions"),u()()(),c(29,"tbody"),N(30,CG,16,6,"tr",11),u()()(),N(31,MG,44,12,"div",12)(32,VG,87,29,"div",12)(33,YG,9,2,"div",12)),2&i&&(p(4),b("ngModel",r.searchText),p(),b("ngModel",r.filterDate),p(),b("ngModel",r.filterConsignor),p(24),S("ngForOf",r.filteredStocks),p(),S("ngIf",r.selectedStock),p(),S("ngIf",r.editingStock),p(),S("ngIf",r.showManifestationPopup))},dependencies:[Bt,Et,_t,iu,yt,li,ci,ot,ai,Fa,bn,Zu,ft,gm,pm,st],styles:['.stocks-container[_ngcontent-%COMP%]{padding:20px}.filters[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.stocks-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.stocks-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .stocks-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;text-align:left}.stocks-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9;cursor:pointer}.actions[_ngcontent-%COMP%]{margin-top:15px}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;width:500px;max-height:80vh;overflow-y:auto;border-radius:8px;position:relative}.close[_ngcontent-%COMP%]{position:absolute;right:15px;top:10px;font-size:24px;cursor:pointer}.modal-content.terminal-style[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#d4d4d4;font-family:Courier New,monospace;border-radius:10px;padding:20px;width:80%;max-height:80vh;overflow-y:auto}.consignment-block[_ngcontent-%COMP%]{background:#2a2a2a;padding:10px;border-radius:6px;margin-bottom:10px}.terminal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px}.terminal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 20px;border:none;border-radius:6px;cursor:pointer}.terminal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#007acc;color:#fff}.terminal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#555;color:#fff}.product-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 0}.manifest-input[_ngcontent-%COMP%]{width:60px;padding:4px;margin-left:4px;background-color:#333;color:#fff;border:1px solid #555;border-radius:4px;text-align:right}.eway-toggle-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;position:relative;cursor:pointer;-webkit-user-select:none;user-select:none}.eway-toggle-input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.eway-toggle-slider[_ngcontent-%COMP%]{position:relative;width:40px;height:20px;background-color:#ccc;border-radius:20px;transition:background-color .3s}.eway-toggle-slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:16px;width:16px;left:2px;bottom:2px;background-color:#fff;border-radius:50%;transition:transform .3s}.eway-toggle-input[_ngcontent-%COMP%]:checked + .eway-toggle-slider[_ngcontent-%COMP%]{background-color:#4caf50}.eway-toggle-input[_ngcontent-%COMP%]:checked + .eway-toggle-slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.eway-toggle-text[_ngcontent-%COMP%]{font-weight:500}.routing-section[_ngcontent-%COMP%]{margin-top:20px}.routing-controls[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:10px}.route-list[_ngcontent-%COMP%]{list-style:none;padding-left:0}.route-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.remove-btn[_ngcontent-%COMP%]{background:none;border:none;color:red;cursor:pointer}']})}}return e})();function JG(e,n){if(1&e&&(c(0,"li"),h(1),u()),2&e){const t=n.$implicit;p(),Io(" ",t.type," \u2014 Manifested: ",t.manifestQty," / Stock: ",t.instock," ")}}function XG(e,n){if(1&e&&(c(0,"li")(1,"b"),h(2),u(),h(3),c(4,"ul"),N(5,JG,2,3,"li",13),u()()),2&e){const t=n.$implicit;p(2),z("#",t.number,""),p(),z(" (\u20b9",t.value,") "),p(2),S("ngForOf",t.products)}}function e9(e,n){if(1&e&&(c(0,"div",19)(1,"strong"),h(2,"Consignment:"),u(),h(3),te(4,"br"),c(5,"strong"),h(6,"Consignor:"),u(),h(7),te(8,"br"),c(9,"strong"),h(10,"Invoices:"),u(),c(11,"ul"),N(12,XG,6,3,"li",13),u()()),2&e){const t=n.$implicit;p(3),z(" ",t.consignmentNumber,""),p(4),z(" ",t.consignor,""),p(5),S("ngForOf",t.invoices)}}function t9(e,n){if(1&e){const t=k();c(0,"tr")(1,"td")(2,"input",15),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.selected,r)||(o.selected=r),C(r)}),u()(),c(3,"td"),h(4),u(),c(5,"td"),h(6),u(),c(7,"td"),h(8),Tc(9,"date"),u(),c(10,"td")(11,"div",16),N(12,e9,13,3,"div",17),u()(),c(13,"td"),h(14),u(),c(15,"td")(16,"button",18),T("click",function(){const r=y(t).$implicit;return C(m().openEditPopup(r))}),h(17,"\u270f\ufe0f Edit"),u()()()}if(2&e){const t=n.$implicit;p(2),b("ngModel",t.selected),p(2),B(t.manifestationNumber),p(2),B(t.mshipmentStatus),p(2),B(Ic(9,6,t.date,"mediumDate")),p(4),S("ngForOf",t.consignments),p(2),B(t.branch)}}function n9(e,n){if(1&e){const t=k();c(0,"div",20)(1,"div",21)(2,"h3"),h(3,"Edit Manifest"),u(),c(4,"label"),h(5,"Manifest #:"),u(),c(6,"input",22),w("ngModelChange",function(r){y(t);const o=m();return M(o.selectedManifest.manifestationNumber,r)||(o.selectedManifest.manifestationNumber=r),C(r)}),u(),c(7,"label"),h(8,"Status:"),u(),c(9,"input",22),w("ngModelChange",function(r){y(t);const o=m();return M(o.selectedManifest.mshipmentStatus,r)||(o.selectedManifest.mshipmentStatus=r),C(r)}),u(),c(10,"label"),h(11,"Date:"),u(),c(12,"input",23),w("ngModelChange",function(r){y(t);const o=m();return M(o.selectedManifest.date,r)||(o.selectedManifest.date=r),C(r)}),u(),c(13,"label"),h(14,"Branch:"),u(),c(15,"input",22),w("ngModelChange",function(r){y(t);const o=m();return M(o.selectedManifest.branch,r)||(o.selectedManifest.branch=r),C(r)}),u(),c(16,"div",24)(17,"button",25),T("click",function(){return y(t),C(m().finalizeEdit())}),h(18,"\u2705 Save"),u(),c(19,"button",26),T("click",function(){return y(t),C(m().closeEditPopup())}),h(20,"\u274c Cancel"),u()()()()}if(2&e){const t=m();p(6),b("ngModel",t.selectedManifest.manifestationNumber),p(3),b("ngModel",t.selectedManifest.mshipmentStatus),p(3),b("ngModel",t.selectedManifest.date),p(3),b("ngModel",t.selectedManifest.branch)}}function i9(e,n){if(1&e&&(c(0,"li"),h(1),u()),2&e){const t=n.$implicit;p(),B(t.manifestationNumber)}}function r9(e,n){if(1&e){const t=k();c(0,"div",20)(1,"div",21)(2,"h3"),h(3,"Confirm Delivery"),u(),c(4,"p")(5,"b"),h(6,"Selected Manifests:"),u()(),c(7,"ul"),N(8,i9,2,1,"li",13),u(),c(9,"div",24)(10,"button",25),T("click",function(){return y(t),C(m().finalizeDelivery())}),h(11,"\u2705 Deliver"),u(),c(12,"button",26),T("click",function(){return y(t),C(m().closeDeliveryPopup())}),h(13,"\u274c Cancel"),u()()()()}if(2&e){const t=m();p(8),S("ngForOf",t.selectedForDelivery)}}function o9(e,n){if(1&e&&(c(0,"li"),h(1),u()),2&e){const t=n.$implicit;p(),B(t.manifestationNumber)}}function s9(e,n){if(1&e){const t=k();c(0,"div",20)(1,"div",21)(2,"h3"),h(3,"Confirm Cancellation"),u(),c(4,"p")(5,"b"),h(6,"Selected Manifests:"),u()(),c(7,"ul"),N(8,o9,2,1,"li",13),u(),c(9,"div",24)(10,"button",25),T("click",function(){return y(t),C(m().finalizeCancel())}),h(11,"\u2705 Confirm Cancel"),u(),c(12,"button",26),T("click",function(){return y(t),C(m().closeCancelPopup())}),h(13,"\u274c Close"),u()()()()}if(2&e){const t=m();p(8),S("ngForOf",t.selectedForCancel)}}let a9=(()=>{class e{openEditPopup(t){this.selectedManifest={...t},this.showEditPopup=!0}closeEditPopup(){this.showEditPopup=!1,this.selectedManifest=null}finalizeEdit(){this.selectedManifest&&(localStorage.getItem("email"),this.http.post("http://localhost:3000/api/manifest/manifestationNumber",this.selectedManifest).subscribe({next:()=>{console.log("\u2705 Manifest updated in DDDDDDDDDB",this.selectedManifest.consignments),this.selectedManifest.consignments.forEach(i=>{this.updateConsignment(this.username,i)}),console.log("\u2705 Manifest updated successfully"),alert("Manifest updated!"),this.loadManifests(),this.closeEditPopup()},error:i=>console.error("\u274c Error updating manifest:",i)}))}constructor(t){this.http=t,this.manifests=[],this.filteredManifests=[],this.searchText="",this.filterDate="",this.filterConsignor="",this.selectedManifest=null,this.showDeliveryPopup=!1,this.selectedForDelivery=[],this.email="",this.username="",this.branch=localStorage.getItem("branch")||"All Branches",this.showCancelPopup=!1,this.selectedForCancel=[],this.showEditPopup=!1}ngOnInit(){this.email=localStorage.getItem("email")||"",this.username=localStorage.getItem("username")||"",this.branch=localStorage.getItem("branch")||"All Branches",this.loadManifests(),this.branchCheck=setInterval(()=>{const t=localStorage.getItem("branch")||"All Branches";t!==this.branch&&(this.branch=t,this.loadManifests())},1e3)}loadManifests(){this.http.get("http://localhost:3000/api/manifest",{params:{email:localStorage.getItem("email")||"",branch:localStorage.getItem("branch")||""}}).subscribe({next:t=>{this.manifests=t.filter(i=>"Delivered"!=i.mshipmentStatus&&"Cancelled"!=i.mshipmentStatus).sort((i,r)=>new Date(r.createdAt).getTime()-new Date(i.createdAt).getTime()),this.filteredManifests=[...this.manifests]},error:t=>console.error("\u274c Error loading shipments:",t)})}applyFilters(){this.filteredManifests=this.manifests.filter(t=>(!this.searchText||t.manifestationNumber?.includes(this.searchText)||t.consignments?.some(i=>i.consignor?.includes(this.searchText)))&&(!this.filterDate||new Date(t.date).toISOString().split("T")[0]===this.filterDate)&&(!this.filterConsignor||t.consignments?.some(i=>i.consignor?.toLowerCase().includes(this.filterConsignor.toLowerCase()))))}toggleAllSelection(t){const i=t.target.checked;this.filteredManifests.forEach(r=>r.selected=i)}openDeliveryPopup(){"All Branches"!==this.branch?(this.selectedForDelivery=this.filteredManifests.filter(t=>t.selected),0!==this.selectedForDelivery.length?this.showDeliveryPopup=!0:alert("\u26a0\ufe0f Please select at least one manifest to deliver.")):alert("Please select a specific branch before confirming delivery.")}closeDeliveryPopup(){this.showDeliveryPopup=!1}finalizeDelivery(){"All Branches"!==this.branch?0!==this.selectedForDelivery.length?(localStorage.getItem("email"),this.selectedForDelivery.forEach(i=>{i.consignments.forEach(r=>{r.invoices.forEach(a=>{a.products.forEach(l=>{const d=Number(l.intransitstock)||0;d>0&&(l.deliveredstock=(l.deliveredstock||0)+d,l.manifestQty=d),l.intransitstock=0})});const o=r.invoices.every(a=>a.products.every(l=>(Number(l.deliveredstock)||0)>=(Number(l.amount)||0)||0===(Number(l.instock)||0)&&0===(Number(l.intransitstock)||0)));console.log("\u{1f69a} Updating consignment1  to status:",o);const s={...r,mshipmentStatus:"Delivered"};console.log("\u{1f69a} Updating consignment1  to status:",s.mshipmentStatus),this.updateConsignment(this.username,s)}),i={...i,mshipmentStatus:"Delivered"},console.log(`\u{1f69a} Updating consignment ${i.manifestationNumber} to status:`,i),this.http.post("http://localhost:3000/api/manifest/manifestationNumber",i).subscribe({next:()=>{console.log("\u2705 Manifest Stock updated")},error:r=>console.error("\u274c Error updating stock:",r)})}),this.showDeliveryPopup=!1,alert("\u2705 Delivery completed successfully!"),this.filteredManifests.forEach(i=>i.selected=!1),this.loadManifests()):alert("No manifests selected for delivery."):alert("Please select a specific branch before confirming delivery.")}updatedstkConsignmentfn(t){this.http.put(`http://localhost:3000/api/newshipments/${t.consignmentNumber}`,t).subscribe({next:()=>{console.log("\u2705 Stock updated")},error:i=>console.error("\u274c Error updating stock:",i)})}updateConsignment(t,i){const r=[];(i.invoices||[]).forEach(s=>{(s.products||[]).forEach(a=>{const l=String(a.type||"").trim(),d=Number(a.manifestQty)||0;!l||d<=0||r.push({type:l,qty:d})})}),r.length&&this.http.post("http://localhost:3000/api/newshipments/deliver",{consignmentNumber:i.consignmentNumber,items:r}).subscribe({next:()=>{this.loadManifests()},error:s=>console.error("Error updating delivery:",s)})}openCancelPopup(){this.selectedForCancel=this.filteredManifests.filter(t=>t.selected),0!==this.selectedForCancel.length?this.showCancelPopup=!0:alert("\u26a0\ufe0f Please select at least one manifest to cancel.")}closeCancelPopup(){this.showCancelPopup=!1}finalizeCancel(){0!==this.selectedForCancel.length?(this.selectedForCancel.forEach(i=>{i.consignments.forEach(o=>{const s={...o,shipmentStatus:"Pending"};this.updateConsignment(this.username,s)});const r={...i,mshipmentStatus:"Cancelled"};this.http.post("http://localhost:3000/api/manifest/manifestationNumber",r).subscribe({next:()=>{i.consignments.forEach(o=>{console.log(`\u{1f5d1}\ufe0f Manifest ${i.manifestationNumber} cancelled`,o),this.http.get("http://localhost:3000/api/newshipments/getConsignment",{params:{email:localStorage.getItem("email")||"",consignmentNumber:o.consignmentNumber}}).subscribe({next:s=>{let a=s[0];console.log("Manifest cancelled",a);const l=new Map;(o.invoices||[]).forEach(f=>{(f.products||[]).forEach(g=>{const _=String(g.type||"").trim();if(!_)return;const v=Number(g.manifestQty)||0;v<=0||l.set(_,(l.get(_)||0)+v)})}),a.invoices?.forEach(f=>{f.products?.forEach(g=>{const _=String(g.type||"").trim(),v=l.get(_)||0;v&&(g.intransitstock=Math.max(0,(Number(g.intransitstock)||0)-v),g.instock=(Number(g.instock)||0)+v)})});const d=a.invoices.every(f=>f.products.every(g=>0!=g.deliveredstock));console.log("\u{1f5d1}\ufe0f Manifest2 cancelled",d),a.shipmentStatus=d?"Pending":"In Transit/Pending",this.updatedstkConsignmentfn(a)},error:s=>console.error("\u274c Error loading shipments:",s)})})},error:o=>console.error("\u274c Error cancelling manifest:",o)})}),this.showCancelPopup=!1,alert("\u{1f5d1}\ufe0f Cancellation completed successfully!"),this.filteredManifests.forEach(i=>i.selected=!1),this.loadManifests()):alert("No manifests selected for cancellation.")}printManifest(){const t=this.filteredManifests?.filter(i=>i.selected)||[];0!==t.length?fetch("assets/manifest-template.html").then(i=>i.text()).then(i=>{let r="\n        <html>\n          <head>\n            <style>\n              body { font-family: Arial, sans-serif; padding: 20px; }\n              h2 { margin-bottom: 0; }\n              table { width: 100%; border-collapse: collapse; margin-top: 10px; }\n              th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n              th { background-color: #f2f2f2; }\n              .page-break { page-break-after: always; }\n            </style>\n          </head>\n          <body>\n      ";t.forEach((s,a)=>{const l=s.consignments.flatMap(f=>f.invoices.flatMap(g=>g.products.map(_=>`\n              <tr>\n                <td>${s.manifestationNumber}</td>\n                <td>${s.mshipmentStatus}</td>\n                <td>${s.date}</td>\n                <td>${f.consignmentNumber}</td>\n                <td>${f.consignor}</td>\n                <td>${g.number}</td>\n                <td>${_.type}</td>\n                <td>${_.manifestQty}</td>\n                <td>${_.instock}</td>\n                <td>${g.value}</td>\n                <td>${s.branch}</td>\n              </tr>\n            `))).join(""),d=i.replace("{{manifestNumber}}",s.manifestationNumber).replace("{{status}}",s.mshipmentStatus).replace("{{date}}",s.date).replace("{{branch}}",s.branch).replace("{{rows}}",l);r+=d,a<t.length-1&&(r+='<div class="page-break"></div>')}),r+="</body></html>";const o=window.open("","_blank");o&&(o.document.open(),o.document.write(r),o.document.close(),o.print())}).catch(i=>console.error("Error loading manifest template:",i)):alert("No manifests selected.")}static{this.\u0275fac=function(i){return new(i||e)(O(rt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-manifest"]],standalone:!0,features:[Fe],decls:35,vars:7,consts:[[1,"manifest-container"],[1,"filters"],["type","text","placeholder","\u{1f50d} Search Consignor / Manifest #",3,"ngModelChange","input","ngModel"],["type","date",3,"ngModelChange","change","ngModel"],["type","text","placeholder","\u{1f3f7}\ufe0f Filter by Consignor",3,"ngModelChange","input","ngModel"],[1,"actions"],[1,"delivery-btn",3,"click"],[1,"delete-btn",3,"click"],[1,"print-btn",3,"click"],[1,"table-wrapper"],[1,"manifest-table"],[2,"width","50px"],["type","checkbox",3,"change"],[4,"ngFor","ngForOf"],["class","popup",4,"ngIf"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"manifest-consignments"],["class","consignment-card",4,"ngFor","ngForOf"],[1,"edit-btn",3,"click"],[1,"consignment-card"],[1,"popup"],[1,"popup-content"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],[1,"popup-actions"],[1,"confirm-btn",3,"click"],[1,"cancel-btn",3,"click"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"\u{1f4e6} Manifest Records"),u(),c(3,"div",1)(4,"input",2),w("ngModelChange",function(s){return M(r.searchText,s)||(r.searchText=s),s}),T("input",function(){return r.applyFilters()}),u(),c(5,"input",3),w("ngModelChange",function(s){return M(r.filterDate,s)||(r.filterDate=s),s}),T("change",function(){return r.applyFilters()}),u(),c(6,"input",4),w("ngModelChange",function(s){return M(r.filterConsignor,s)||(r.filterConsignor=s),s}),T("input",function(){return r.applyFilters()}),u()(),c(7,"div",5)(8,"button",6),T("click",function(){return r.openDeliveryPopup()}),h(9,"\u{1f69a} Deliver"),u(),c(10,"button",7),T("click",function(){return r.openCancelPopup()}),h(11,"\u{1f5d1}\ufe0f Delete"),u(),c(12,"button",8),T("click",function(){return r.printManifest()}),h(13,"\u{1f5a8}\ufe0f Print Manifest"),u()(),c(14,"div",9)(15,"table",10)(16,"thead")(17,"tr")(18,"th",11)(19,"input",12),T("change",function(s){return r.toggleAllSelection(s)}),u()(),c(20,"th"),h(21,"Manifest #"),u(),c(22,"th"),h(23,"Status #"),u(),c(24,"th"),h(25,"Date"),u(),c(26,"th"),h(27,"Consignor / Consignment Details"),u(),c(28,"th"),h(29,"Branch"),u()()(),c(30,"tbody"),N(31,t9,18,9,"tr",13),u()()(),N(32,n9,21,4,"div",14)(33,r9,14,1,"div",14)(34,s9,14,1,"div",14),u()),2&i&&(p(4),b("ngModel",r.searchText),p(),b("ngModel",r.filterDate),p(),b("ngModel",r.filterConsignor),p(25),S("ngForOf",r.filteredManifests),p(),S("ngIf",r.showEditPopup),p(),S("ngIf",r.showDeliveryPopup),p(),S("ngIf",r.showCancelPopup))},dependencies:[Bt,Et,_t,iu,yt,ot,Fa,ft,st],styles:[".manifest-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:100%;box-sizing:border-box}h2[_ngcontent-%COMP%]{margin-bottom:1rem;color:#333}.filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:15px}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1 1 200px;padding:8px 10px;border:1px solid #ccc;border-radius:8px}.table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:auto;background:#fff;border-radius:10px;box-shadow:0 0 5px #0000001a}.manifest-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:900px}.manifest-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .manifest-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:left;vertical-align:top}.manifest-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}.manifest-consignments[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.consignment-card[_ngcontent-%COMP%]{background:#fafafa;padding:6px 10px;border-radius:8px;border-left:4px solid #4caf50}.actions[_ngcontent-%COMP%]{margin-top:20px;text-align:right}.delivery-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;font-weight:600;padding:10px 16px;border:none;border-radius:8px;cursor:pointer;transition:background .3s}.delivery-btn[_ngcontent-%COMP%]:hover{background-color:#43a047}.popup[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.popup-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;width:90%;max-width:450px;text-align:center;box-shadow:0 4px 10px #0003}.popup-actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-around}.confirm-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;border-radius:8px;padding:8px 14px;cursor:pointer}.cancel-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff;border:none;border-radius:8px;padding:8px 14px;cursor:pointer}@media (max-width: 768px){.manifest-table[_ngcontent-%COMP%]{min-width:100%}.filters[_ngcontent-%COMP%]{flex-direction:column}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.consignment-card[_ngcontent-%COMP%]{font-size:.9em}}.edit-btn[_ngcontent-%COMP%]{background-color:#ffc107;border:none;padding:5px 10px;cursor:pointer;border-radius:4px}.edit-btn[_ngcontent-%COMP%]:hover{background-color:#e0a800}.print-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-weight:500}.print-btn[_ngcontent-%COMP%]:hover{background:#3e8e41}"]})}}return e})();function l9(e,n){if(1&e){const t=k();c(0,"tr")(1,"td")(2,"input",14),w("ngModelChange",function(r){const o=y(t).$implicit;return M(o.selected,r)||(o.selected=r),C(r)}),u()(),c(3,"td",6),T("click",function(){const r=y(t).$implicit;return C(m().openInvoiceDetails(r))}),h(4),u(),c(5,"td"),h(6),u(),c(7,"td"),h(8),u(),c(9,"td"),h(10),u(),c(11,"td"),h(12),u(),c(13,"td")(14,"button",15),T("click",function(){const r=y(t).$implicit;return C(m().editInvoice(r))}),h(15,"\u270f\ufe0f Edit"),u()()()}if(2&e){const t=n.$implicit;qe("selected",t.selected),p(2),b("ngModel",t.selected),p(2),B(t.consignmentNumber),p(2),B(t.shipmentStatus),p(2),B(t.consignor),p(2),B(t.deliveryAddress),p(2),B((null==t.products?null:t.products.length)||0)}}function c9(e,n){if(1&e&&(c(0,"li"),h(1),u()),2&e){const t=n.$implicit;p(),Pe(" ",t.productName," \u2014 Qty: ",t.quantity," ")}}function u9(e,n){if(1&e){const t=k();c(0,"div",16)(1,"div",17)(2,"h3"),h(3,"Consignment Details"),u(),c(4,"p")(5,"strong"),h(6,"Consignment Number:"),u(),h(7),u(),c(8,"p")(9,"strong"),h(10,"Consignor:"),u(),h(11),u(),c(12,"p")(13,"strong"),h(14,"Delivery Address:"),u(),h(15),u(),c(16,"p")(17,"strong"),h(18,"Status:"),u(),h(19),u(),c(20,"h4"),h(21,"Products:"),u(),c(22,"ul"),N(23,c9,2,2,"li",18),u(),c(24,"button",6),T("click",function(){return y(t),C(m().closeInvoiceDetails())}),h(25,"Close"),u()()()}if(2&e){const t=m();p(7),z(" ",null==t.selectedInvoice?null:t.selectedInvoice.consignmentNumber,""),p(4),z(" ",null==t.selectedInvoice?null:t.selectedInvoice.consignor,""),p(4),z(" ",null==t.selectedInvoice?null:t.selectedInvoice.deliveryAddress,""),p(4),z(" ",null==t.selectedInvoice?null:t.selectedInvoice.shipmentStatus,""),p(4),S("ngForOf",null==t.selectedInvoice?null:t.selectedInvoice.products)}}function d9(e,n){if(1&e){const t=k();c(0,"div",19)(1,"div",20)(2,"h2"),h(3,"Edit Details"),u(),c(4,"form")(5,"div",21)(6,"label",22),h(7,"Consignor:"),u(),c(8,"input",23),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingInvoice.consignor,r)||(o.editingInvoice.consignor=r),C(r)}),u()(),c(9,"div",21)(10,"label",24),h(11,"Delivery Address:"),u(),c(12,"textarea",25),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingInvoice.deliveryAddress,r)||(o.editingInvoice.deliveryAddress=r),C(r)}),u()(),c(13,"div",21)(14,"label",26),h(15,"Status:"),u(),c(16,"select",27),w("ngModelChange",function(r){y(t);const o=m();return M(o.editingInvoice.shipmentStatus,r)||(o.editingInvoice.shipmentStatus=r),C(r)}),c(17,"option",28),h(18,"Pending"),u(),c(19,"option",29),h(20,"Delivered"),u(),c(21,"option",30),h(22,"Invoiced"),u()()(),c(23,"div",31)(24,"button",32),T("click",function(){return y(t),C(m().saveInvoiceEdit())}),h(25,"Save"),u(),c(26,"button",32),T("click",function(){return y(t),C(m().cancelEdit())}),h(27,"Cancel"),u()()()()()}if(2&e){const t=m();p(8),b("ngModel",t.editingInvoice.consignor),p(4),b("ngModel",t.editingInvoice.deliveryAddress),p(4),b("ngModel",t.editingInvoice.shipmentStatus)}}let h9=(()=>{class e{constructor(t,i){this.http=t,this.branchService=i,this.invoices=[],this.filteredInvoices=[],this.searchText="",this.filterDate="",this.filterConsignor="",this.selectedInvoice=null,this.showInvoiceModal=!1,this.branch=localStorage.getItem("branch")||"All Branches",this.editingInvoice=null,this.showEditPopup=!1,this.onStorageChange=r=>{"branch"===r.key&&r.newValue&&r.newValue!==this.branch&&(this.branch=r.newValue,this.loadInvoices())}}ngOnInit(){this.branch=this.branchService.currentBranch||this.branch,this.branchSub=this.branchService.branch$.subscribe(t=>{t!==this.branch&&(this.branch=t,this.loadInvoices())}),window.addEventListener("storage",this.onStorageChange),this.loadInvoices()}ngOnDestroy(){this.branchSub?.unsubscribe(),window.removeEventListener("storage",this.onStorageChange)}loadInvoices(){this.http.get("http://localhost:3000/api/newshipments",{params:{username:localStorage.getItem("username")||"",branch:this.branch||localStorage.getItem("branch")||""}}).subscribe({next:t=>{this.invoices=t.filter(i=>"Delivered"===i.shipmentStatus||"Invoiced"===i.shipmentStatus),this.filteredInvoices=[...this.invoices],console.log("\u{1f4e6} Filtered Invoices for Delivered status:",this.filteredInvoices),this.filteredInvoices.forEach(i=>console.log("\u{1f4e6} Filtered Invoice:",i.consignmentNumber))},error:t=>console.error("\u274c Error loading invoices:",t)})}applyFilters(){this.filteredInvoices=this.invoices.filter(t=>(!this.searchText||t.consignmentNumber?.includes(this.searchText)||t.consignor?.includes(this.searchText))&&(!this.filterDate||new Date(t.date).toISOString().split("T")[0]===this.filterDate)&&(!this.filterConsignor||t.consignor?.toLowerCase().includes(this.filterConsignor.toLowerCase())))}toggleAllSelection(t){const i=t.target.checked;this.filteredInvoices.forEach(r=>r.selected=i)}openInvoiceDetails(t){this.selectedInvoice=t,this.showInvoiceModal=!0}closeInvoiceDetails(){this.showInvoiceModal=!1,this.selectedInvoice=null}invoiceSelected(){const t=this.filteredInvoices.filter(i=>i.selected);0!==t.length?(t.forEach(i=>{const r={...i,shipmentStatus:"Invoiced"};this.http.put(`http://localhost:3000/api/newshipments/${i.consignmentNumber}`,r).subscribe({next:()=>{console.log(`\u2705 Consignment ${i.consignmentNumber} updated to Invoiced`),this.loadInvoices()},error:o=>{console.error(`\u274c Error updating consignment ${i.consignmentNumber}:`,o)}})}),this.filteredInvoices.forEach(i=>i.selected=!1)):console.warn("\u26a0\ufe0f No consignments selected for invoicing.")}editInvoice(t){console.log("\u270f\ufe0f Edit invoice:",t),this.editingInvoice={...t},this.showEditPopup=!0}deleteInvoice(){const t=this.filteredInvoices.filter(i=>i.selected);0!==t.length?(t.forEach(i=>{const r={...i,shipmentStatus:" Cancelled-"+i.shipmentStatus};this.http.put(`http://localhost:3000/api/newshipments/${i.consignmentNumber}`,r).subscribe({next:()=>{console.log(`\u2705 Consignment ${i.consignmentNumber} updated to Invoiced`),this.loadInvoices()},error:o=>{console.error(`\u274c Error updating consignment ${i.consignmentNumber}:`,o)}})}),this.filteredInvoices.forEach(i=>i.selected=!1)):console.warn("\u26a0\ufe0f No consignments selected for invoicing.")}saveInvoiceEdit(){this.editingInvoice&&(this.editingInvoice.invoices.forEach(t=>{t.products.forEach(i=>{i.deliveredstock=0,i.instock=i.amount,console.log("\u{1f4be} SSSSSSSSSSSSSSSSSSaving invoice edit:",i)})}),this.http.put(`http://localhost:3000/api/newshipments/${this.editingInvoice.consignmentNumber}`,this.editingInvoice).subscribe({next:()=>{console.log("\u2705 Invoice updated successfully"),this.loadInvoices(),this.editingInvoice=null,this.showEditPopup=!1},error:t=>console.error("\u274c Error updating invoice:",t)}))}cancelEdit(){this.editingInvoice=null,this.showEditPopup=!1}printInvoice(){const t=this.filteredInvoices?.filter(i=>i.selected)||[];0!==t.length?fetch("assets/invoice-template.html").then(i=>i.text()).then(i=>{let r="\n      <html>\n        <head>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            h2 { margin-bottom: 0; }\n            table { width: 100%; border-collapse: collapse; margin-top: 10px; }\n            th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n            th { background-color: #f2f2f2; }\n            .page-break { page-break-after: always; }\n            .totals { margin-top: 15px; font-weight: bold; }\n          </style>\n        </head>\n        <body>\n    ";t.forEach((s,a)=>{console.log("\u{1f5a8}\ufe0f Printing invoice for consignment:",s);let l=0;const d=s.invoices.map(D=>D.products.map(I=>{const E=(I.price||0)*(I.deliveredstock||0);return l+=E,`\n          <tr>\n          <td>${s.consignmentNumber}</td>\n          <td>${s.shipmentStatus}</td>\n          <td>${s.consignor}</td>\n          <td>${s.deliveryAddress}</td>\n          <td>${I.type}</td>\n          <td>${I.deliveredstock}</td>\n          <td>${I.price||0}</td>\n          <td>${E.toFixed(2)}</td>\n          </tr>\n          `}).join("")).join(""),f=localStorage.getItem("companyType")||"default";console.log("\u{1f3e2} Company type for invoice:",f);const g=s.finalAmount*(parseInt(f)/100),_=s.finalAmount+g,v=i.replace("{{consignmentNumber}}",s.consignmentNumber).replace("{{consignor}}",s.consignor).replace("{{deliveryAddress}}",s.deliveryAddress).replace("{{status}}",s.shipmentStatus).replace("{{rows}}",d).replace("{{subtotal}}",l.toFixed(2)).replace("{{gst}}",g.toFixed(2)).replace("{{grandTotal}}",_.toFixed(2));r+=v,a<t.length-1&&(r+='<div class="page-break"></div>')}),r+="</body></html>";const o=window.open("","_blank");o&&(o.document.open(),o.document.write(r),o.document.close(),o.print())}).catch(i=>console.error("Error loading invoice template:",i)):alert("No invoices selected.")}static{this.\u0275fac=function(i){return new(i||e)(O(rt),O(mm))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-invoice"]],standalone:!0,features:[Fe],decls:35,vars:6,consts:[[1,"invoice-container"],[1,"filters"],["type","text","placeholder","Search by Consignment / Consignor",3,"ngModelChange","input","ngModel"],["type","date",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Filter by Consignor",3,"ngModelChange","input","ngModel"],[1,"action-bar"],[3,"click"],[1,"delete-btn",3,"click"],[1,"print-btn",3,"click"],[1,"invoice-table"],["type","checkbox",3,"change"],[3,"selected",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],["class","popup-overlay",4,"ngIf"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"edit-btn",3,"click"],[1,"modal"],[1,"modal-content"],[4,"ngFor","ngForOf"],[1,"popup-overlay"],[1,"popup-content"],[1,"form-row"],["for","consignor"],["type","text","id","consignor","name","consignor",3,"ngModelChange","ngModel"],["for","deliveryAddress"],["id","deliveryAddress","name","deliveryAddress",3,"ngModelChange","ngModel"],["for","status"],["id","status","name","status",3,"ngModelChange","ngModel"],["value","Pending"],["value","Delivered"],["value","Invoiced"],[1,"button-section"],["type","button",3,"click"]],template:function(i,r){1&i&&(c(0,"div",0)(1,"h2"),h(2,"\u{1f4e6} Invoice Management"),u(),c(3,"div",1)(4,"input",2),w("ngModelChange",function(s){return M(r.searchText,s)||(r.searchText=s),s}),T("input",function(){return r.applyFilters()}),u(),c(5,"input",3),w("ngModelChange",function(s){return M(r.filterDate,s)||(r.filterDate=s),s}),T("change",function(){return r.applyFilters()}),u(),c(6,"input",4),w("ngModelChange",function(s){return M(r.filterConsignor,s)||(r.filterConsignor=s),s}),T("input",function(){return r.applyFilters()}),u(),c(7,"div",5)(8,"button",6),T("click",function(){return r.invoiceSelected()}),h(9,"\u{1f9fe} Generate Invoice"),u(),c(10,"button",7),T("click",function(){return r.deleteInvoice()}),h(11,"\u{1f5d1}\ufe0f Delete"),u(),c(12,"button",8),T("click",function(){return r.printInvoice()}),h(13,"\u{1f5a8}\ufe0f Print Manifest"),u()()(),c(14,"table",9)(15,"thead")(16,"tr")(17,"th")(18,"input",10),T("change",function(s){return r.toggleAllSelection(s)}),u()(),c(19,"th"),h(20,"Consignment No."),u(),c(21,"th"),h(22,"Status"),u(),c(23,"th"),h(24,"Consignor"),u(),c(25,"th"),h(26,"Delivery Address"),u(),c(27,"th"),h(28,"No. of Products"),u(),c(29,"th"),h(30,"Actions"),u()()(),c(31,"tbody"),N(32,l9,16,8,"tr",11),u()(),N(33,u9,26,5,"div",12)(34,d9,28,3,"div",13),u()),2&i&&(p(4),b("ngModel",r.searchText),p(),b("ngModel",r.filterDate),p(),b("ngModel",r.filterConsignor),p(26),S("ngForOf",r.filteredInvoices),p(),S("ngIf",r.showInvoiceModal),p(),S("ngIf",r.showEditPopup))},dependencies:[Bt,Et,_t,yt,um,li,ci,ot,Fa,bn,ft,Kg,st,Ua],styles:[".edit-btn[_ngcontent-%COMP%]{background:#ff9800;color:#fff;border:none;padding:4px 8px;border-radius:4px;cursor:pointer}.edit-btn[_ngcontent-%COMP%]:hover{background:#e68900}.modal-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:space-between}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.popup-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:6px;width:400px;max-width:90%}.form-row[_ngcontent-%COMP%]{margin-bottom:12px}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:700}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:6px;box-sizing:border-box}.button-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.delete-btn[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border:none;padding:5px 10px;margin-left:5px;cursor:pointer;border-radius:4px}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})}}return e})(),f9=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-reports"]],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"Reports"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})(),p9=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-configuration"]],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"Configuration"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})(),g9=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-locations"]],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"locations"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})(),m9=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-logs"]],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"Logs"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})(),_9=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-changePass"]],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"changePass"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})(),v9=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-roles"]],decls:2,vars:0,template:function(i,r){1&i&&(c(0,"h2"),h(1,"roles"),u())},styles:["h2[_ngcontent-%COMP%]{color:#1976d2}"]})}}return e})();const y9=new Set(["Branches","profile","changePass","roles","notifications"]),C9=[{path:"",component:iH},{path:"home",component:hH,canActivateChild:[e=>{const n=F(si),t=F(rt);return!!y9.has(e.routeConfig?.path||"")||(localStorage.getItem("token")?t.get("http://localhost:3000/api/branches").pipe(le(o=>(Array.isArray(o)?o.length:0)>0||n.createUrlTree(["/home","Branches"])),gr(()=>ee(n.createUrlTree(["/home","Branches"])))):n.createUrlTree(["/"]))}],children:[{path:"dashboard",component:fH},{path:"new-shipment",component:jH},{path:"shipments",component:zH},{path:"admin",component:qH},{path:"Branches",component:y5},{path:"Clients",component:M6},{path:"Guests",component:U6},{path:"Categories",component:H6},{path:"Pkgs",component:Y6},{path:"Hubs",component:Z5},{path:"Tpartners",component:d6},{path:"Logs",component:m9},{path:"Reports",component:f9},{path:"Invoice",component:h9},{path:"Manifest",component:a9},{path:"Stocks",component:KG},{path:"RoleSettings",component:vG},{path:"Users",component:yG},{path:"Locations",component:g9},{path:"Configuration",component:p9},{path:"Products",component:uG},{path:"settings",component:WH},{path:"profile",component:YH},{path:"roles",component:v9},{path:"changePass",component:_9},{path:"notifications",component:h6}]}];(function YV(e,n){return g3({rootComponent:e,...ID(n)})})(oU,{providers:[h0(function bB(e){return fr(Pi.Interceptors,e.map(n=>({provide:Ca,useValue:n,multi:!0})))}([(e,n)=>{const t=localStorage.getItem("token");return n(t?e.clone({setHeaders:{Authorization:`Bearer ${t}`}}):e)}])),function tU(e,...n){return Or([{provide:Ou,multi:!0,useValue:e},[],{provide:Bo,useFactory:DS,deps:[si]},{provide:Pc,multi:!0,useFactory:SS},n.map(t=>t.\u0275providers)])}(C9)]}).catch(e=>console.error(e))}},qo=>{qo(qo.s=261)}]);