{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ViewShipmentsComponent_div_8_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 18);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_8_tr_29_Template_tr_click_0_listener() {\n      const s_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.openShipmentDetails(s_r4));\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const s_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r4.consignmentNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r4.shipmentStatus);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r4.consignor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r4.deliveryAddress);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.getInvoiceAmountTotal(s_r4.invoices));\n  }\n}\nfunction ViewShipmentsComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6)(2, \"input\", 7);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_8_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.searchText, $event) || (ctx_r1.searchText = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function ViewShipmentsComponent_div_8_Template_input_input_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 8);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_8_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterDate, $event) || (ctx_r1.filterDate = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function ViewShipmentsComponent_div_8_Template_input_change_3_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 9);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_8_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterStatus, $event) || (ctx_r1.filterStatus = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function ViewShipmentsComponent_div_8_Template_select_change_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementStart(5, \"option\", 10);\n    i0.ɵɵtext(6, \"All Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"option\", 11);\n    i0.ɵɵtext(8, \"Pending\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 12);\n    i0.ɵɵtext(10, \"In Transit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 13);\n    i0.ɵɵtext(12, \"Delivered\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"input\", 14);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_8_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterConsignor, $event) || (ctx_r1.filterConsignor = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function ViewShipmentsComponent_div_8_Template_input_input_13_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 15)(15, \"table\", 16)(16, \"thead\")(17, \"tr\")(18, \"th\");\n    i0.ɵɵtext(19, \"Consignment No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\");\n    i0.ɵɵtext(21, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"Consignor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\");\n    i0.ɵɵtext(25, \"Delivery Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\");\n    i0.ɵɵtext(27, \"No. of Products\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"tbody\");\n    i0.ɵɵtemplate(29, ViewShipmentsComponent_div_8_tr_29_Template, 11, 5, \"tr\", 17);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.searchText);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterDate);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterStatus);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterConsignor);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredShipments);\n  }\n}\nfunction ViewShipmentsComponent_div_9_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_9_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.openReturnModal());\n    });\n    i0.ɵɵtext(1, \"Return\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ViewShipmentsComponent_div_9_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 18);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_9_tr_33_Template_tr_click_0_listener() {\n      const s_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.openShipmentDetails(s_r8));\n    });\n    i0.ɵɵelementStart(1, \"td\")(2, \"input\", 23);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_tr_33_Template_input_ngModelChange_2_listener($event) {\n      const s_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      i0.ɵɵtwoWayBindingSet(s_r8._returnSelected, $event) || (s_r8._returnSelected = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_9_tr_33_Template_input_click_2_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const s_r8 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", s_r8._returnSelected);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isCancelled(s_r8));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r8.consignmentNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r8.consignor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r8.shipmentStatus);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r8.deliveryAddress);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.getInvoiceAmountTotal(s_r8.invoices));\n  }\n}\nfunction ViewShipmentsComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 19);\n    i0.ɵɵtemplate(2, ViewShipmentsComponent_div_9_button_2_Template, 2, 0, \"button\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 6)(4, \"input\", 7);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.searchText, $event) || (ctx_r1.searchText = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function ViewShipmentsComponent_div_9_Template_input_input_4_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 8);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterDate, $event) || (ctx_r1.filterDate = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function ViewShipmentsComponent_div_9_Template_input_change_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"select\", 9);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_Template_select_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterStatus, $event) || (ctx_r1.filterStatus = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function ViewShipmentsComponent_div_9_Template_select_change_6_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementStart(7, \"option\", 10);\n    i0.ɵɵtext(8, \"All Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 11);\n    i0.ɵɵtext(10, \"Pending\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 12);\n    i0.ɵɵtext(12, \"In Transit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"option\", 13);\n    i0.ɵɵtext(14, \"Delivered\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"input\", 14);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterConsignor, $event) || (ctx_r1.filterConsignor = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function ViewShipmentsComponent_div_9_Template_input_input_15_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 15)(17, \"table\", 16)(18, \"thead\")(19, \"tr\")(20, \"th\")(21, \"input\", 21);\n    i0.ɵɵlistener(\"change\", function ViewShipmentsComponent_div_9_Template_input_change_21_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.toggleAllReceived($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"Consignment No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\");\n    i0.ɵɵtext(25, \"Consignor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\");\n    i0.ɵɵtext(27, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\");\n    i0.ɵɵtext(29, \"Delivery Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\");\n    i0.ɵɵtext(31, \"No. of Products\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(32, \"tbody\");\n    i0.ɵɵtemplate(33, ViewShipmentsComponent_div_9_tr_33_Template, 13, 7, \"tr\", 17);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasSelectedReceived());\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.searchText);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterDate);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterStatus);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterConsignor);\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredReceived);\n  }\n}\nfunction ViewShipmentsComponent_div_10_li_16_input_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 38);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_10_li_16_input_4_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const s_r11 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(s_r11.returnFinalAmount, $event) || (s_r11.returnFinalAmount = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtwoWayProperty(\"ngModel\", s_r11.returnFinalAmount);\n  }\n}\nfunction ViewShipmentsComponent_div_10_li_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"span\", 36)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ViewShipmentsComponent_div_10_li_16_input_4_Template, 1, 1, \"input\", 37);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const s_r11 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", s_r11.consignmentNumber, \" - \", s_r11.consignor, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showReturnFinalAmount);\n  }\n}\nfunction ViewShipmentsComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_10_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeReturnModal());\n    });\n    i0.ɵɵtext(3, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h3\");\n    i0.ɵɵtext(5, \"Confirm Return\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"Mark the selected consignments as returned?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"label\", 27)(9, \"span\");\n    i0.ɵɵtext(10, \"Customer side return and paid by the customer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 28)(12, \"input\", 29);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_10_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.showReturnFinalAmount, $event) || (ctx_r1.showReturnFinalAmount = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 30);\n    i0.ɵɵelement(14, \"span\", 31);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"ul\", 32);\n    i0.ɵɵtemplate(16, ViewShipmentsComponent_div_10_li_16_Template, 5, 3, \"li\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 34)(18, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_10_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeReturnModal());\n    });\n    i0.ɵɵtext(19, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_10_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.returnSelected());\n    });\n    i0.ɵɵtext(21, \"Return\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.showReturnFinalAmount);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getSelectedReceived());\n  }\n}\nfunction ViewShipmentsComponent_div_11_div_57_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"span\", 50);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 51);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 51);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r13.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"In Stock: \", product_r13.instock, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Total: \", product_r13.amount, \"\");\n  }\n}\nfunction ViewShipmentsComponent_div_11_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47)(1, \"div\", 48);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 49);\n    i0.ɵɵtemplate(4, ViewShipmentsComponent_div_11_div_57_li_4_Template, 7, 3, \"li\", 33);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const invoice_r14 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Invoice #\", invoice_r14.number, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", invoice_r14.products);\n  }\n}\nfunction ViewShipmentsComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"div\", 40)(2, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_11_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeShipmentDetails());\n    });\n    i0.ɵɵtext(3, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 41)(5, \"div\")(6, \"h2\");\n    i0.ɵɵtext(7, \"Shipment Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 42);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"span\", 43);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 44)(13, \"p\")(14, \"strong\");\n    i0.ɵɵtext(15, \"Consignment No.:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\")(18, \"strong\");\n    i0.ɵɵtext(19, \"Status:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\")(22, \"strong\");\n    i0.ɵɵtext(23, \"Consignor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\")(26, \"strong\");\n    i0.ɵɵtext(27, \"Consignee:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"p\")(30, \"strong\");\n    i0.ɵɵtext(31, \"Delivery To:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"p\")(34, \"strong\");\n    i0.ɵɵtext(35, \"Delivery Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"p\")(38, \"strong\");\n    i0.ɵɵtext(39, \"Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40);\n    i0.ɵɵpipe(41, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"p\")(43, \"strong\");\n    i0.ɵɵtext(44, \"Final Amount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"p\")(47, \"strong\");\n    i0.ɵɵtext(48, \"Products in stock:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"p\")(51, \"strong\");\n    i0.ɵɵtext(52, \"No. of Products:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"h3\");\n    i0.ɵɵtext(55, \"Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"div\", 45);\n    i0.ɵɵtemplate(57, ViewShipmentsComponent_div_11_div_57_Template, 5, 2, \"div\", 46);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"Consignment \", ctx_r1.selectedShipment.consignmentNumber, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.selectedShipment.shipmentStatus);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consignmentNumber, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.shipmentStatus, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consignor, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consignee, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getDeliveryDisplayName(ctx_r1.selectedShipment), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.deliveryAddress, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(41, 13, ctx_r1.selectedShipment.date, \"short\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.finalAmount, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getInStockAmountTotal(ctx_r1.selectedShipment.invoices), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getInvoiceAmountTotal(ctx_r1.selectedShipment.invoices), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.selectedShipment.invoices);\n  }\n}\nexport let ViewShipmentsComponent = /*#__PURE__*/(() => {\n  class ViewShipmentsComponent {\n    constructor(http) {\n      this.http = http;\n      this.shipments = [];\n      this.filteredShipments = [];\n      this.receivedShipments = [];\n      this.filteredReceived = [];\n      this.branches = [];\n      this.searchText = '';\n      this.filterDate = '';\n      this.filterStatus = '';\n      this.filterConsignor = '';\n      this.activeTab = 'all';\n      this.selectedShipment = null; // ✅ for modal popup\n      this.showReturnModal = false;\n      this.showReturnFinalAmount = false;\n    }\n    ngOnInit() {\n      this.loadShipments();\n      this.loadReceivedShipments();\n      this.loadBranches();\n    }\n    loadShipments() {\n      this.http.get('http://localhost:3000/api/newshipments', {\n        params: {\n          username: localStorage.getItem('username') || '',\n          branch: localStorage.getItem('branch') || 'All Branches'\n        }\n      }).subscribe({\n        next: res => {\n          const normalized = (res || []).map(shipment => ({\n            ...shipment,\n            invoices: this.flattenInvoices(shipment.ewaybills || shipment.invoices || [])\n          }));\n          this.shipments = normalized;\n          this.filteredShipments = normalized;\n        },\n        error: err => console.error('Error loading shipments:', err)\n      });\n    }\n    loadReceivedShipments() {\n      this.http.get('http://localhost:3000/api/newshipments', {\n        params: {\n          username: localStorage.getItem('username') || '',\n          branch: 'All Branches'\n        }\n      }).subscribe({\n        next: res => {\n          const normalized = (res || []).map(shipment => ({\n            ...shipment,\n            invoices: this.flattenInvoices(shipment.ewaybills || shipment.invoices || [])\n          }));\n          this.receivedShipments = normalized;\n          this.applyFilters();\n        },\n        error: err => console.error('Error loading received shipments:', err)\n      });\n    }\n    loadBranches() {\n      this.http.get('http://localhost:3000/api/branches').subscribe({\n        next: branches => {\n          this.branches = branches || [];\n        },\n        error: err => console.error('Error loading branches:', err)\n      });\n    }\n    flattenInvoices(ewaybills) {\n      return (ewaybills || []).flatMap(ewb => ewb.invoices || []);\n    }\n    getProductTotal(invoices, key) {\n      if (!invoices) return 0;\n      return invoices.reduce((total, invoice) => {\n        const productSum = invoice.products?.reduce((sum, prod) => sum + Number(prod[key] || 0), 0) || 0;\n        return total + Number(productSum || 0);\n      }, 0);\n    }\n    getInStockAmountTotal(invoices) {\n      return this.getProductTotal(invoices, 'instock');\n    }\n    getInvoiceAmountTotal(invoices) {\n      let total = 0;\n      (invoices || []).forEach(inv => {\n        (inv.products || []).forEach(prod => {\n          total += Number(prod.amount || 0);\n        });\n      });\n      return total;\n    }\n    applyFilters() {\n      this.filteredShipments = this.shipments.filter(s => {\n        const matchesSearch = this.searchText ? s.consignmentNumber?.toLowerCase().includes(this.searchText.toLowerCase()) || s.consignor?.toLowerCase().includes(this.searchText.toLowerCase()) : true;\n        const matchesDate = this.filterDate ? new Date(s.date).toDateString() === new Date(this.filterDate).toDateString() : true;\n        const matchesStatus = this.filterStatus ? s.shipmentStatus === this.filterStatus : true;\n        const matchesConsignor = this.filterConsignor ? s.consignor?.toLowerCase().includes(this.filterConsignor.toLowerCase()) : true;\n        return matchesSearch && matchesDate && matchesStatus && matchesConsignor;\n      });\n      this.filteredReceived = this.receivedShipments.filter(s => {\n        const branchName = String(localStorage.getItem('branch') || '').trim();\n        const deliveryName = this.getDeliveryDisplayName(s).toLowerCase();\n        let matchesDelivery = true;\n        if (branchName) {\n          if (branchName === 'All Branches') {\n            const branchNames = (this.branches || []).map(b => String(b?.branchName || '').toLowerCase()).filter(Boolean);\n            matchesDelivery = branchNames.includes(deliveryName);\n          } else {\n            matchesDelivery = deliveryName === branchName.toLowerCase();\n          }\n        }\n        const matchesSearch = this.searchText ? s.consignmentNumber?.toLowerCase().includes(this.searchText.toLowerCase()) || s.consignor?.toLowerCase().includes(this.searchText.toLowerCase()) : true;\n        const matchesDate = this.filterDate ? new Date(s.date).toDateString() === new Date(this.filterDate).toDateString() : true;\n        const matchesStatus = this.filterStatus ? s.shipmentStatus === this.filterStatus : true;\n        const matchesConsignor = this.filterConsignor ? s.consignor?.toLowerCase().includes(this.filterConsignor.toLowerCase()) : true;\n        return matchesDelivery && matchesSearch && matchesDate && matchesStatus && matchesConsignor;\n      });\n    }\n    hasSelectedReceived() {\n      return (this.filteredReceived || []).some(s => s._returnSelected);\n    }\n    getSelectedReceived() {\n      return (this.filteredReceived || []).filter(s => s._returnSelected);\n    }\n    toggleAllReceived(event) {\n      const checked = event.target.checked;\n      (this.filteredReceived || []).forEach(s => s._returnSelected = checked);\n    }\n    openReturnModal() {\n      if (!this.hasSelectedReceived()) return;\n      this.getSelectedReceived().forEach(consignment => {\n        if (consignment.returnFinalAmount === undefined || consignment.returnFinalAmount === null || consignment.returnFinalAmount === '') {\n          consignment.returnFinalAmount = consignment.finalAmount ?? '';\n        }\n      });\n      this.showReturnModal = true;\n      this.showReturnFinalAmount = false;\n    }\n    closeReturnModal() {\n      this.showReturnModal = false;\n      this.showReturnFinalAmount = false;\n    }\n    returnSelected() {\n      const selected = (this.filteredReceived || []).filter(s => s._returnSelected);\n      if (!selected.length) return;\n      selected.forEach(consignment => {\n        if (this.showReturnFinalAmount) {\n          this.createCustomerReturnConsignment(consignment);\n        } else {\n          this.createBranchReturnConsignment(consignment);\n        }\n        const updatedConsignment = {\n          ...consignment,\n          shipmentStatus: 'Cancelled'\n        };\n        if (this.showReturnFinalAmount) {\n          updatedConsignment.finalAmount = consignment.returnFinalAmount ?? consignment.finalAmount;\n        }\n        this.http.put(`http://localhost:3000/api/newshipments/${consignment.consignmentNumber}`, updatedConsignment).subscribe({\n          next: () => {\n            this.loadReceivedShipments();\n          },\n          error: err => {\n            console.error('Error returning consignment:', err);\n          }\n        });\n      });\n      selected.forEach(s => s._returnSelected = false);\n      this.showReturnModal = false;\n    }\n    isDelivered(shipment) {\n      const value = String(shipment?.shipmentStatus || '').toLowerCase();\n      return value.includes('delivered');\n    }\n    isCancelled(shipment) {\n      return String(shipment?.shipmentStatus || '').toLowerCase() === 'cancelled';\n    }\n    normalizeId(value) {\n      if (!value) return '';\n      if (typeof value === 'string') return value;\n      if (value?._id) return String(value._id);\n      if (value?.$oid) return String(value.$oid);\n      return String(value);\n    }\n    getDeliveryDisplayName(shipment) {\n      const name = String(shipment?.deliveryName || '').trim();\n      if (name) return name;\n      const deliveryId = this.normalizeId(shipment?.deliveryID);\n      if (!deliveryId) return '-';\n      const branch = (this.branches || []).find(b => this.normalizeId(b?._id) === deliveryId);\n      if (branch?.branchName) return branch.branchName;\n      return deliveryId;\n    }\n    getReturnBranchName(consignment) {\n      const deliveryName = String(this.getDeliveryDisplayName(consignment) || '').trim();\n      if (deliveryName && deliveryName !== '-') return deliveryName;\n      const currentBranch = String(localStorage.getItem('branch') || '').trim();\n      if (currentBranch && currentBranch !== 'All Branches') return currentBranch;\n      return String(consignment?.branch || '').trim();\n    }\n    getOriginBranchName(consignment) {\n      return String(consignment?.branch || '').trim();\n    }\n    getReturnEwaybills(consignment) {\n      const ewaybills = Array.isArray(consignment?.ewaybills) ? consignment.ewaybills : [];\n      if (ewaybills.length) return ewaybills;\n      const invoices = Array.isArray(consignment?.invoices) ? consignment.invoices : [];\n      if (!invoices.length) return [];\n      return [{\n        invoices\n      }];\n    }\n    buildReturnPayload(consignment, options) {\n      const now = new Date().toISOString();\n      const username = localStorage.getItem('username') || '';\n      const pickupAddress = consignment.pickupAddress;\n      const deliveryAddress = consignment.deliveryAddress;\n      return {\n        username,\n        branch: options.branchName || consignment.branch,\n        shipmentStatus: 'Pending',\n        shipmentStatusDetails: `${username}$$${now}$$Pending`,\n        consignmentNumber: options.consignmentNumber,\n        date: now,\n        paymentMode: consignment.paymentMode,\n        externalRefId: consignment.externalRefId,\n        consignorTab: consignment.consignorTab,\n        consignor: consignment.consignor,\n        consignorGST: consignment.consignorGST,\n        consignorAddress: consignment.consignorAddress,\n        consignorPhone: consignment.consignorPhone,\n        consignorId: consignment.consignorId,\n        consigneeTab: consignment.consigneeTab,\n        consignee: consignment.consignee,\n        consigneeGST: consignment.consigneeGST,\n        consigneeAddress: consignment.consigneeAddress,\n        consigneePhone: consignment.consigneePhone,\n        consigneeId: consignment.consigneeId,\n        billingType: consignment.billingType,\n        billingName: consignment.billingName,\n        billingGSTIN: consignment.billingGSTIN,\n        billingAddress: consignment.billingAddress,\n        billingPhone: consignment.billingPhone,\n        billingLocationId: consignment.billingLocationId,\n        billingClientId: consignment.billingClientId,\n        pickupType: consignment.pickupType,\n        pickupName: consignment.pickupName,\n        pickupAddress: options.swapAddresses ? deliveryAddress : pickupAddress,\n        pickupPhone: consignment.pickupPhone,\n        pickupPincode: consignment.pickupPincode,\n        pickupLocationId: consignment.pickupLocationId,\n        deliveryType: consignment.deliveryType,\n        deliveryID: consignment.deliveryID,\n        deliveryName: consignment.deliveryName,\n        deliveryAddress: options.swapAddresses ? pickupAddress : deliveryAddress,\n        deliveryPhone: consignment.deliveryPhone,\n        deliveryPincode: consignment.deliveryPincode,\n        deliveryLocationId: consignment.deliveryLocationId,\n        deliveryClientId: consignment.deliveryClientId,\n        ewaybills: this.getReturnEwaybills(consignment),\n        charges: consignment.charges,\n        finalAmount: options.finalAmount\n      };\n    }\n    createBranchReturnConsignment(consignment) {\n      const deliveryBranchName = this.getReturnBranchName(consignment);\n      const originBranchName = this.getOriginBranchName(consignment);\n      const suffix = originBranchName || deliveryBranchName || String(localStorage.getItem('branch') || '').trim();\n      const annotatedNumber = `${consignment.consignmentNumber}/${suffix}/R`;\n      const payload = this.buildReturnPayload(consignment, {\n        consignmentNumber: annotatedNumber,\n        branchName: deliveryBranchName || consignment.branch,\n        finalAmount: consignment.finalAmount ?? 0,\n        swapAddresses: false\n      });\n      this.http.post('http://localhost:3000/api/newshipments/add?summary=true', payload, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).subscribe({\n        error: err => console.error('Error creating return consignment:', err)\n      });\n    }\n    createCustomerReturnConsignment(consignment) {\n      const branchName = this.getReturnBranchName(consignment);\n      if (!branchName || branchName === 'All Branches') {\n        console.error('Missing branch for return consignment number');\n        return;\n      }\n      const username = localStorage.getItem('username') || '';\n      this.http.get(`http://localhost:3000/api/newshipments/nextConsignment?username=${encodeURIComponent(username)}&branch=${encodeURIComponent(branchName)}`).subscribe({\n        next: res => {\n          const payload = this.buildReturnPayload(consignment, {\n            consignmentNumber: String(res.nextNumber || ''),\n            branchName,\n            finalAmount: consignment.returnFinalAmount ?? consignment.finalAmount ?? 0,\n            swapAddresses: true\n          });\n          this.http.post('http://localhost:3000/api/newshipments/add?summary=true', payload, {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).subscribe({\n            error: err => console.error('Error creating return consignment:', err)\n          });\n        },\n        error: err => console.error('Error fetching next consignment number:', err)\n      });\n    }\n    // ✅ open details modal\n    openShipmentDetails(shipment) {\n      this.selectedShipment = shipment;\n    }\n    // ✅ close details modal\n    closeShipmentDetails() {\n      this.selectedShipment = null;\n    }\n    static {\n      this.ɵfac = function ViewShipmentsComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ViewShipmentsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ViewShipmentsComponent,\n        selectors: [[\"app-view-shipments\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 12,\n        vars: 8,\n        consts: [[1, \"shipments-container\"], [1, \"tabs\"], [\"type\", \"button\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"modal return-modal\", 4, \"ngIf\"], [\"class\", \"modal details-modal\", 4, \"ngIf\"], [1, \"filters\"], [\"type\", \"text\", \"placeholder\", \"Search by consignment no. or consignor\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [\"type\", \"date\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\"], [\"value\", \"Pending\"], [\"value\", \"In Transit\"], [\"value\", \"Delivered\"], [\"type\", \"text\", \"placeholder\", \"Filter by consignor\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"table-wrapper\"], [1, \"shipments-table\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [1, \"actions-bar\"], [\"type\", \"button\", \"class\", \"return-btn\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"checkbox\", 3, \"change\"], [\"type\", \"button\", 1, \"return-btn\", 3, \"click\"], [\"type\", \"checkbox\", 3, \"ngModelChange\", \"click\", \"ngModel\", \"disabled\"], [1, \"modal\", \"return-modal\"], [1, \"modal-content\", \"return-content\"], [\"type\", \"button\", 1, \"details-close\", 3, \"click\"], [1, \"return-toggle\"], [1, \"toggle\"], [\"type\", \"checkbox\", 3, \"ngModelChange\", \"ngModel\"], [1, \"toggle-track\"], [1, \"toggle-thumb\"], [1, \"return-list\"], [4, \"ngFor\", \"ngForOf\"], [1, \"return-actions\"], [\"type\", \"button\", 1, \"ghost\", 3, \"click\"], [1, \"return-line\"], [\"type\", \"number\", \"min\", \"0\", \"placeholder\", \"Final amount\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"type\", \"number\", \"min\", \"0\", \"placeholder\", \"Final amount\", 3, \"ngModelChange\", \"ngModel\"], [1, \"modal\", \"details-modal\"], [1, \"modal-content\", \"details-content\"], [1, \"details-header\"], [1, \"details-sub\"], [1, \"details-status\"], [1, \"shipment-details\", \"details-grid\"], [1, \"details-products\"], [\"class\", \"details-invoice\", 4, \"ngFor\", \"ngForOf\"], [1, \"details-invoice\"], [1, \"details-invoice-title\"], [1, \"details-product-list\"], [1, \"product-name\"], [1, \"product-meta\"]],\n        template: function ViewShipmentsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n            i0.ɵɵtext(2, \"View Shipments\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"button\", 2);\n            i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_Template_button_click_4_listener() {\n              return ctx.activeTab = \"all\";\n            });\n            i0.ɵɵtext(5, \"All Shipments\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"button\", 2);\n            i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_Template_button_click_6_listener() {\n              return ctx.activeTab = \"received\";\n            });\n            i0.ɵɵtext(7, \"Received Shipments\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(8, ViewShipmentsComponent_div_8_Template, 30, 5, \"div\", 3)(9, ViewShipmentsComponent_div_9_Template, 34, 6, \"div\", 3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(10, ViewShipmentsComponent_div_10_Template, 22, 2, \"div\", 4)(11, ViewShipmentsComponent_div_11_Template, 58, 16, \"div\", 5);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"all\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"received\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"all\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"received\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showReturnModal);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedShipment);\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.DatePipe, FormsModule, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.CheckboxControlValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.MinValidator, i3.NgModel],\n        styles: [\"[_nghost-%COMP%]{--page-bg: #f6f8fb;--card: #ffffff;--border: #e5e7eb;--text: #0f172a;--muted: #6b7280;--primary: #2563eb;--primary-strong: #1e3a8a}.shipments-container[_ngcontent-%COMP%]{padding:20px;color:var(--text)}.filters[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid var(--border);border-radius:10px;background:#fff;color:var(--text)}.tabs[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 14px;border-radius:999px;border:1px solid var(--border);background:#fff;color:var(--text);cursor:pointer}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border-color:var(--primary)}.actions-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:15px}.return-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:10px;border:none;background:#ef4444;color:#fff;cursor:pointer;font-weight:600}.table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.shipments-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden;min-width:720px}.shipments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .shipments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid var(--border);padding:8px;text-align:left}.shipments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc;font-weight:600}.shipments-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8fafc;cursor:pointer}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;width:500px;max-height:80vh;overflow-y:auto;border-radius:8px;position:relative}.close[_ngcontent-%COMP%]{position:absolute;right:15px;top:10px;font-size:24px;cursor:pointer}.details-modal[_ngcontent-%COMP%]{background:#0f172a8c}.details-content[_ngcontent-%COMP%]{background:var(--page-bg);color:var(--text);width:min(860px,92vw);max-height:85vh;border-radius:16px;border:1px solid var(--border);box-shadow:0 18px 40px #0f172a33}.details-close[_ngcontent-%COMP%]{position:absolute;right:18px;top:12px;background:transparent;border:none;font-size:24px;cursor:pointer;color:var(--muted)}.details-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:16px;gap:12px}.details-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px}.details-sub[_ngcontent-%COMP%]{margin:6px 0 0;color:var(--muted);font-size:13px}.details-status[_ngcontent-%COMP%]{background:#e0f2fe;color:#0ea5e9;padding:6px 10px;border-radius:999px;font-size:12px;font-weight:600;white-space:nowrap}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px 16px;background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:16px}.details-products[_ngcontent-%COMP%]{display:grid;gap:12px}.details-invoice[_ngcontent-%COMP%]{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px}.details-invoice-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px}.details-product-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:8px}.details-product-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:space-between;border-bottom:1px solid var(--border);padding-bottom:6px}.details-product-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.product-name[_ngcontent-%COMP%]{font-weight:600}.product-meta[_ngcontent-%COMP%]{color:var(--muted);font-size:13px}.return-modal[_ngcontent-%COMP%]{background:#0f172a8c}.return-content[_ngcontent-%COMP%]{width:min(420px,90vw);border-radius:12px;border:1px solid var(--border)}.return-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:6px 0 10px}.return-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:18px}.return-list[_ngcontent-%COMP%]{margin:8px 0 0;padding-left:18px;max-height:160px;overflow-y:auto;color:var(--muted)}.return-line[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.return-line[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:140px;padding:6px 8px;border:1px solid var(--border);border-radius:8px}.return-toggle[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:space-between;gap:12px;margin:8px 0 4px;color:var(--muted)}.toggle[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;cursor:pointer}.toggle-track[_ngcontent-%COMP%]{width:40px;height:22px;background:#e5e7eb;border-radius:999px;display:inline-flex;align-items:center;padding:2px;transition:background .2s ease}.toggle-thumb[_ngcontent-%COMP%]{width:18px;height:18px;background:#fff;border-radius:999px;box-shadow:0 1px 3px #0f172a33;transform:translate(0);transition:transform .2s ease}.toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-track[_ngcontent-%COMP%]{background:#16a34a}.toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-track[_ngcontent-%COMP%]   .toggle-thumb[_ngcontent-%COMP%]{transform:translate(18px)}@media (max-width: 700px){.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.details-product-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}\"]\n      });\n    }\n  }\n  return ViewShipmentsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}