{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet ProductComponent = class ProductComponent {\n  constructor(http) {\n    this.http = http;\n    this.products = [];\n    this.newProduct = {\n      productName: '',\n      branch: localStorage.getItem('branch') || 'All Branches',\n      status: 'active',\n      email: localStorage.getItem('email'),\n      username: localStorage.getItem('username')\n    };\n    this.editingProduct = null;\n  }\n  ngOnInit() {\n    this.loadProducts();\n  }\n  loadProducts() {\n    const email = localStorage.getItem('email');\n    this.http.get(`http://localhost:3000/api/products?email=${email}`).subscribe({\n      next: data => {\n        this.products = data;\n      },\n      error: err => console.error('Error loading products:', err)\n    });\n  }\n  addProduct() {\n    this.newProduct.branch = localStorage.getItem('branch') || 'All Branches';\n    if (this.newProduct.branch === 'All Branches') {\n      alert('Please select a specific branch before adding a product.');\n      return;\n    }\n    this.http.post('http://localhost:3000/api/products/add', this.newProduct, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).subscribe({\n      next: () => {\n        alert('Product type added successfully!');\n        window.location.reload();\n      },\n      error: err => {\n        alert('Error: ' + err.error?.message);\n      }\n    });\n  }\n  editProduct(product) {\n    this.editingProduct = {\n      ...product\n    };\n  }\n  saveEdit() {\n    this.http.put(`http://localhost:3000/api/products/${this.editingProduct._id}`, this.editingProduct).subscribe(() => {\n      this.loadProducts();\n      this.editingProduct = null;\n    });\n  }\n  toggleStatus(product) {\n    this.http.patch(`http://localhost:3000/api/products/${product._id}/status`, {}).subscribe(() => this.loadProducts());\n  }\n};\nProductComponent = __decorate([Component({\n  selector: 'app-product',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.css']\n})], ProductComponent);\nexport { ProductComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}