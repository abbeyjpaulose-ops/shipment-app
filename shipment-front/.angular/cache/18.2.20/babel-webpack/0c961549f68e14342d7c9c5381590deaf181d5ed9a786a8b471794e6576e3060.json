{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { RouterOutlet, RouterLink } from '@angular/router';\nimport { NgIf, NgFor } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet HomeComponent = class HomeComponent {\n  constructor(http) {\n    this.http = http;\n    this.username = localStorage.getItem('username');\n    this.email = localStorage.getItem('email');\n    this.role = localStorage.getItem('role');\n    this.isAdmin = String(localStorage.getItem('role') || '').toLowerCase() === 'admin';\n    // Dropdown states\n    this.showShipments = false;\n    this.showAdmin = false;\n    this.showSettings = false;\n    this.showProfile = false;\n    // Branch data\n    this.branches = [];\n    this.selectedBranch = localStorage.getItem('branch') || 'All Branches';\n  }\n  ngOnInit() {\n    if (this.username && this.email) {\n      this.http.get(`http://localhost:3000/api/branches/by-user/${this.username}?email=${this.email}`).subscribe(data => {\n        this.branches = data;\n      });\n    }\n  }\n  toggleMenu(menu) {\n    if (menu === 'shipments') this.showShipments = !this.showShipments;\n    if (menu === 'admin') this.showAdmin = !this.showAdmin;\n    if (menu === 'settings') this.showSettings = !this.showSettings;\n    if (menu === 'profile') this.showProfile = !this.showProfile;\n  }\n  onBranchChange(event) {\n    const branch = event.target.value;\n    this.selectedBranch = branch;\n    localStorage.setItem('branch', branch);\n    //reload for the view shipments to reflect branch change\n    const currentUrl = window.location.href;\n    if (currentUrl.includes(\"/shipments\")) {\n      window.location.reload();\n    }\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  standalone: true,\n  imports: [RouterOutlet, RouterLink, NgIf, NgFor, FormsModule],\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);\nexport { HomeComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}