{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction NewShipmentComponent_div_59_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", c_r3.clientName);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatClientOption(c_r3), \" \");\n  }\n}\nfunction NewShipmentComponent_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 47)(2, \"span\", 33);\n    i0.ɵɵtext(3, \"Saved clients\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_59_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openClientModal());\n    });\n    i0.ɵɵtext(5, \"+ New Client/Edit Client\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"label\");\n    i0.ɵɵtext(7, \"Sender Name \");\n    i0.ɵɵelementStart(8, \"input\", 49);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_59_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.consignor, $event) || (ctx_r1.consignor = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function NewShipmentComponent_div_59_Template_input_change_8_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onConsignorSelect(ctx_r1.consignor));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"datalist\", 50);\n    i0.ɵɵtemplate(10, NewShipmentComponent_div_59_option_10_Template, 2, 2, \"option\", 51);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.consignor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.clientList);\n  }\n}\nfunction NewShipmentComponent_div_60_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const g_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", g_r5.guestName);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatGuestOption(g_r5), \" \");\n  }\n}\nfunction NewShipmentComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 47)(2, \"span\", 33);\n    i0.ɵɵtext(3, \"Guest senders\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_60_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openGuestModal());\n    });\n    i0.ɵɵtext(5, \"+ New Guest\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"label\");\n    i0.ɵɵtext(7, \"Guest Sender \");\n    i0.ɵɵelementStart(8, \"select\", 53);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_60_Template_select_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.consignor, $event) || (ctx_r1.consignor = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function NewShipmentComponent_div_60_Template_select_change_8_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onConsignorGuestSelect(ctx_r1.consignor));\n    });\n    i0.ɵɵtemplate(9, NewShipmentComponent_div_60_option_9_Template, 2, 2, \"option\", 51);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.consignor);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.guestList);\n  }\n}\nfunction NewShipmentComponent_div_70_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r7 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", c_r7.clientName);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatClientOption(c_r7), \" \");\n  }\n}\nfunction NewShipmentComponent_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 47)(2, \"span\", 33);\n    i0.ɵɵtext(3, \"Saved clients\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_70_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openClientModal());\n    });\n    i0.ɵɵtext(5, \"+ New Client/Edit Client\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"label\");\n    i0.ɵɵtext(7, \"Receiver Name \");\n    i0.ɵɵelementStart(8, \"input\", 54);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_70_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.consignee, $event) || (ctx_r1.consignee = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function NewShipmentComponent_div_70_Template_input_change_8_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onConsigneeSelect(ctx_r1.consignee));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"datalist\", 55);\n    i0.ɵɵtemplate(10, NewShipmentComponent_div_70_option_10_Template, 2, 2, \"option\", 51);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.consignee);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.clientList);\n  }\n}\nfunction NewShipmentComponent_div_71_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const g_r9 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", g_r9.guestName);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatGuestOption(g_r9), \" \");\n  }\n}\nfunction NewShipmentComponent_div_71_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 47)(2, \"span\", 33);\n    i0.ɵɵtext(3, \"Guest receivers\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_71_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openGuestModal());\n    });\n    i0.ɵɵtext(5, \"+ New Guest\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"label\");\n    i0.ɵɵtext(7, \"Guest Receiver \");\n    i0.ɵɵelementStart(8, \"select\", 53);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_71_Template_select_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.consignee, $event) || (ctx_r1.consignee = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function NewShipmentComponent_div_71_Template_select_change_8_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onConsigneeGuestSelect(ctx_r1.consignee));\n    });\n    i0.ɵɵtemplate(9, NewShipmentComponent_div_71_option_9_Template, 2, 2, \"option\", 51);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.consignee);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.guestList);\n  }\n}\nfunction NewShipmentComponent_div_89_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"label\");\n    i0.ɵɵtext(2, \"Name \");\n    i0.ɵɵelementStart(3, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_89_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.billingName, $event) || (ctx_r1.billingName = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"GSTIN \");\n    i0.ɵɵelementStart(6, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_89_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.billingGSTIN, $event) || (ctx_r1.billingGSTIN = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"label\");\n    i0.ɵɵtext(8, \"Phone \");\n    i0.ɵɵelementStart(9, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_89_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.billingPhone, $event) || (ctx_r1.billingPhone = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"label\");\n    i0.ɵɵtext(11, \"Address \");\n    i0.ɵɵelementStart(12, \"textarea\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_89_Template_textarea_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.billingAddress, $event) || (ctx_r1.billingAddress = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.billingName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.billingGSTIN);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.billingPhone);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.billingAddress);\n  }\n}\nfunction NewShipmentComponent_div_90_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1, \"Using consignor details\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewShipmentComponent_div_100_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"label\");\n    i0.ɵɵtext(2, \"Name \");\n    i0.ɵɵelementStart(3, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_100_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.pickupName, $event) || (ctx_r1.pickupName = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"Phone \");\n    i0.ɵɵelementStart(6, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_100_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.pickupPhone, $event) || (ctx_r1.pickupPhone = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"label\");\n    i0.ɵɵtext(8, \"Address \");\n    i0.ɵɵelementStart(9, \"textarea\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_100_Template_textarea_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.pickupAddress, $event) || (ctx_r1.pickupAddress = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.pickupName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.pickupPhone);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.pickupAddress);\n  }\n}\nfunction NewShipmentComponent_div_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1, \"Using consignor details\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewShipmentComponent_div_111_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 11)(2, \"label\");\n    i0.ɵɵtext(3, \"Name \");\n    i0.ɵɵelementStart(4, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_111_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.deliveryName, $event) || (ctx_r1.deliveryName = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"label\");\n    i0.ɵɵtext(6, \"Phone \");\n    i0.ɵɵelementStart(7, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_111_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.deliveryPhone, $event) || (ctx_r1.deliveryPhone = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"label\");\n    i0.ɵɵtext(9, \"Address \");\n    i0.ɵɵelementStart(10, \"textarea\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_111_Template_textarea_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.deliveryAddress, $event) || (ctx_r1.deliveryAddress = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.deliveryName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.deliveryPhone);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.deliveryAddress);\n  }\n}\nfunction NewShipmentComponent_div_112_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1, \"Using consignee details\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewShipmentComponent_div_134_div_9_div_13_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const prod_r21 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", prod_r21.productName);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", prod_r21.hsnNum, \" - \", prod_r21.productName, \" \");\n  }\n}\nfunction NewShipmentComponent_div_134_div_9_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 71)(1, \"div\", 72)(2, \"select\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_134_div_9_div_13_Template_select_ngModelChange_2_listener($event) {\n      const product_r20 = i0.ɵɵrestoreView(_r19).$implicit;\n      i0.ɵɵtwoWayBindingSet(product_r20.type, $event) || (product_r20.type = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtemplate(3, NewShipmentComponent_div_134_div_9_div_13_option_3_Template, 2, 3, \"option\", 51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 73);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_134_div_9_div_13_Template_input_ngModelChange_4_listener($event) {\n      const product_r20 = i0.ɵɵrestoreView(_r19).$implicit;\n      i0.ɵɵtwoWayBindingSet(product_r20.amount, $event) || (product_r20.amount = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_134_div_9_div_13_Template_button_click_5_listener() {\n      const p_r22 = i0.ɵɵrestoreView(_r19).index;\n      const i_r17 = i0.ɵɵnextContext().index;\n      const e_r14 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.deleteProduct(e_r14, i_r17, p_r22));\n    });\n    i0.ɵɵtext(6, \"\\u30D0\\u0007\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"input\", 74);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_134_div_9_div_13_Template_input_ngModelChange_7_listener($event) {\n      const product_r20 = i0.ɵɵrestoreView(_r19).$implicit;\n      i0.ɵɵtwoWayBindingSet(product_r20.ratePer, $event) || (product_r20.ratePer = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r20 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", product_r20.type);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.productList);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", product_r20.amount);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", product_r20.ratePer);\n  }\n}\nfunction NewShipmentComponent_div_134_div_9_div_19_option_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r25 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", p_r25.pkgName);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(p_r25.pkgName);\n  }\n}\nfunction NewShipmentComponent_div_134_div_9_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 72)(1, \"select\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_134_div_9_div_19_Template_select_ngModelChange_1_listener($event) {\n      const pkg_r24 = i0.ɵɵrestoreView(_r23).$implicit;\n      i0.ɵɵtwoWayBindingSet(pkg_r24.type, $event) || (pkg_r24.type = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtemplate(2, NewShipmentComponent_div_134_div_9_div_19_option_2_Template, 2, 2, \"option\", 51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 73);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_134_div_9_div_19_Template_input_ngModelChange_3_listener($event) {\n      const pkg_r24 = i0.ɵɵrestoreView(_r23).$implicit;\n      i0.ɵɵtwoWayBindingSet(pkg_r24.amount, $event) || (pkg_r24.amount = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_134_div_9_div_19_Template_button_click_4_listener() {\n      const j_r26 = i0.ɵɵrestoreView(_r23).index;\n      const i_r17 = i0.ɵɵnextContext().index;\n      const e_r14 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.deletePackage(e_r14, i_r17, j_r26));\n    });\n    i0.ɵɵtext(5, \"\\u30D0\\u0007\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const pkg_r24 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", pkg_r24.type);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.pkgList);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", pkg_r24.amount);\n  }\n}\nfunction NewShipmentComponent_div_134_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 64)(1, \"div\", 58)(2, \"div\")(3, \"div\", 2);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_134_div_9_Template_button_click_5_listener() {\n      const i_r17 = i0.ɵɵrestoreView(_r16).index;\n      const e_r14 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.deleteInvoice(e_r14, i_r17));\n    });\n    i0.ɵɵtext(6, \"\\u30D0\\u0007\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 60)(8, \"input\", 65);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_134_div_9_Template_input_ngModelChange_8_listener($event) {\n      const invoice_r18 = i0.ɵɵrestoreView(_r16).$implicit;\n      i0.ɵɵtwoWayBindingSet(invoice_r18.number, $event) || (invoice_r18.number = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 66);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_134_div_9_Template_input_ngModelChange_9_listener($event) {\n      const invoice_r18 = i0.ɵɵrestoreView(_r16).$implicit;\n      i0.ɵɵtwoWayBindingSet(invoice_r18.value, $event) || (invoice_r18.value = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 67)(11, \"div\", 68);\n    i0.ɵɵtext(12, \"Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, NewShipmentComponent_div_134_div_9_div_13_Template, 8, 4, \"div\", 69);\n    i0.ɵɵelementStart(14, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_134_div_9_Template_button_click_14_listener() {\n      const i_r17 = i0.ɵɵrestoreView(_r16).index;\n      const e_r14 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addProduct(e_r14, i_r17));\n    });\n    i0.ɵɵtext(15, \"+ Product\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 67)(17, \"div\", 68);\n    i0.ɵɵtext(18, \"Packages\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, NewShipmentComponent_div_134_div_9_div_19_Template, 6, 3, \"div\", 70);\n    i0.ɵɵelementStart(20, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_134_div_9_Template_button_click_20_listener() {\n      const i_r17 = i0.ɵɵrestoreView(_r16).index;\n      const e_r14 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addPackage(e_r14, i_r17));\n    });\n    i0.ɵɵtext(21, \"+ Package\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const invoice_r18 = ctx.$implicit;\n    const i_r17 = ctx.index;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Invoice \", i_r17 + 1, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", invoice_r18.number);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", invoice_r18.value);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", invoice_r18.products);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", invoice_r18.packages);\n  }\n}\nfunction NewShipmentComponent_div_134_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58)(2, \"div\", 2);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_134_Template_button_click_4_listener() {\n      const e_r14 = i0.ɵɵrestoreView(_r13).index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.deleteEwaybill(e_r14));\n    });\n    i0.ɵɵtext(5, \"\\u30D0\\u0007\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 60)(7, \"input\", 61);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_134_Template_input_ngModelChange_7_listener($event) {\n      const ewb_r15 = i0.ɵɵrestoreView(_r13).$implicit;\n      i0.ɵɵtwoWayBindingSet(ewb_r15.number, $event) || (ewb_r15.number = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 6);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_134_Template_input_ngModelChange_8_listener($event) {\n      const ewb_r15 = i0.ɵɵrestoreView(_r13).$implicit;\n      i0.ɵɵtwoWayBindingSet(ewb_r15.date, $event) || (ewb_r15.date = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, NewShipmentComponent_div_134_div_9_Template, 22, 5, \"div\", 62);\n    i0.ɵɵelementStart(10, \"button\", 63);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_134_Template_button_click_10_listener() {\n      const e_r14 = i0.ɵɵrestoreView(_r13).index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addInvoice(e_r14));\n    });\n    i0.ɵɵtext(11, \"+ Invoice\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ewb_r15 = ctx.$implicit;\n    const e_r14 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"E-Waybill \", e_r14 + 1, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ewb_r15.number);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ewb_r15.date);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ewb_r15.invoices);\n  }\n}\nfunction NewShipmentComponent_option_153_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1, \"Account Credit\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewShipmentComponent_div_213_div_12_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 86)(1, \"input\", 87);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_12_div_22_Template_input_ngModelChange_1_listener($event) {\n      const d_r30 = i0.ɵɵrestoreView(_r29).$implicit;\n      i0.ɵɵtwoWayBindingSet(d_r30.location, $event) || (d_r30.location = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_div_12_div_22_Template_button_click_2_listener() {\n      const i_r31 = i0.ɵɵrestoreView(_r29).index;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.removeDeliveryLocation(i_r31));\n    });\n    i0.ɵɵtext(3, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const d_r30 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", d_r30.location);\n  }\n}\nfunction NewShipmentComponent_div_213_div_12_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 88);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.clientError);\n  }\n}\nfunction NewShipmentComponent_div_213_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2, \"Name* \");\n    i0.ɵɵelementStart(3, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_12_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newClient.clientName, $event) || (ctx_r1.newClient.clientName = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"GSTIN* \");\n    i0.ɵɵelementStart(6, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_12_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newClient.GSTIN, $event) || (ctx_r1.newClient.GSTIN = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"label\");\n    i0.ɵɵtext(8, \"Phone* \");\n    i0.ɵɵelementStart(9, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_12_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newClient.phoneNum, $event) || (ctx_r1.newClient.phoneNum = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"label\");\n    i0.ɵɵtext(11, \"Branch* \");\n    i0.ɵɵelementStart(12, \"input\", 12);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_12_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newClient.branch, $event) || (ctx_r1.newClient.branch = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"label\");\n    i0.ɵɵtext(14, \"Address* \");\n    i0.ɵɵelementStart(15, \"textarea\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_12_Template_textarea_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newClient.address, $event) || (ctx_r1.newClient.address = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 79)(17, \"input\", 80);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_12_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newClient.city, $event) || (ctx_r1.newClient.city = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 81);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_12_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newClient.state, $event) || (ctx_r1.newClient.state = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"input\", 82);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_12_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newClient.pinCode, $event) || (ctx_r1.newClient.pinCode = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"h4\");\n    i0.ɵɵtext(21, \"Delivery Locations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, NewShipmentComponent_div_213_div_12_div_22_Template, 4, 1, \"div\", 83);\n    i0.ɵɵelementStart(23, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_div_12_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.addDeliveryLocation());\n    });\n    i0.ɵɵtext(24, \"+ Add Delivery Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, NewShipmentComponent_div_213_div_12_div_25_Template, 2, 1, \"div\", 84);\n    i0.ɵɵelementStart(26, \"div\", 85)(27, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_div_12_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.saveNewClient());\n    });\n    i0.ɵɵtext(28, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_div_12_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.closeModals());\n    });\n    i0.ɵɵtext(30, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newClient.clientName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newClient.GSTIN);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newClient.phoneNum);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newClient.branch);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newClient.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newClient.city);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newClient.state);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newClient.pinCode);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.newClient.deliveryLocations);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.clientError);\n  }\n}\nfunction NewShipmentComponent_div_213_div_13_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r33 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"value\", c_r33._id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.formatClientOption(c_r33));\n  }\n}\nfunction NewShipmentComponent_div_213_div_13_div_7_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 86)(1, \"input\", 87);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_13_div_7_div_18_Template_input_ngModelChange_1_listener($event) {\n      const d_r36 = i0.ɵɵrestoreView(_r35).$implicit;\n      i0.ɵɵtwoWayBindingSet(d_r36.location, $event) || (d_r36.location = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_div_13_div_7_div_18_Template_button_click_2_listener() {\n      const i_r37 = i0.ɵɵrestoreView(_r35).index;\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.removeEditDeliveryLocation(i_r37));\n    });\n    i0.ɵɵtext(3, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const d_r36 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", d_r36.location);\n  }\n}\nfunction NewShipmentComponent_div_213_div_13_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2, \"Name \");\n    i0.ɵɵelement(3, \"input\", 91);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"GSTIN \");\n    i0.ɵɵelement(6, \"input\", 91);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\");\n    i0.ɵɵtext(8, \"Phone \");\n    i0.ɵɵelement(9, \"input\", 91);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"label\");\n    i0.ɵɵtext(11, \"Branch \");\n    i0.ɵɵelement(12, \"input\", 91);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"label\");\n    i0.ɵɵtext(14, \"Address \");\n    i0.ɵɵelement(15, \"textarea\", 91);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"h4\");\n    i0.ɵɵtext(17, \"Delivery Locations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, NewShipmentComponent_div_213_div_13_div_7_div_18_Template, 4, 1, \"div\", 83);\n    i0.ɵɵelementStart(19, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_div_13_div_7_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.addEditDeliveryLocation());\n    });\n    i0.ɵɵtext(20, \"+ Add Delivery Location\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.editClient.clientName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.editClient.GSTIN);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.editClient.phoneNum);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.editClient.branch);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.editClient.address);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.editClient.deliveryLocations);\n  }\n}\nfunction NewShipmentComponent_div_213_div_13_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 88);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.editClientError);\n  }\n}\nfunction NewShipmentComponent_div_213_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2, \"Select Client \");\n    i0.ɵɵelementStart(3, \"select\", 53);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_213_div_13_Template_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.selectedEditClientId, $event) || (ctx_r1.selectedEditClientId = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function NewShipmentComponent_div_213_div_13_Template_select_change_3_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onEditClientSelect(ctx_r1.selectedEditClientId));\n    });\n    i0.ɵɵelementStart(4, \"option\", 89);\n    i0.ɵɵtext(5, \"Select...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, NewShipmentComponent_div_213_div_13_option_6_Template, 2, 2, \"option\", 51);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, NewShipmentComponent_div_213_div_13_div_7_Template, 21, 6, \"div\", 35)(8, NewShipmentComponent_div_213_div_13_div_8_Template, 2, 1, \"div\", 84);\n    i0.ɵɵelementStart(9, \"div\", 85)(10, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_div_13_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.saveEditedClient());\n    });\n    i0.ɵɵtext(11, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_div_13_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.closeModals());\n    });\n    i0.ɵɵtext(13, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.selectedEditClientId);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.editableClientList);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.editClient == null ? null : ctx_r1.editClient._id);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.editClientError);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.selectedEditClientId);\n  }\n}\nfunction NewShipmentComponent_div_213_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"div\", 76)(2, \"div\", 77)(3, \"h3\");\n    i0.ɵɵtext(4, \"Add Client\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModals());\n    });\n    i0.ɵɵtext(6, \"?\\u0007\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 78)(8, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.setClientModalTab(\"add\"));\n    });\n    i0.ɵɵtext(9, \"New Client\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_213_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.setClientModalTab(\"edit\"));\n    });\n    i0.ɵɵtext(11, \"Edit Client\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, NewShipmentComponent_div_213_div_12_Template, 31, 10, \"div\", 35)(13, NewShipmentComponent_div_213_div_13_Template, 14, 5, \"div\", 35);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵclassProp(\"active\", ctx_r1.clientModalTab === \"add\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"active\", ctx_r1.clientModalTab === \"edit\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.clientModalTab === \"add\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.clientModalTab === \"edit\");\n  }\n}\nfunction NewShipmentComponent_div_214_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 88);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.guestError);\n  }\n}\nfunction NewShipmentComponent_div_214_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"div\", 76)(2, \"div\", 77)(3, \"h3\");\n    i0.ɵɵtext(4, \"Add Guest\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_214_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModals());\n    });\n    i0.ɵɵtext(6, \"\\u30D0\\u0007\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"label\");\n    i0.ɵɵtext(8, \"Name* \");\n    i0.ɵɵelementStart(9, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_214_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newGuest.guestName, $event) || (ctx_r1.newGuest.guestName = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"label\");\n    i0.ɵɵtext(11, \"Phone* \");\n    i0.ɵɵelementStart(12, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_214_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newGuest.phoneNum, $event) || (ctx_r1.newGuest.phoneNum = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"label\");\n    i0.ɵɵtext(14, \"Discount % \");\n    i0.ɵɵelementStart(15, \"input\", 37);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_214_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newGuest.perDis, $event) || (ctx_r1.newGuest.perDis = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"label\");\n    i0.ɵɵtext(17, \"Address* \");\n    i0.ɵɵelementStart(18, \"textarea\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_214_Template_textarea_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newGuest.address, $event) || (ctx_r1.newGuest.address = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 79)(20, \"input\", 80);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_214_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newGuest.city, $event) || (ctx_r1.newGuest.city = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 81);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_214_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newGuest.state, $event) || (ctx_r1.newGuest.state = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 82);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_div_214_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newGuest.pinCode, $event) || (ctx_r1.newGuest.pinCode = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(23, NewShipmentComponent_div_214_div_23_Template, 2, 1, \"div\", 84);\n    i0.ɵɵelementStart(24, \"div\", 85)(25, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_214_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.saveNewGuest());\n    });\n    i0.ɵɵtext(26, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function NewShipmentComponent_div_214_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModals());\n    });\n    i0.ɵɵtext(28, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newGuest.guestName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newGuest.phoneNum);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newGuest.perDis);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newGuest.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newGuest.city);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newGuest.state);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newGuest.pinCode);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.guestError);\n  }\n}\nexport let NewShipmentComponent = /*#__PURE__*/(() => {\n  class NewShipmentComponent {\n    constructor(http) {\n      this.http = http;\n      this.DRAFT_PREFIX = 'newShipmentDraft';\n      this.showClientModal = false;\n      this.showGuestModal = false;\n      this.clientError = '';\n      this.guestError = '';\n      this.clientModalTab = 'add';\n      this.editClientError = '';\n      this.newClient = {\n        clientName: '',\n        address: '',\n        city: '',\n        state: '',\n        pinCode: '',\n        GSTIN: '',\n        phoneNum: '',\n        perDis: 0,\n        creditType: 'no-credit',\n        products: [],\n        deliveryLocations: [{\n          location: ''\n        }],\n        status: 'active',\n        branch: ''\n      };\n      this.editableClientList = [];\n      this.selectedEditClientId = '';\n      this.editClient = {\n        _id: '',\n        clientName: '',\n        GSTIN: '',\n        phoneNum: '',\n        address: '',\n        city: '',\n        state: '',\n        pinCode: '',\n        branch: '',\n        deliveryLocations: []\n      };\n      this.newGuest = {\n        guestName: '',\n        address: '',\n        city: '',\n        state: '',\n        pinCode: '',\n        phoneNum: '',\n        perDis: 0\n      };\n      // Billing\n      this.billingType = 'consignor';\n      this.billingName = '';\n      this.billingAddress = '';\n      this.billingGSTIN = '';\n      this.billingPhone = '';\n      this.clientList = [];\n      this.guestList = [];\n      this.pkgList = [];\n      this.productList = [];\n      // Pickup\n      this.pickupType = 'consignor';\n      this.pickupName = '';\n      this.pickupAddress = '';\n      this.pickupPhone = '';\n      this.pickupPincode = '';\n      // Delivery\n      this.deliveryType = 'consignee';\n      this.deliveryName = '';\n      this.deliveryAddress = '';\n      this.deliveryPhone = '';\n      this.deliveryPincode = '';\n      this.consignorTab = 'consignor';\n      this.consigneeTab = 'consignee';\n      this.username = '';\n      this.branch = localStorage.getItem('branch') || 'All Branches';\n      this.selectedConsignorId = null;\n      this.consignmentNumber = 'nil';\n      this.date = new Date().toISOString().split('T')[0];\n      this.consignor = '';\n      this.consignorGST = '';\n      this.consignorAddress = '';\n      this.consignorPhone = '';\n      this.consignee = '';\n      this.consigneeGST = '';\n      this.consigneeAddress = '';\n      this.consigneePhone = '';\n      this.paymentMode = 'To Pay';\n      this.rateUnit = 'box';\n      this.allowAccountCredit = false;\n      this.externalRefId = '';\n      this.suggestedRates = {};\n      this.showRateOverrideModal = false;\n      this.rateOverrides = [];\n      this.ewaybills = [{\n        number: '',\n        date: this.date,\n        invoices: [{\n          number: '',\n          value: 0,\n          packages: [{\n            type: '',\n            amount: 0\n          }],\n          products: [{\n            type: '',\n            amount: 1,\n            ratePer: 0,\n            instock: 1,\n            intransitstock: 0,\n            deliveredstock: 0\n          }]\n        }]\n      }];\n      this.charges = {\n        odc: 0,\n        unloading: 0,\n        docket: 0,\n        other: 0,\n        ccc: 0,\n        consignorDiscount: 0\n      };\n      this.finalAmount = 0;\n      this.shipmentStatus = 'Pending';\n      this.shipmentStatusDetails = '';\n      this.isSaving = false;\n      this.onStorageChange = e => {\n        if (e.key === 'branch' && e.newValue) {\n          this.handleBranchChange(e.newValue, e.oldValue || this.branch);\n        }\n      };\n    }\n    ngOnInit() {\n      if (typeof window === 'undefined') return;\n      this.username = localStorage.getItem('username') || '';\n      this.branch = localStorage.getItem('branch') || 'All Branches';\n      this.newClient.branch = this.branch;\n      this.loadDraft(this.branch);\n      this.getCurrentConsignmentNumber();\n      this.loadLists();\n      // React to branch change (same tab)\n      this.branchCheckInterval = setInterval(() => {\n        const current = localStorage.getItem('branch') || 'All Branches';\n        if (current !== this.branch) {\n          const oldBranch = this.branch;\n          this.handleBranchChange(current, oldBranch);\n        }\n      }, 1000);\n      // React to branch change (other tab)\n      window.addEventListener('storage', this.onStorageChange);\n    }\n    ngOnDestroy() {\n      if (this.branchCheckInterval) {\n        clearInterval(this.branchCheckInterval);\n      }\n      window.removeEventListener('storage', this.onStorageChange);\n    }\n    onBeforeUnload() {\n      this.saveDraft(this.branch);\n    }\n    handleBranchChange(newBranch, oldBranch) {\n      // Save draft for the previous branch\n      if (oldBranch) {\n        this.saveDraft(oldBranch);\n      }\n      this.branch = newBranch || 'All Branches';\n      this.newClient.branch = this.branch;\n      this.editClient.branch = this.branch;\n      this.loadDraft(this.branch);\n      this.getCurrentConsignmentNumber();\n      this.loadLists();\n    }\n    draftKey(branch) {\n      return `${this.DRAFT_PREFIX}:${branch || 'All Branches'}`;\n    }\n    saveDraft(branch) {\n      if (typeof window === 'undefined') return;\n      const key = this.draftKey(branch);\n      const draft = {\n        billingType: this.billingType,\n        billingName: this.billingName,\n        billingAddress: this.billingAddress,\n        billingGSTIN: this.billingGSTIN,\n        billingPhone: this.billingPhone,\n        pickupType: this.pickupType,\n        pickupName: this.pickupName,\n        pickupAddress: this.pickupAddress,\n        pickupPhone: this.pickupPhone,\n        deliveryType: this.deliveryType,\n        deliveryName: this.deliveryName,\n        deliveryAddress: this.deliveryAddress,\n        deliveryPhone: this.deliveryPhone,\n        consignorTab: this.consignorTab,\n        consigneeTab: this.consigneeTab,\n        consignor: this.consignor,\n        consignorGST: this.consignorGST,\n        consignorAddress: this.consignorAddress,\n        consignorPhone: this.consignorPhone,\n        consignee: this.consignee,\n        consigneeGST: this.consigneeGST,\n        consigneeAddress: this.consigneeAddress,\n        consigneePhone: this.consigneePhone,\n        paymentMode: this.paymentMode,\n        rateUnit: this.rateUnit,\n        externalRefId: this.externalRefId,\n        ewaybills: this.ewaybills,\n        charges: this.charges,\n        finalAmount: this.finalAmount,\n        selectedConsignorId: this.selectedConsignorId,\n        consignmentNumber: this.consignmentNumber,\n        date: this.date\n      };\n      localStorage.setItem(key, JSON.stringify(draft));\n    }\n    loadDraft(branch) {\n      if (typeof window === 'undefined') return;\n      const raw = localStorage.getItem(this.draftKey(branch));\n      if (!raw) return;\n      try {\n        const draft = JSON.parse(raw);\n        Object.assign(this, {\n          billingType: draft.billingType ?? this.billingType,\n          billingName: draft.billingName ?? this.billingName,\n          billingAddress: draft.billingAddress ?? this.billingAddress,\n          billingGSTIN: draft.billingGSTIN ?? this.billingGSTIN,\n          billingPhone: draft.billingPhone ?? this.billingPhone,\n          pickupType: draft.pickupType ?? this.pickupType,\n          pickupName: draft.pickupName ?? this.pickupName,\n          pickupAddress: draft.pickupAddress ?? this.pickupAddress,\n          pickupPhone: draft.pickupPhone ?? this.pickupPhone,\n          deliveryType: draft.deliveryType ?? this.deliveryType,\n          deliveryName: draft.deliveryName ?? this.deliveryName,\n          deliveryAddress: draft.deliveryAddress ?? this.deliveryAddress,\n          deliveryPhone: draft.deliveryPhone ?? this.deliveryPhone,\n          consignorTab: draft.consignorTab ?? this.consignorTab,\n          consigneeTab: draft.consigneeTab ?? this.consigneeTab,\n          consignor: draft.consignor ?? this.consignor,\n          consignorGST: draft.consignorGST ?? this.consignorGST,\n          consignorAddress: draft.consignorAddress ?? this.consignorAddress,\n          consignorPhone: draft.consignorPhone ?? this.consignorPhone,\n          consignee: draft.consignee ?? this.consignee,\n          consigneeGST: draft.consigneeGST ?? this.consigneeGST,\n          consigneeAddress: draft.consigneeAddress ?? this.consigneeAddress,\n          consigneePhone: draft.consigneePhone ?? this.consigneePhone,\n          paymentMode: draft.paymentMode ?? this.paymentMode,\n          rateUnit: draft.rateUnit ?? this.rateUnit,\n          externalRefId: draft.externalRefId ?? this.externalRefId,\n          ewaybills: draft.ewaybills ?? this.ewaybills,\n          charges: draft.charges ?? this.charges,\n          finalAmount: draft.finalAmount ?? this.finalAmount,\n          selectedConsignorId: draft.selectedConsignorId ?? null,\n          consignmentNumber: draft.consignmentNumber ?? this.consignmentNumber,\n          date: draft.date ?? this.date\n        });\n      } catch {\n        /* ignore bad draft */\n      }\n    }\n    clearDraft(branch) {\n      localStorage.removeItem(this.draftKey(branch));\n    }\n    loadLists() {\n      // Client list\n      this.http.get(`http://localhost:3000/api/clients/clientslist?branch=${encodeURIComponent(this.branch)}`).subscribe(res => {\n        this.clientList = res;\n        this.updatePaymentModeAvailability(this.consignor);\n      });\n      // Guest list\n      this.http.get(`http://localhost:3000/api/guests/guestslist`).subscribe(res => this.guestList = res);\n      // Package list\n      this.http.get(`http://localhost:3000/api/pkgs/pkglist`).subscribe(res => this.pkgList = res);\n      // Product list (defaults)\n      this.http.get(`http://localhost:3000/api/products/productlist`).subscribe(res => this.productList = res);\n    }\n    // E-WAYBILL HELPERS\n    addEwaybill() {\n      this.ewaybills.push({\n        number: '',\n        date: this.date,\n        invoices: []\n      });\n    }\n    deleteEwaybill(index) {\n      this.ewaybills.splice(index, 1);\n    }\n    addInvoice(ewaybillIndex) {\n      this.ewaybills[ewaybillIndex].invoices.push({\n        number: '',\n        value: 0,\n        packages: [],\n        products: []\n      });\n    }\n    deleteInvoice(ewaybillIndex, invoiceIndex) {\n      this.ewaybills[ewaybillIndex].invoices.splice(invoiceIndex, 1);\n    }\n    addPackage(ewaybillIndex, invoiceIndex) {\n      this.ewaybills[ewaybillIndex].invoices[invoiceIndex].packages.push({\n        type: '',\n        amount: 0\n      });\n    }\n    deletePackage(ewaybillIndex, invoiceIndex, packageIndex) {\n      this.ewaybills[ewaybillIndex].invoices[invoiceIndex].packages.splice(packageIndex, 1);\n    }\n    addProduct(ewaybillIndex, invoiceIndex) {\n      this.ewaybills[ewaybillIndex].invoices[invoiceIndex].products.push({\n        type: '',\n        amount: 1,\n        ratePer: 0,\n        instock: 1,\n        intransitstock: 0,\n        deliveredstock: 0\n      });\n    }\n    deleteProduct(ewaybillIndex, invoiceIndex, productIndex) {\n      this.ewaybills[ewaybillIndex].invoices[invoiceIndex].products.splice(productIndex, 1);\n    }\n    // CALCULATIONS\n    calculateFinalAmount() {\n      let invoiceTotal = 0;\n      let packageTotal = 0;\n      this.ewaybills.forEach(ewb => {\n        invoiceTotal += ewb.invoices.reduce((sum, inv) => sum + (inv.value || 0), 0);\n        packageTotal += ewb.invoices.reduce((sum, inv) => sum + inv.packages.reduce((pSum, p) => pSum + (p.amount || 0), 0), 0);\n      });\n      const chargeTotal = Object.values(this.charges).reduce((sum, c) => sum + (Number(c) || 0), 0);\n      this.finalAmount = invoiceTotal + packageTotal + chargeTotal;\n    }\n    resetForm() {\n      this.billingType = 'consignor';\n      this.billingName = '';\n      this.billingAddress = '';\n      this.billingGSTIN = '';\n      this.billingPhone = '';\n      this.pickupType = 'consignor';\n      this.pickupName = '';\n      this.pickupAddress = '';\n      this.pickupPhone = '';\n      this.deliveryType = 'consignee';\n      this.deliveryName = '';\n      this.deliveryAddress = '';\n      this.deliveryPhone = '';\n      this.consignorTab = 'consignor';\n      this.consigneeTab = 'consignee';\n      this.selectedConsignorId = null;\n      this.consignor = '';\n      this.consignorGST = '';\n      this.consignorAddress = '';\n      this.consignorPhone = '';\n      this.consignee = '';\n      this.consigneeGST = '';\n      this.consigneeAddress = '';\n      this.consigneePhone = '';\n      this.paymentMode = 'To Pay';\n      this.rateUnit = 'box';\n      this.allowAccountCredit = false;\n      this.externalRefId = '';\n      this.ewaybills = [{\n        number: '',\n        date: this.date,\n        invoices: [{\n          number: '',\n          value: 0,\n          packages: [{\n            type: '',\n            amount: 0\n          }],\n          products: [{\n            type: '',\n            amount: 1,\n            ratePer: 0,\n            instock: 1,\n            intransitstock: 0,\n            deliveredstock: 0\n          }]\n        }]\n      }];\n      this.charges = {\n        odc: 0,\n        unloading: 0,\n        docket: 0,\n        other: 0,\n        ccc: 0,\n        consignorDiscount: 0\n      };\n      this.finalAmount = 0;\n      this.saveDraft(this.branch);\n    }\n    // CONSIGNMENT NUMBER\n    getCurrentConsignmentNumber() {\n      if (!this.branch || this.branch === 'All Branches') {\n        this.consignmentNumber = 'nil';\n        return;\n      }\n      this.http.get(`http://localhost:3000/api/newshipments/nextConsignment?username=${encodeURIComponent(this.username)}&branch=${encodeURIComponent(this.branch)}`).subscribe({\n        next: res => {\n          this.consignmentNumber = res.nextNumber.toString();\n          localStorage.setItem('consignmentNumber', this.consignmentNumber);\n        },\n        error: err => console.error('Error fetching consignment number', err)\n      });\n    }\n    // SAVE SHIPMENT\n    saveShipment() {\n      if (this.isSaving) return;\n      if (!this.ensureProductAmounts()) return;\n      this.isSaving = true;\n      const shipmentData = {\n        username: localStorage.getItem('username'),\n        branch: localStorage.getItem('branch'),\n        shipmentStatus: this.shipmentStatus,\n        shipmentStatusDetails: `${localStorage.getItem('username')}$$${this.date}$$${this.shipmentStatus}`,\n        consignmentNumber: this.consignmentNumber,\n        date: this.date,\n        paymentMode: this.paymentMode,\n        externalRefId: this.externalRefId,\n        consignorTab: this.consignorTab,\n        consignor: this.consignor,\n        consignorGST: this.consignorGST,\n        consignorAddress: this.consignorAddress,\n        consignorPhone: this.consignorPhone,\n        consigneeTab: this.consigneeTab,\n        consignee: this.consignee,\n        consigneeGST: this.consigneeGST,\n        consigneeAddress: this.consigneeAddress,\n        consigneePhone: this.consigneePhone,\n        billingType: this.billingType,\n        billingName: this.billingName,\n        billingGSTIN: this.billingGSTIN,\n        billingAddress: this.billingAddress,\n        billingPhone: this.billingPhone,\n        pickupType: this.pickupType,\n        pickupName: this.pickupName,\n        pickupAddress: this.pickupAddress,\n        pickupPhone: this.pickupPhone,\n        deliveryType: this.deliveryType,\n        deliveryName: this.deliveryName,\n        deliveryAddress: this.deliveryAddress,\n        deliveryPhone: this.deliveryPhone,\n        ewaybills: this.ewaybills,\n        charges: this.charges,\n        finalAmount: this.finalAmount\n      };\n      if (this.consignorTab === 'guest') shipmentData.consignorGST = 'GUEST';\n      if (this.consigneeTab === 'guest') shipmentData.consigneeGST = 'GUEST';\n      if (this.billingType === 'consignor') {\n        shipmentData.billingName = this.consignor;\n        shipmentData.billingAddress = this.consignorAddress;\n        shipmentData.billingGSTIN = this.consignorGST;\n        shipmentData.billingPhone = this.consignorPhone;\n      }\n      if (this.pickupType === 'consignor') {\n        shipmentData.pickupName = this.consignor;\n        shipmentData.pickupAddress = this.consignorAddress;\n        shipmentData.pickupPhone = this.consignorPhone;\n      }\n      if (this.deliveryType === 'consignee') {\n        shipmentData.deliveryName = this.consignee;\n        shipmentData.deliveryAddress = this.consigneeAddress;\n        shipmentData.deliveryPhone = this.consigneePhone;\n      }\n      if (shipmentData.branch !== 'All Branches') {\n        shipmentData.ewaybills = this.sanitizeEwaybills(shipmentData.ewaybills);\n        this.http.post('http://localhost:3000/api/newshipments/add?summary=true', shipmentData, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).subscribe({\n          next: () => {\n            alert(`Shipment ${this.consignmentNumber} saved successfully!`);\n            this.getCurrentConsignmentNumber();\n            this.resetForm();\n            this.clearDraft(this.branch);\n            this.isSaving = false;\n          },\n          error: err => {\n            const msg = err?.error?.message || err?.message || 'Bad Request';\n            if (msg.includes('E11000')) {\n              alert('Consignment number already used. Refreshing number and please try again.');\n              this.getCurrentConsignmentNumber();\n            } else {\n              alert('Error: ' + msg);\n            }\n            this.isSaving = false;\n          }\n        });\n      } else {\n        alert('Please select a branch before saving.');\n        this.isSaving = false;\n      }\n    }\n    sanitizeEwaybills(ewaybills) {\n      return (ewaybills || []).map(ewb => ({\n        ...ewb,\n        invoices: (ewb.invoices || []).map(inv => ({\n          ...inv,\n          packages: (inv.packages || []).filter(p => p?.type && Number(p?.amount) > 0),\n          products: (inv.products || []).filter(p => p?.type && Number(p?.amount) > 0)\n        }))\n      }));\n    }\n    ensureProductAmounts() {\n      for (const ewb of this.ewaybills) {\n        for (const inv of ewb.invoices || []) {\n          for (const prod of inv.products || []) {\n            if (!prod.amount || prod.amount <= 0) {\n              alert('Please enter a quantity greater than 0 for all products.');\n              return false;\n            }\n            if (!prod.instock || prod.instock <= 0) {\n              prod.instock = prod.amount;\n            }\n          }\n        }\n      }\n      return true;\n    }\n    // SELECT HANDLERS\n    onConsignorSelect(name) {\n      const c = this.clientList.find(x => x.clientName === name);\n      if (c) {\n        this.consignorGST = c.GSTIN;\n        this.consignorAddress = c.address;\n        this.consignorPhone = c.phoneNum;\n        this.charges.consignorDiscount = c.perDis;\n        this.selectedConsignorId = c._id;\n        this.loadPricingSuggestions(c._id);\n      }\n      this.updatePaymentModeAvailability(name);\n    }\n    onConsigneeSelect(name) {\n      const c = this.clientList.find(x => x.clientName === name);\n      if (c) {\n        this.consigneeGST = c.GSTIN;\n        this.consigneeAddress = c.address;\n        this.consigneePhone = c.phoneNum;\n      }\n    }\n    onConsignorGuestSelect(name) {\n      const g = this.guestList.find(x => x.guestName === name);\n      if (g) {\n        this.consignorGST = 'GUEST';\n        this.consignorAddress = g.address;\n        this.consignorPhone = g.phoneNum;\n        this.selectedConsignorId = null;\n        this.loadPricingSuggestions(null);\n      }\n      this.updatePaymentModeAvailability('');\n    }\n    onConsigneeGuestSelect(name) {\n      const g = this.guestList.find(x => x.guestName === name);\n      if (g) {\n        this.consigneeGST = 'GUEST';\n        this.consigneeAddress = g.address;\n        this.consigneePhone = g.phoneNum;\n      }\n    }\n    onPackageList(name) {\n      this.pkgList.find(x => x.pkgName === name);\n    }\n    onProductList(name) {\n      this.productList.find(x => x.productName === name);\n    }\n    formatClientOption(client) {\n      const gstin = client?.GSTIN || '-';\n      const name = client?.clientName || '-';\n      const address = client?.address || '-';\n      return `${gstin} | ${name} | ${address}`;\n    }\n    formatGuestOption(guest) {\n      const name = guest?.guestName || '-';\n      const address = guest?.address || '-';\n      return `- | ${name} | ${address}`;\n    }\n    updatePaymentModeAvailability(consignorName) {\n      const name = (consignorName ?? this.consignor ?? '').trim();\n      const client = this.clientList.find(x => x.clientName === name);\n      const creditType = String(client?.creditType || '').toLowerCase();\n      this.allowAccountCredit = creditType === 'credit' || creditType === 'credit allowed';\n      if (!this.allowAccountCredit && this.paymentMode === 'Account Credit') {\n        this.paymentMode = 'To Pay';\n      }\n    }\n    isPaymentModeEnabled() {\n      return Boolean((this.consignor || '').trim());\n    }\n    loadPricingSuggestions(clientId) {\n      if (!this.branch || this.branch === 'All Branches') return;\n      const params = clientId ? `branch=${encodeURIComponent(this.branch)}&clientId=${clientId}` : `branch=${encodeURIComponent(this.branch)}`;\n      this.http.get(`http://localhost:3000/api/pricing/suggestions?${params}`).subscribe({\n        next: res => {\n          if (res?.pricing) {\n            // Map to product dropdown structure\n            this.productList = res.pricing.map(p => ({\n              productName: p.productName,\n              hsnNum: p.hsnNum,\n              ratePerNum: p.ratePerNum,\n              ratePerVolume: p.ratePerVolume,\n              ratePerKg: p.ratePerKg,\n              source: p.source\n            }));\n          }\n        },\n        error: () => {}\n      });\n    }\n    // QUICK ADD CLIENT/GUEST\n    openClientModal() {\n      if (!this.branch || this.branch === 'All Branches') {\n        alert('Select a branch before adding a client.');\n        return;\n      }\n      this.clientModalTab = 'add';\n      this.newClient = {\n        clientName: '',\n        address: '',\n        city: '',\n        state: '',\n        pinCode: '',\n        GSTIN: '',\n        phoneNum: '',\n        perDis: 0,\n        creditType: 'no-credit',\n        products: [],\n        deliveryLocations: [{\n          location: ''\n        }],\n        status: 'active',\n        branch: this.branch\n      };\n      this.clientError = '';\n      this.editClientError = '';\n      this.selectedEditClientId = '';\n      this.showClientModal = true;\n    }\n    setClientModalTab(tab) {\n      this.clientModalTab = tab;\n      if (tab === 'edit') {\n        this.loadEditableClients();\n      }\n    }\n    loadEditableClients() {\n      if (!this.branch || this.branch === 'All Branches') return;\n      this.http.get(`http://localhost:3000/api/clients?branch=${encodeURIComponent(this.branch)}`).subscribe({\n        next: res => this.editableClientList = res || [],\n        error: () => {\n          this.editableClientList = [];\n        }\n      });\n    }\n    onEditClientSelect(id) {\n      const c = this.editableClientList.find(x => x._id === id);\n      if (!c) return;\n      this.editClient = {\n        _id: c._id,\n        clientName: c.clientName || '',\n        GSTIN: c.GSTIN || '',\n        phoneNum: c.phoneNum || '',\n        address: c.address || '',\n        city: c.city || '',\n        state: c.state || '',\n        pinCode: c.pinCode || '',\n        branch: c.branch || '',\n        deliveryLocations: Array.isArray(c.deliveryLocations) ? c.deliveryLocations.map(d => ({\n          location: d.location || ''\n        })) : []\n      };\n      if (!this.editClient.deliveryLocations.length) {\n        this.editClient.deliveryLocations = [{\n          location: ''\n        }];\n      }\n      this.editClientError = '';\n    }\n    addEditDeliveryLocation() {\n      if (!Array.isArray(this.editClient.deliveryLocations)) {\n        this.editClient.deliveryLocations = [];\n      }\n      this.editClient.deliveryLocations.push({\n        location: ''\n      });\n    }\n    removeEditDeliveryLocation(index) {\n      this.editClient.deliveryLocations.splice(index, 1);\n    }\n    openGuestModal() {\n      this.newGuest = {\n        guestName: '',\n        address: '',\n        city: '',\n        state: '',\n        pinCode: '',\n        phoneNum: '',\n        perDis: 0\n      };\n      this.guestError = '';\n      this.showGuestModal = true;\n    }\n    saveNewClient() {\n      this.clientError = '';\n      if (!this.newClient.clientName || !this.newClient.address || !this.newClient.GSTIN || !this.newClient.phoneNum || !this.newClient.branch) {\n        this.clientError = 'Please fill required fields (name, address, GSTIN, phone, branch).';\n        return;\n      }\n      if (this.newClient.branch === 'All Branches') {\n        this.clientError = 'Select a specific branch before adding a client.';\n        return;\n      }\n      this.http.post('http://localhost:3000/api/clients/add', this.newClient).subscribe({\n        next: client => {\n          this.clientList = [client, ...this.clientList];\n          this.consignor = client.clientName;\n          this.onConsignorSelect(this.consignor);\n          this.showClientModal = false;\n        },\n        error: err => {\n          this.clientError = err?.error?.message || 'Failed to save client.';\n        }\n      });\n    }\n    saveEditedClient() {\n      this.editClientError = '';\n      if (!this.selectedEditClientId) {\n        this.editClientError = 'Select a client to edit.';\n        return;\n      }\n      const payload = {\n        deliveryLocations: (this.editClient.deliveryLocations || []).filter(d => d?.location)\n      };\n      this.http.put(`http://localhost:3000/api/clients/${this.selectedEditClientId}`, payload).subscribe({\n        next: () => {\n          this.showClientModal = false;\n        },\n        error: err => {\n          this.editClientError = err?.error?.message || 'Failed to update client.';\n        }\n      });\n    }\n    saveNewGuest() {\n      this.guestError = '';\n      if (!this.newGuest.guestName || !this.newGuest.address || !this.newGuest.phoneNum) {\n        this.guestError = 'Please fill required fields (name, address, phone).';\n        return;\n      }\n      this.http.post('http://localhost:3000/api/guests/add', this.newGuest).subscribe({\n        next: guest => {\n          this.guestList = [guest, ...this.guestList];\n          if (this.consignorTab === 'guest') {\n            this.consignor = guest.guestName;\n            this.onConsignorGuestSelect(this.consignor);\n          }\n          this.showGuestModal = false;\n        },\n        error: err => {\n          this.guestError = err?.error?.message || 'Failed to save guest.';\n        }\n      });\n    }\n    closeModals() {\n      this.showClientModal = false;\n      this.showGuestModal = false;\n    }\n    addClientProduct() {\n      this.newClient.products.push({\n        hsnNum: '',\n        productName: '',\n        ratePerNum: 0,\n        ratePerVolume: 0,\n        ratePerKg: 0\n      });\n    }\n    removeClientProduct(index) {\n      this.newClient.products.splice(index, 1);\n    }\n    addDeliveryLocation() {\n      this.newClient.deliveryLocations.push({\n        location: ''\n      });\n    }\n    removeDeliveryLocation(index) {\n      this.newClient.deliveryLocations.splice(index, 1);\n    }\n    static {\n      this.ɵfac = function NewShipmentComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || NewShipmentComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: NewShipmentComponent,\n        selectors: [[\"app-new-shipment\"]],\n        hostBindings: function NewShipmentComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"beforeunload\", function NewShipmentComponent_beforeunload_HostBindingHandler() {\n              return ctx.onBeforeUnload();\n            }, false, i0.ɵɵresolveWindow);\n          }\n        },\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 215,\n        vars: 55,\n        consts: [[1, \"page-shell\"], [1, \"page-header\"], [1, \"eyebrow\"], [1, \"subhead\"], [1, \"meta-stack\"], [1, \"chip-field\"], [\"type\", \"date\", 3, \"ngModelChange\", \"ngModel\"], [1, \"layout\"], [1, \"col\"], [1, \"card\"], [1, \"card-head\"], [1, \"grid-2\"], [\"readonly\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"placeholder\", \"Optional reference ID\", 3, \"ngModelChange\", \"ngModel\"], [1, \"pill\"], [1, \"grid-2\", \"party-grid\"], [1, \"panel\"], [1, \"panel-head\"], [1, \"tab-buttons\"], [3, \"click\"], [\"class\", \"panel-body\", 4, \"ngIf\"], [1, \"panel\", \"soft\"], [1, \"tab-buttons\", \"ghost\"], [\"class\", \"muted small-text\", 4, \"ngIf\"], [1, \"head-actions\"], [1, \"rate-unit\"], [3, \"ngModelChange\", \"ngModel\"], [\"value\", \"box\"], [\"value\", \"cm3\"], [\"value\", \"kg\"], [1, \"tiny-btn\", \"primary\", \"black\", 3, \"click\"], [\"class\", \"ewaybill\", 4, \"ngFor\", \"ngForOf\"], [1, \"inline-actions\", 2, \"margin-top\", \"8px\"], [1, \"muted\"], [3, \"ngModelChange\", \"ngModel\", \"disabled\"], [4, \"ngIf\"], [1, \"charges-grid\"], [\"type\", \"number\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"placeholder\", \"% Discount\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"readonly\", \"\", 3, \"ngModelChange\", \"ngModel\"], [1, \"action-bar\"], [1, \"summary\"], [1, \"action-buttons\"], [1, \"ghost\", 3, \"click\"], [1, \"primary\", 3, \"click\", \"disabled\"], [\"class\", \"modal-backdrop\", 4, \"ngIf\"], [1, \"panel-body\"], [1, \"inline-actions\"], [1, \"tiny-btn\", 3, \"click\"], [\"type\", \"search\", \"list\", \"consignor-client-list\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"id\", \"consignor-client-list\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [3, \"ngModelChange\", \"change\", \"ngModel\"], [\"type\", \"search\", \"list\", \"consignee-client-list\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"id\", \"consignee-client-list\"], [1, \"muted\", \"small-text\"], [1, \"ewaybill\"], [1, \"line-header\"], [1, \"icon-btn\", 3, \"click\"], [1, \"grid-3\", \"compact\"], [\"placeholder\", \"Customer Eway-bill No\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"invoice-block\", 4, \"ngFor\", \"ngForOf\"], [1, \"tiny-btn\", \"primary\", \"ghost\", 3, \"click\"], [1, \"invoice-block\"], [\"placeholder\", \"Customer INV No\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"placeholder\", \"Value\", 3, \"ngModelChange\", \"ngModel\"], [1, \"subsection\"], [1, \"subsection-title\"], [\"class\", \"product-row\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"compact-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-row\"], [1, \"compact-row\"], [\"type\", \"number\", \"placeholder\", \"Qty\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"placeholder\", \"Rate / Unit\", 1, \"rate-input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"modal-backdrop\"], [1, \"modal\"], [1, \"modal-head\"], [1, \"tab-buttons\", 2, \"margin-bottom\", \"12px\"], [1, \"grid-3\"], [\"placeholder\", \"City\", 3, \"ngModelChange\", \"ngModel\"], [\"placeholder\", \"State\", 3, \"ngModelChange\", \"ngModel\"], [\"placeholder\", \"PIN\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"inline-fields\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"modal-actions\"], [1, \"inline-fields\"], [\"placeholder\", \"Delivery Address\", 1, \"flex-1\", 3, \"ngModelChange\", \"ngModel\"], [1, \"error\"], [\"value\", \"\"], [3, \"click\", \"disabled\"], [\"readonly\", \"\", 3, \"ngModel\"]],\n        template: function NewShipmentComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\", 1)(2, \"div\")(3, \"p\", 2);\n            i0.ɵɵtext(4, \"Operations\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"h1\");\n            i0.ɵɵtext(6, \"New Shipment\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"p\", 3);\n            i0.ɵɵtext(8, \"Create and save a shipment with consignor/consignee, items, and charges.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"div\", 4)(10, \"div\", 5)(11, \"span\");\n            i0.ɵɵtext(12, \"Branch\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"strong\");\n            i0.ɵɵtext(14);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(15, \"div\", 5)(16, \"span\");\n            i0.ɵɵtext(17, \"Consignment No.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"strong\");\n            i0.ɵɵtext(19);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 5)(21, \"span\");\n            i0.ɵɵtext(22, \"Date\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"input\", 6);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_input_ngModelChange_23_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.date, $event) || (ctx.date = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(24, \"div\", 7)(25, \"div\", 8)(26, \"div\", 9)(27, \"div\", 10)(28, \"div\")(29, \"p\", 2);\n            i0.ɵɵtext(30, \"Shipment\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(31, \"h3\");\n            i0.ɵɵtext(32, \"Shipment Details\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(33, \"div\", 11)(34, \"label\");\n            i0.ɵɵtext(35, \"Consignment Number* \");\n            i0.ɵɵelementStart(36, \"input\", 12);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_input_ngModelChange_36_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.consignmentNumber, $event) || (ctx.consignmentNumber = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(37, \"label\");\n            i0.ɵɵtext(38, \"External Ref ID \");\n            i0.ɵɵelementStart(39, \"input\", 13);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_input_ngModelChange_39_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.externalRefId, $event) || (ctx.externalRefId = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(40, \"div\", 9)(41, \"div\", 10)(42, \"div\")(43, \"p\", 2);\n            i0.ɵɵtext(44, \"Parties\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(45, \"h3\");\n            i0.ɵɵtext(46, \"Sender & Receiver\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(47, \"div\", 14);\n            i0.ɵɵtext(48, \"Branch scoped\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(49, \"div\", 15)(50, \"div\", 16)(51, \"div\", 17)(52, \"h4\");\n            i0.ɵɵtext(53, \"Consignor (Sender)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(54, \"div\", 18)(55, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_55_listener() {\n              return ctx.consignorTab = \"consignor\";\n            });\n            i0.ɵɵtext(56, \"Client\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(57, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_57_listener() {\n              return ctx.consignorTab = \"guest\";\n            });\n            i0.ɵɵtext(58, \"Guest\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(59, NewShipmentComponent_div_59_Template, 11, 2, \"div\", 20)(60, NewShipmentComponent_div_60_Template, 10, 2, \"div\", 20);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(61, \"div\", 16)(62, \"div\", 17)(63, \"h4\");\n            i0.ɵɵtext(64, \"Consignee (Receiver)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(65, \"div\", 18)(66, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_66_listener() {\n              return ctx.consigneeTab = \"consignee\";\n            });\n            i0.ɵɵtext(67, \"Client\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(68, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_68_listener() {\n              return ctx.consigneeTab = \"guest\";\n            });\n            i0.ɵɵtext(69, \"Guest\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(70, NewShipmentComponent_div_70_Template, 11, 2, \"div\", 20)(71, NewShipmentComponent_div_71_Template, 10, 2, \"div\", 20);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(72, \"div\", 9)(73, \"div\", 10)(74, \"div\")(75, \"p\", 2);\n            i0.ɵɵtext(76, \"Addresses\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(77, \"h3\");\n            i0.ɵɵtext(78, \"Billing, Pickup & Delivery\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(79, \"div\", 11)(80, \"div\", 21)(81, \"div\", 17)(82, \"h4\");\n            i0.ɵɵtext(83, \"Billing\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(84, \"div\", 22)(85, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_85_listener() {\n              return ctx.billingType = \"consignor\";\n            });\n            i0.ɵɵtext(86, \"Use Consignor\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(87, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_87_listener() {\n              return ctx.billingType = \"different\";\n            });\n            i0.ɵɵtext(88, \"Different\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(89, NewShipmentComponent_div_89_Template, 13, 4, \"div\", 20)(90, NewShipmentComponent_div_90_Template, 2, 0, \"div\", 23);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(91, \"div\", 21)(92, \"div\", 17)(93, \"h4\");\n            i0.ɵɵtext(94, \"Pickup\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(95, \"div\", 22)(96, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_96_listener() {\n              return ctx.pickupType = \"consignor\";\n            });\n            i0.ɵɵtext(97, \"Use Consignor\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(98, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_98_listener() {\n              return ctx.pickupType = \"different\";\n            });\n            i0.ɵɵtext(99, \"Different\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(100, NewShipmentComponent_div_100_Template, 10, 3, \"div\", 20)(101, NewShipmentComponent_div_101_Template, 2, 0, \"div\", 23);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(102, \"div\", 21)(103, \"div\", 17)(104, \"h4\");\n            i0.ɵɵtext(105, \"Delivery\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(106, \"div\", 22)(107, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_107_listener() {\n              return ctx.deliveryType = \"consignee\";\n            });\n            i0.ɵɵtext(108, \"Use Consignee\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(109, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_109_listener() {\n              return ctx.deliveryType = \"different\";\n            });\n            i0.ɵɵtext(110, \"Different\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(111, NewShipmentComponent_div_111_Template, 11, 3, \"div\", 20)(112, NewShipmentComponent_div_112_Template, 2, 0, \"div\", 23);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(113, \"div\", 8)(114, \"div\", 9)(115, \"div\", 10)(116, \"div\")(117, \"p\", 2);\n            i0.ɵɵtext(118, \"Items\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(119, \"h3\");\n            i0.ɵɵtext(120, \"E-Waybills & Invoices\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(121, \"div\", 24)(122, \"div\", 25)(123, \"span\");\n            i0.ɵɵtext(124, \"Rate Unit\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(125, \"select\", 26);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_select_ngModelChange_125_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.rateUnit, $event) || (ctx.rateUnit = $event);\n              return $event;\n            });\n            i0.ɵɵelementStart(126, \"option\", 27);\n            i0.ɵɵtext(127, \"Rate / Box\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(128, \"option\", 28);\n            i0.ɵɵtext(129, \"Rate / cmA3\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(130, \"option\", 29);\n            i0.ɵɵtext(131, \"Rate / Kg\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(132, \"button\", 30);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_132_listener() {\n              return ctx.addEwaybill();\n            });\n            i0.ɵɵtext(133, \"+ E-Waybill\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(134, NewShipmentComponent_div_134_Template, 12, 4, \"div\", 31);\n            i0.ɵɵelementStart(135, \"div\", 32)(136, \"span\", 33);\n            i0.ɵɵtext(137, \"Need another e-waybill?\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(138, \"button\", 30);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_138_listener() {\n              return ctx.addEwaybill();\n            });\n            i0.ɵɵtext(139, \"+ E-Waybill\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(140, \"div\", 9)(141, \"div\", 10)(142, \"div\")(143, \"p\", 2);\n            i0.ɵɵtext(144, \"Money\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(145, \"h3\");\n            i0.ɵɵtext(146, \"Charges & Payment\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(147, \"div\", 11)(148, \"label\");\n            i0.ɵɵtext(149, \"Payment Mode \");\n            i0.ɵɵelementStart(150, \"select\", 34);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_select_ngModelChange_150_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.paymentMode, $event) || (ctx.paymentMode = $event);\n              return $event;\n            });\n            i0.ɵɵelementStart(151, \"option\");\n            i0.ɵɵtext(152, \"To Pay\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(153, NewShipmentComponent_option_153_Template, 2, 0, \"option\", 35);\n            i0.ɵɵelementStart(154, \"option\");\n            i0.ɵɵtext(155, \"Paid\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(156, \"label\");\n            i0.ɵɵtext(157, \"Shipment Status \");\n            i0.ɵɵelementStart(158, \"select\", 26);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_select_ngModelChange_158_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.shipmentStatus, $event) || (ctx.shipmentStatus = $event);\n              return $event;\n            });\n            i0.ɵɵelementStart(159, \"option\");\n            i0.ɵɵtext(160, \"Pending\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(161, \"option\");\n            i0.ɵɵtext(162, \"In Transit\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(163, \"option\");\n            i0.ɵɵtext(164, \"Delivered\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(165, \"option\");\n            i0.ɵɵtext(166, \"Cancelled\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(167, \"div\", 36)(168, \"label\");\n            i0.ɵɵtext(169, \"ODC \");\n            i0.ɵɵelementStart(170, \"input\", 37);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_input_ngModelChange_170_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.charges.odc, $event) || (ctx.charges.odc = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(171, \"label\");\n            i0.ɵɵtext(172, \"Unloading \");\n            i0.ɵɵelementStart(173, \"input\", 37);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_input_ngModelChange_173_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.charges.unloading, $event) || (ctx.charges.unloading = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(174, \"label\");\n            i0.ɵɵtext(175, \"Docket \");\n            i0.ɵɵelementStart(176, \"input\", 37);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_input_ngModelChange_176_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.charges.docket, $event) || (ctx.charges.docket = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(177, \"label\");\n            i0.ɵɵtext(178, \"Other \");\n            i0.ɵɵelementStart(179, \"input\", 37);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_input_ngModelChange_179_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.charges.other, $event) || (ctx.charges.other = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(180, \"label\");\n            i0.ɵɵtext(181, \"CCC \");\n            i0.ɵɵelementStart(182, \"input\", 37);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_input_ngModelChange_182_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.charges.ccc, $event) || (ctx.charges.ccc = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(183, \"label\");\n            i0.ɵɵtext(184, \"Discount (Consignor) \");\n            i0.ɵɵelementStart(185, \"input\", 38);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_input_ngModelChange_185_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.charges.consignorDiscount, $event) || (ctx.charges.consignorDiscount = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(186, \"label\");\n            i0.ɵɵtext(187, \"Final Amount \");\n            i0.ɵɵelementStart(188, \"input\", 39);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function NewShipmentComponent_Template_input_ngModelChange_188_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.finalAmount, $event) || (ctx.finalAmount = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()()()()();\n            i0.ɵɵelementStart(189, \"div\", 40)(190, \"div\", 41)(191, \"div\")(192, \"span\", 2);\n            i0.ɵɵtext(193, \"Consignment\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(194, \"strong\");\n            i0.ɵɵtext(195);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(196, \"div\")(197, \"span\", 2);\n            i0.ɵɵtext(198, \"Branch\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(199, \"strong\");\n            i0.ɵɵtext(200);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(201, \"div\")(202, \"span\", 2);\n            i0.ɵɵtext(203, \"Final Amount\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(204, \"strong\");\n            i0.ɵɵtext(205);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(206, \"div\", 42)(207, \"button\", 43);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_207_listener() {\n              return ctx.resetForm();\n            });\n            i0.ɵɵtext(208, \"Reset\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(209, \"button\", 43);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_209_listener() {\n              return ctx.calculateFinalAmount();\n            });\n            i0.ɵɵtext(210, \"Calculate\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(211, \"button\", 44);\n            i0.ɵɵlistener(\"click\", function NewShipmentComponent_Template_button_click_211_listener() {\n              return ctx.saveShipment();\n            });\n            i0.ɵɵtext(212);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵtemplate(213, NewShipmentComponent_div_213_Template, 14, 6, \"div\", 45)(214, NewShipmentComponent_div_214_Template, 29, 8, \"div\", 45);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(14);\n            i0.ɵɵtextInterpolate(ctx.branch || \"All Branches\");\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.consignmentNumber);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.date);\n            i0.ɵɵadvance(13);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.consignmentNumber);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.externalRefId);\n            i0.ɵɵadvance(16);\n            i0.ɵɵclassProp(\"active\", ctx.consignorTab === \"consignor\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.consignorTab === \"guest\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.consignorTab === \"consignor\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.consignorTab === \"guest\");\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"active\", ctx.consigneeTab === \"consignee\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.consigneeTab === \"guest\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.consigneeTab === \"consignee\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.consigneeTab === \"guest\");\n            i0.ɵɵadvance(14);\n            i0.ɵɵclassProp(\"active\", ctx.billingType === \"consignor\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.billingType === \"different\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.billingType === \"different\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.billingType === \"consignor\");\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"active\", ctx.pickupType === \"consignor\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.pickupType === \"different\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.pickupType === \"different\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.pickupType === \"consignor\");\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"active\", ctx.deliveryType === \"consignee\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.deliveryType === \"different\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.deliveryType === \"different\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.deliveryType === \"consignee\");\n            i0.ɵɵadvance(13);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.rateUnit);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngForOf\", ctx.ewaybills);\n            i0.ɵɵadvance(16);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.paymentMode);\n            i0.ɵɵproperty(\"disabled\", !ctx.isPaymentModeEnabled());\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.allowAccountCredit);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.shipmentStatus);\n            i0.ɵɵadvance(12);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.charges.odc);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.charges.unloading);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.charges.docket);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.charges.other);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.charges.ccc);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.charges.consignorDiscount);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.finalAmount);\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate(ctx.consignmentNumber);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.branch);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.finalAmount || 0);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"disabled\", ctx.isSaving);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", ctx.isSaving ? \"Saving...\" : \"Save\", \" \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showClientModal);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showGuestModal);\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, FormsModule, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n        styles: [\"[_ngcontent-%COMP%]:root{--bg: #f6f8fb;--card: #ffffff;--border: #e5e7eb;--text: #000000;--muted: #000000;--primary: #2563eb;--primary-strong: #1e3a8a}.page-shell[_ngcontent-%COMP%]{max-width:1280px;margin:0 auto 72px;padding:24px;background:var(--bg);color:var(--text)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:16px;align-items:flex-start;margin-bottom:16px}.eyebrow[_ngcontent-%COMP%]{margin:0;font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:var(--muted)}h1[_ngcontent-%COMP%]{margin:4px 0;font-size:26px}.subhead[_ngcontent-%COMP%]{margin:0;color:var(--muted);font-size:14px}.meta-stack[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;flex-wrap:wrap}.chip-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:10px 12px;background:#eef2ff;border:1px solid #e0e7ff;border-radius:10px;min-width:160px}.chip-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:var(--muted)}.layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.1fr .9fr;gap:16px;align-items:start}.card[_ngcontent-%COMP%]{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:16px;box-shadow:0 4px 16px #0f172a0d}.card-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:12px}.head-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.rate-unit[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;font-size:12px;font-weight:600;color:var(--muted)}.rate-unit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 8px;font-size:12px}.pill[_ngcontent-%COMP%]{padding:6px 10px;border-radius:20px;background:#e0f2fe;color:#0ea5e9;font-weight:600;font-size:12px;white-space:nowrap}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;font-weight:600;font-size:13px;color:#1f2937}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px;border:1px solid var(--border);border-radius:8px;font-size:14px;color:var(--text);background:#fff}textarea[_ngcontent-%COMP%]{min-height:70px;resize:vertical}.tab-buttons[_ngcontent-%COMP%]{display:inline-flex;background:#e5e7eb;border-radius:8px;padding:4px;gap:4px}.tab-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;padding:6px 12px;border-radius:6px;cursor:pointer;color:var(--muted);font-weight:600}.tab-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:var(--primary-strong);box-shadow:0 2px 8px #0f172a1f}.tab-buttons.ghost[_ngcontent-%COMP%]{background:#f8fafc}.party-grid[_ngcontent-%COMP%]{gap:12px}.panel[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:10px;padding:12px;background:#fff;display:flex;flex-direction:column;gap:8px}.panel.soft[_ngcontent-%COMP%]{background:#f8fafc}.panel-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px;align-items:center}.panel-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.inline-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px}.muted[_ngcontent-%COMP%]{color:var(--muted)}.muted[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text)}.small-text[_ngcontent-%COMP%]{font-size:12px}.tiny-btn[_ngcontent-%COMP%]{padding:8px 10px;border-radius:8px;border:1px solid var(--border);background:#fff;cursor:pointer;font-weight:600}.tiny-btn.primary[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border-color:var(--primary)}.tiny-btn.primary.black[_ngcontent-%COMP%]{background:#000;border-color:#000;color:#fff}.tiny-btn.primary.ghost[_ngcontent-%COMP%]{background:#eef2ff;color:var(--primary-strong)}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border);width:28px;height:28px;border-radius:6px;cursor:pointer;color:var(--muted)}.ewaybill[_ngcontent-%COMP%]{border:1px dashed var(--border);border-radius:12px;padding:12px;margin-bottom:12px;background:#f8fafc}.invoice-block[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border);border-radius:10px;padding:10px;margin-top:10px;display:flex;flex-direction:column;gap:10px}.line-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;justify-content:space-between;flex-wrap:wrap}.grid-3.compact[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}.compact-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 110px auto;gap:8px;align-items:center}.subsection[_ngcontent-%COMP%]{margin-top:8px;border:1px dashed var(--border);border-radius:10px;padding:10px;background:#fff}.subsection-title[_ngcontent-%COMP%]{font-weight:600;color:var(--muted);margin-bottom:8px}.charges-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;margin-top:12px}.action-bar[_ngcontent-%COMP%]{position:sticky;bottom:0;display:flex;justify-content:space-between;align-items:center;gap:12px;padding:12px 16px;background:#fffffff2;border:1px solid var(--border);border-radius:12px;box-shadow:0 -4px 16px #0f172a14;margin-top:12px}.summary[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.summary[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}button.primary[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border:1px solid var(--primary);padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:700}button.ghost[_ngcontent-%COMP%]{background:#f8fafc;color:var(--text);border:1px solid var(--border);padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:700}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;display:flex;align-items:center;justify-content:center;z-index:2000;padding:16px}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;width:min(520px,100%);box-shadow:0 10px 40px #00000029;display:flex;flex-direction:column;gap:10px;max-height:90vh;overflow-y:auto}.modal-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px}.modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:70px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px}.error[_ngcontent-%COMP%]{color:#b91c1c;font-size:12px}.inline-fields[_ngcontent-%COMP%]{display:flex;gap:8px;flex:1;min-width:260px}.inline-fields[_ngcontent-%COMP%]   .flex-1[_ngcontent-%COMP%]{flex:1;min-width:160px}.product-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.rate-input[_ngcontent-%COMP%]{max-width:160px}@media (max-width: 1080px){.layout[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 720px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}.grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.meta-stack[_ngcontent-%COMP%], .action-bar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}@media (max-width: 520px){.grid-3[_ngcontent-%COMP%]{grid-template-columns:1fr}.inline-fields[_ngcontent-%COMP%]{flex-direction:column}.compact-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}\"]\n      });\n    }\n  }\n  return NewShipmentComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}