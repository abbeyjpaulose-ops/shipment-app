{"ast":null,"code":"import { HttpClientModule } from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ProfileComponent_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"img\", 22);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµproperty(\"src\", ctx_r0.profile.photo, i0.ÉµÉµsanitizeUrl);\n  }\n}\nfunction ProfileComponent_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\");\n    i0.ÉµÉµtext(1, \"No Photo\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction ProfileComponent_div_63_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 33);\n    i0.ÉµÉµtext(1, \"Loading audit logs...\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction ProfileComponent_div_63_div_26_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"tr\")(1, \"td\");\n    i0.ÉµÉµtext(2);\n    i0.ÉµÉµpipe(3, \"date\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"td\");\n    i0.ÉµÉµtext(5);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(6, \"td\");\n    i0.ÉµÉµtext(7);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(8, \"td\")(9, \"pre\");\n    i0.ÉµÉµtext(10);\n    i0.ÉµÉµpipe(11, \"json\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(12, \"td\")(13, \"pre\");\n    i0.ÉµÉµtext(14);\n    i0.ÉµÉµpipe(15, \"json\");\n    i0.ÉµÉµelementEnd()()();\n  }\n  if (rf & 2) {\n    const log_r4 = ctx.$implicit;\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(i0.ÉµÉµpipeBind2(3, 5, log_r4.createdAt, \"yyyy-MM-dd HH:mm\"));\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtextInterpolate(log_r4.action);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(log_r4.actorUsername || log_r4.actorEmail);\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtextInterpolate(i0.ÉµÉµpipeBind1(11, 8, log_r4.before));\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµtextInterpolate(i0.ÉµÉµpipeBind1(15, 10, log_r4.after || log_r4.metadata));\n  }\n}\nfunction ProfileComponent_div_63_div_26_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"tr\")(1, \"td\", 37);\n    i0.ÉµÉµtext(2, \"No audit logs found.\");\n    i0.ÉµÉµelementEnd()();\n  }\n}\nfunction ProfileComponent_div_63_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 34)(1, \"div\", 35)(2, \"button\", 30);\n    i0.ÉµÉµlistener(\"click\", function ProfileComponent_div_63_div_26_Template_button_click_2_listener() {\n      i0.ÉµÉµrestoreView(_r3);\n      const ctx_r0 = i0.ÉµÉµnextContext(2);\n      return i0.ÉµÉµresetView(ctx_r0.changeAuditPage(-1));\n    });\n    i0.ÉµÉµtext(3, \"Prev\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"span\");\n    i0.ÉµÉµtext(5);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(6, \"button\", 30);\n    i0.ÉµÉµlistener(\"click\", function ProfileComponent_div_63_div_26_Template_button_click_6_listener() {\n      i0.ÉµÉµrestoreView(_r3);\n      const ctx_r0 = i0.ÉµÉµnextContext(2);\n      return i0.ÉµÉµresetView(ctx_r0.changeAuditPage(1));\n    });\n    i0.ÉµÉµtext(7, \"Next\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(8, \"span\");\n    i0.ÉµÉµtext(9);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(10, \"table\")(11, \"thead\")(12, \"tr\")(13, \"th\");\n    i0.ÉµÉµtext(14, \"Time\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(15, \"th\");\n    i0.ÉµÉµtext(16, \"Action\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(17, \"th\");\n    i0.ÉµÉµtext(18, \"User\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(19, \"th\");\n    i0.ÉµÉµtext(20, \"Before\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(21, \"th\");\n    i0.ÉµÉµtext(22, \"After / Meta\");\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµelementStart(23, \"tbody\");\n    i0.ÉµÉµtemplate(24, ProfileComponent_div_63_div_26_tr_24_Template, 16, 12, \"tr\", 36)(25, ProfileComponent_div_63_div_26_tr_25_Template, 3, 0, \"tr\", 5);\n    i0.ÉµÉµelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext(2);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"disabled\", ctx_r0.auditPage <= 1);\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtextInterpolate2(\"Page \", ctx_r0.auditPage, \" of \", ctx_r0.Math.max(1, ctx_r0.Math.ceil(ctx_r0.auditTotal / (ctx_r0.auditFilters.limit || 100))), \"\");\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"disabled\", ctx_r0.auditPage >= ctx_r0.Math.ceil(ctx_r0.auditTotal / (ctx_r0.auditFilters.limit || 100)));\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtextInterpolate1(\"Total: \", ctx_r0.auditTotal, \"\");\n    i0.ÉµÉµadvance(15);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r0.auditLogs);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", !ctx_r0.auditLogs.length);\n  }\n}\nfunction ProfileComponent_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 23)(1, \"h3\");\n    i0.ÉµÉµtext(2, \"Audit Logs\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(3, \"div\", 24)(4, \"label\");\n    i0.ÉµÉµtext(5, \"From \");\n    i0.ÉµÉµelementStart(6, \"input\", 25);\n    i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_div_63_Template_input_ngModelChange_6_listener($event) {\n      i0.ÉµÉµrestoreView(_r2);\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      i0.ÉµÉµtwoWayBindingSet(ctx_r0.auditFilters.startDate, $event) || (ctx_r0.auditFilters.startDate = $event);\n      return i0.ÉµÉµresetView($event);\n    });\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(7, \"label\");\n    i0.ÉµÉµtext(8, \"To \");\n    i0.ÉµÉµelementStart(9, \"input\", 25);\n    i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_div_63_Template_input_ngModelChange_9_listener($event) {\n      i0.ÉµÉµrestoreView(_r2);\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      i0.ÉµÉµtwoWayBindingSet(ctx_r0.auditFilters.endDate, $event) || (ctx_r0.auditFilters.endDate = $event);\n      return i0.ÉµÉµresetView($event);\n    });\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(10, \"label\");\n    i0.ÉµÉµtext(11, \"Action \");\n    i0.ÉµÉµelementStart(12, \"input\", 26);\n    i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_div_63_Template_input_ngModelChange_12_listener($event) {\n      i0.ÉµÉµrestoreView(_r2);\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      i0.ÉµÉµtwoWayBindingSet(ctx_r0.auditFilters.action, $event) || (ctx_r0.auditFilters.action = $event);\n      return i0.ÉµÉµresetView($event);\n    });\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(13, \"label\");\n    i0.ÉµÉµtext(14, \"User \");\n    i0.ÉµÉµelementStart(15, \"input\", 27);\n    i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_div_63_Template_input_ngModelChange_15_listener($event) {\n      i0.ÉµÉµrestoreView(_r2);\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      i0.ÉµÉµtwoWayBindingSet(ctx_r0.auditFilters.user, $event) || (ctx_r0.auditFilters.user = $event);\n      return i0.ÉµÉµresetView($event);\n    });\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(16, \"label\");\n    i0.ÉµÉµtext(17, \"Limit \");\n    i0.ÉµÉµelementStart(18, \"input\", 28);\n    i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_div_63_Template_input_ngModelChange_18_listener($event) {\n      i0.ÉµÉµrestoreView(_r2);\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      i0.ÉµÉµtwoWayBindingSet(ctx_r0.auditFilters.limit, $event) || (ctx_r0.auditFilters.limit = $event);\n      return i0.ÉµÉµresetView($event);\n    });\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(19, \"button\", 29);\n    i0.ÉµÉµlistener(\"click\", function ProfileComponent_div_63_Template_button_click_19_listener() {\n      i0.ÉµÉµrestoreView(_r2);\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      ctx_r0.auditPage = 1;\n      return i0.ÉµÉµresetView(ctx_r0.loadAuditLogs());\n    });\n    i0.ÉµÉµtext(20, \"Load Logs\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(21, \"button\", 30);\n    i0.ÉµÉµlistener(\"click\", function ProfileComponent_div_63_Template_button_click_21_listener() {\n      i0.ÉµÉµrestoreView(_r2);\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r0.exportAuditLogsJson());\n    });\n    i0.ÉµÉµtext(22, \"Export JSON\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(23, \"button\", 30);\n    i0.ÉµÉµlistener(\"click\", function ProfileComponent_div_63_Template_button_click_23_listener() {\n      i0.ÉµÉµrestoreView(_r2);\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r0.exportAuditLogsCsv());\n    });\n    i0.ÉµÉµtext(24, \"Export CSV\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµtemplate(25, ProfileComponent_div_63_div_25_Template, 2, 0, \"div\", 31)(26, ProfileComponent_div_63_div_26_Template, 26, 7, \"div\", 32);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(6);\n    i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx_r0.auditFilters.startDate);\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx_r0.auditFilters.endDate);\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx_r0.auditFilters.action);\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx_r0.auditFilters.user);\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx_r0.auditFilters.limit);\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµproperty(\"disabled\", !ctx_r0.auditLogs.length);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"disabled\", !ctx_r0.auditLogs.length);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r0.auditLoading);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", !ctx_r0.auditLoading);\n  }\n}\nexport let ProfileComponent = /*#__PURE__*/(() => {\n  class ProfileComponent {\n    constructor(http) {\n      this.http = http;\n      this.profile = {\n        name: '',\n        photo: '',\n        address: '',\n        company: '',\n        mobile: '',\n        email: '',\n        role: '',\n        businessType: '',\n        pricePerNumber: 0,\n        pricePerKg: 0,\n        pricePerArea: 0\n      };\n      this.auditLogs = [];\n      this.auditLoading = false;\n      this.auditFilters = {\n        startDate: '',\n        endDate: '',\n        action: '',\n        user: '',\n        limit: '100'\n      };\n      this.auditPage = 1;\n      this.auditTotal = 0;\n    }\n    ngOnInit() {\n      this.loadProfile();\n    }\n    loadProfile() {\n      const email = localStorage.getItem('email'); // set during login\n      const username = localStorage.getItem('username'); // set during login\n      this.http.get(`http://localhost:3000/api/profile?user=${username}&email=${email}`).subscribe({\n        next: data => {\n          this.profile = data[0] || this.profile;\n          console.log(\"Profile loaded:\", this.profile);\n        },\n        error: err => console.error(\"Error loading products:\", err)\n      });\n    }\n    onFileSelected(event) {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.profile.photo = reader.result;\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n    saveProfile() {\n      console.log('ðŸ“¤ Sending profile data:', this.profile);\n      this.http.post('http://localhost:3000/api/profile/save', this.profile, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).subscribe({\n        next: res => {\n          console.log('âœ… Profile saved', res);\n          alert('Profile saved successfully!');\n        },\n        error: err => {\n          console.error('âŒ Error saving profile:', err);\n          alert('Error: ' + err.error.message);\n        }\n      });\n    }\n    backfillBusinessType() {\n      const ok = window.confirm('Backfill business type for all profiles?');\n      if (!ok) return;\n      this.http.post('http://localhost:3000/api/profile/migrateBusinessType', {}).subscribe({\n        next: res => {\n          console.log('Profile businessType backfilled', res);\n          alert('Business type backfilled for profiles.');\n          this.loadProfile();\n        },\n        error: err => {\n          console.error('Error backfilling businessType:', err);\n          alert('Error: ' + (err.error?.message || 'Backfill failed'));\n        }\n      });\n    }\n    loadAuditLogs() {\n      if (this.profile?.role !== 'admin') return;\n      this.auditLoading = true;\n      this.http.get('http://localhost:3000/api/audit-logs', {\n        params: {\n          startDate: this.auditFilters.startDate || '',\n          endDate: this.auditFilters.endDate || '',\n          action: this.auditFilters.action || '',\n          user: this.auditFilters.user || '',\n          limit: this.auditFilters.limit || '100',\n          page: String(this.auditPage || 1)\n        }\n      }).subscribe({\n        next: res => {\n          this.auditLogs = Array.isArray(res?.logs) ? res.logs : [];\n          this.auditTotal = Number(res?.total) || 0;\n          this.auditPage = Number(res?.page) || this.auditPage;\n          this.auditLoading = false;\n        },\n        error: err => {\n          console.error('Error loading audit logs:', err);\n          this.auditLogs = [];\n          this.auditLoading = false;\n        }\n      });\n    }\n    changeAuditPage(delta) {\n      const limitNum = Number(this.auditFilters.limit) || 100;\n      const totalPages = Math.max(1, Math.ceil(this.auditTotal / limitNum));\n      const next = Math.min(totalPages, Math.max(1, (this.auditPage || 1) + delta));\n      if (next === this.auditPage) return;\n      this.auditPage = next;\n      this.loadAuditLogs();\n    }\n    exportAuditLogsJson() {\n      const content = JSON.stringify(this.auditLogs || [], null, 2);\n      this.downloadBlob(content, 'audit-logs.json', 'application/json');\n    }\n    exportAuditLogsCsv() {\n      const rows = (this.auditLogs || []).map(log => ({\n        time: log.createdAt || '',\n        action: log.action || '',\n        user: log.actorUsername || log.actorEmail || '',\n        before: JSON.stringify(log.before || {}),\n        after: JSON.stringify(log.after || log.metadata || {})\n      }));\n      const header = ['time', 'action', 'user', 'before', 'after'];\n      const csv = [header.join(',')].concat(rows.map(r => header.map(h => this.escapeCsv(String(r[h] || ''))).join(','))).join('\\n');\n      this.downloadBlob(csv, 'audit-logs.csv', 'text/csv');\n    }\n    escapeCsv(value) {\n      const escaped = value.replace(/\\\"/g, '\"\"');\n      if (/[\\\",\\n]/.test(escaped)) return `\"${escaped}\"`;\n      return escaped;\n    }\n    downloadBlob(content, filename, type) {\n      const blob = new Blob([content], {\n        type\n      });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = filename;\n      link.click();\n      URL.revokeObjectURL(url);\n    }\n    clearProfile() {\n      this.profile = {\n        name: '',\n        address: '',\n        company: '',\n        mobile: '',\n        //email: localStorage.getItem('email')|| '', \n        role: '',\n        photo: '',\n        businessType: ''\n        //username: localStorage.getItem('username')\n      };\n      console.log('Profile cleared locally.');\n    }\n    static {\n      this.Éµfac = function ProfileComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ProfileComponent)(i0.ÉµÉµdirectiveInject(i1.HttpClient));\n      };\n    }\n    static {\n      this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n        type: ProfileComponent,\n        selectors: [[\"app-profile\"]],\n        standalone: true,\n        features: [i0.ÉµÉµStandaloneFeature],\n        decls: 71,\n        vars: 16,\n        consts: [[1, \"profile-container\"], [1, \"profile-main\"], [1, \"photo-section\"], [1, \"photo-frame\"], [\"alt\", \"Profile Photo\", 3, \"src\", 4, \"ngIf\"], [4, \"ngIf\"], [\"type\", \"file\", 3, \"change\"], [1, \"form-section\"], [1, \"form-row\"], [\"placeholder\", \"Enter address\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Enter company name\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Enter mobile number\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"radio\", \"value\", \"5\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"radio\", \"value\", \"12\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"radio\", \"value\", \"18\", 3, \"ngModelChange\", \"ngModel\"], [1, \"pricing-section\"], [1, \"grid-3\"], [\"type\", \"number\", \"placeholder\", \"\\u20B9\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"audit-section\", 4, \"ngIf\"], [1, \"button-section\"], [3, \"click\"], [3, \"click\", \"disabled\"], [\"alt\", \"Profile Photo\", 3, \"src\"], [1, \"audit-section\"], [1, \"audit-filters\"], [\"type\", \"date\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"businessType\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"username or email\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"500\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"button\", 3, \"click\"], [\"type\", \"button\", 3, \"click\", \"disabled\"], [\"class\", \"audit-status\", 4, \"ngIf\"], [\"class\", \"audit-table\", 4, \"ngIf\"], [1, \"audit-status\"], [1, \"audit-table\"], [1, \"audit-pagination\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"5\", 1, \"empty\"]],\n        template: function ProfileComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n            i0.ÉµÉµtemplate(4, ProfileComponent_img_4_Template, 1, 1, \"img\", 4)(5, ProfileComponent_span_5_Template, 2, 0, \"span\", 5);\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(6, \"input\", 6);\n            i0.ÉµÉµlistener(\"change\", function ProfileComponent_Template_input_change_6_listener($event) {\n              return ctx.onFileSelected($event);\n            });\n            i0.ÉµÉµelementEnd()();\n            i0.ÉµÉµelementStart(7, \"div\", 7)(8, \"div\", 8)(9, \"label\");\n            i0.ÉµÉµtext(10, \"Name:\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(11, \"span\");\n            i0.ÉµÉµtext(12);\n            i0.ÉµÉµelementEnd()();\n            i0.ÉµÉµelementStart(13, \"div\", 8)(14, \"label\");\n            i0.ÉµÉµtext(15, \"Address:\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(16, \"textarea\", 9);\n            i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_Template_textarea_ngModelChange_16_listener($event) {\n              i0.ÉµÉµtwoWayBindingSet(ctx.profile.address, $event) || (ctx.profile.address = $event);\n              return $event;\n            });\n            i0.ÉµÉµelementEnd()();\n            i0.ÉµÉµelementStart(17, \"div\", 8)(18, \"label\");\n            i0.ÉµÉµtext(19, \"Company Name:\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(20, \"input\", 10);\n            i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_Template_input_ngModelChange_20_listener($event) {\n              i0.ÉµÉµtwoWayBindingSet(ctx.profile.company, $event) || (ctx.profile.company = $event);\n              return $event;\n            });\n            i0.ÉµÉµelementEnd()();\n            i0.ÉµÉµelementStart(21, \"div\", 8)(22, \"label\");\n            i0.ÉµÉµtext(23, \"Mobile Number:\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(24, \"input\", 11);\n            i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_Template_input_ngModelChange_24_listener($event) {\n              i0.ÉµÉµtwoWayBindingSet(ctx.profile.mobile, $event) || (ctx.profile.mobile = $event);\n              return $event;\n            });\n            i0.ÉµÉµelementEnd()();\n            i0.ÉµÉµelementStart(25, \"div\", 8)(26, \"label\");\n            i0.ÉµÉµtext(27, \"Email:\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(28, \"span\");\n            i0.ÉµÉµtext(29);\n            i0.ÉµÉµelementEnd()();\n            i0.ÉµÉµelementStart(30, \"div\", 8)(31, \"label\");\n            i0.ÉµÉµtext(32, \"Role:\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(33, \"span\");\n            i0.ÉµÉµtext(34);\n            i0.ÉµÉµelementEnd()()()();\n            i0.ÉµÉµelementStart(35, \"div\", 8)(36, \"label\");\n            i0.ÉµÉµtext(37, \"Type of Business:\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(38, \"div\")(39, \"label\")(40, \"input\", 12);\n            i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_Template_input_ngModelChange_40_listener($event) {\n              i0.ÉµÉµtwoWayBindingSet(ctx.profile.businessType, $event) || (ctx.profile.businessType = $event);\n              return $event;\n            });\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµtext(41, \" Goods Transport Agency (GTA) - 5% \");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(42, \"label\")(43, \"input\", 13);\n            i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_Template_input_ngModelChange_43_listener($event) {\n              i0.ÉµÉµtwoWayBindingSet(ctx.profile.businessType, $event) || (ctx.profile.businessType = $event);\n              return $event;\n            });\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµtext(44, \" Parcel - 12% \");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(45, \"label\")(46, \"input\", 14);\n            i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_Template_input_ngModelChange_46_listener($event) {\n              i0.ÉµÉµtwoWayBindingSet(ctx.profile.businessType, $event) || (ctx.profile.businessType = $event);\n              return $event;\n            });\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµtext(47, \" Courier - 18% \");\n            i0.ÉµÉµelementEnd()()();\n            i0.ÉµÉµelementStart(48, \"div\", 15)(49, \"h3\");\n            i0.ÉµÉµtext(50, \"Standard Pricing\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(51, \"div\", 16)(52, \"label\");\n            i0.ÉµÉµtext(53, \"Price per box (\\u20B9) \");\n            i0.ÉµÉµelementStart(54, \"input\", 17);\n            i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_Template_input_ngModelChange_54_listener($event) {\n              i0.ÉµÉµtwoWayBindingSet(ctx.profile.pricePerNumber, $event) || (ctx.profile.pricePerNumber = $event);\n              return $event;\n            });\n            i0.ÉµÉµelementEnd()();\n            i0.ÉµÉµelement(55, \"br\");\n            i0.ÉµÉµelementStart(56, \"label\");\n            i0.ÉµÉµtext(57, \"Price per Kilogram (\\u20B9) \");\n            i0.ÉµÉµelementStart(58, \"input\", 17);\n            i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_Template_input_ngModelChange_58_listener($event) {\n              i0.ÉµÉµtwoWayBindingSet(ctx.profile.pricePerKg, $event) || (ctx.profile.pricePerKg = $event);\n              return $event;\n            });\n            i0.ÉµÉµelementEnd()();\n            i0.ÉµÉµelement(59, \"br\");\n            i0.ÉµÉµelementStart(60, \"label\");\n            i0.ÉµÉµtext(61, \"Price per Area (cm\\u00B3 / sq units) (\\u20B9) \");\n            i0.ÉµÉµelementStart(62, \"input\", 17);\n            i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ProfileComponent_Template_input_ngModelChange_62_listener($event) {\n              i0.ÉµÉµtwoWayBindingSet(ctx.profile.pricePerArea, $event) || (ctx.profile.pricePerArea = $event);\n              return $event;\n            });\n            i0.ÉµÉµelementEnd()()()();\n            i0.ÉµÉµtemplate(63, ProfileComponent_div_63_Template, 27, 9, \"div\", 18);\n            i0.ÉµÉµelementStart(64, \"div\", 19)(65, \"button\", 20);\n            i0.ÉµÉµlistener(\"click\", function ProfileComponent_Template_button_click_65_listener() {\n              return ctx.saveProfile();\n            });\n            i0.ÉµÉµtext(66, \"Save\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(67, \"button\", 21);\n            i0.ÉµÉµlistener(\"click\", function ProfileComponent_Template_button_click_67_listener() {\n              return ctx.backfillBusinessType();\n            });\n            i0.ÉµÉµtext(68, \"Backfill Business Type\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(69, \"button\", 20);\n            i0.ÉµÉµlistener(\"click\", function ProfileComponent_Template_button_click_69_listener() {\n              return ctx.clearProfile();\n            });\n            i0.ÉµÉµtext(70, \"Clear\");\n            i0.ÉµÉµelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ÉµÉµadvance(4);\n            i0.ÉµÉµproperty(\"ngIf\", ctx.profile.photo);\n            i0.ÉµÉµadvance();\n            i0.ÉµÉµproperty(\"ngIf\", !ctx.profile.photo);\n            i0.ÉµÉµadvance(7);\n            i0.ÉµÉµtextInterpolate(ctx.profile.name);\n            i0.ÉµÉµadvance(4);\n            i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx.profile.address);\n            i0.ÉµÉµadvance(4);\n            i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx.profile.company);\n            i0.ÉµÉµadvance(4);\n            i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx.profile.mobile);\n            i0.ÉµÉµadvance(5);\n            i0.ÉµÉµtextInterpolate(ctx.profile.email);\n            i0.ÉµÉµadvance(5);\n            i0.ÉµÉµtextInterpolate(ctx.profile.role);\n            i0.ÉµÉµadvance(6);\n            i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx.profile.businessType);\n            i0.ÉµÉµadvance(3);\n            i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx.profile.businessType);\n            i0.ÉµÉµadvance(3);\n            i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx.profile.businessType);\n            i0.ÉµÉµadvance(8);\n            i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx.profile.pricePerNumber);\n            i0.ÉµÉµadvance(4);\n            i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx.profile.pricePerKg);\n            i0.ÉµÉµadvance(4);\n            i0.ÉµÉµtwoWayProperty(\"ngModel\", ctx.profile.pricePerArea);\n            i0.ÉµÉµadvance();\n            i0.ÉµÉµproperty(\"ngIf\", ctx.profile.role === \"admin\");\n            i0.ÉµÉµadvance(4);\n            i0.ÉµÉµproperty(\"disabled\", ctx.profile.role !== \"admin\");\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.JsonPipe, i2.DatePipe, FormsModule, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.RadioControlValueAccessor, i3.NgControlStatus, i3.MinValidator, i3.MaxValidator, i3.NgModel, HttpClientModule],\n        styles: [\".profile-container[_ngcontent-%COMP%]{max-width:900px;margin:auto;background:#f9f9f9;padding:20px;border-radius:10px;display:flex;flex-direction:column;gap:20px}.profile-main[_ngcontent-%COMP%]{display:flex;gap:30px;align-items:flex-start}.photo-section[_ngcontent-%COMP%]{flex:1;text-align:center}.photo-frame[_ngcontent-%COMP%]{width:150px;height:150px;border:2px solid #ccc;border-radius:50%;margin:auto;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#eee}.photo-frame[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.photo-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px}.form-section[_ngcontent-%COMP%]{flex:2;display:grid;grid-template-columns:1fr 2fr;gap:15px 20px}.form-row[_ngcontent-%COMP%]{display:contents}.form-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;align-self:center}.form-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px;border-radius:5px;border:1px solid #ccc;width:100%}.button-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px}.button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;cursor:pointer}.button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.audit-section[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:10px;padding:16px}.audit-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px 14px;align-items:flex-end;margin-bottom:12px}.audit-filters[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;font-weight:600;font-size:13px}.audit-filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:6px 8px;border-radius:6px;border:1px solid #cbd5f5;min-width:160px}.audit-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 14px;border-radius:8px;border:1px solid #2c3e50;background:#2c3e50;color:#fff;cursor:pointer}.audit-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1b2836}.audit-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.audit-pagination[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:10px;margin-bottom:10px;font-size:13px}.audit-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #2c3e50;background:#fff;cursor:pointer}.audit-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.audit-status[_ngcontent-%COMP%]{padding:10px;background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px}.audit-table[_ngcontent-%COMP%]{overflow:auto}.audit-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.audit-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .audit-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0;padding:8px 10px;text-align:left;vertical-align:top}.audit-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc}.audit-table[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;white-space:pre-wrap;font-size:12px}.button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#2c3e50;color:#fff}.button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#e74c3c;color:#fff}\"]\n      });\n    }\n  }\n  return ProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}