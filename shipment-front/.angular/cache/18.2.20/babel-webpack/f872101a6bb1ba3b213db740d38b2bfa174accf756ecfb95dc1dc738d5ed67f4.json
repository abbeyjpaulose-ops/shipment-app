{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet HubComponent = class HubComponent {\n  constructor(http) {\n    this.http = http;\n    this.hubs = [];\n    this.newHub = {\n      companyName: '',\n      address: '',\n      city: '',\n      state: '',\n      pincode: '',\n      gstin: '',\n      perRev: '',\n      status: 'active'\n    };\n    this.username = localStorage.getItem('username');\n    this.email = localStorage.getItem('usernameEmail');\n    this.editingHub = null;\n  }\n  ngOnInit() {\n    this.loadHubs();\n  }\n  loadHubs() {\n    const email = localStorage.getItem('email'); // set during login\n    this.http.get(`http://localhost:3000/api/hubs?email=${email}`).subscribe({\n      next: data => {\n        console.log(\"Hubs loaded:\", data); // ðŸ‘ˆ log to browser console\n        this.hubs = data;\n      },\n      error: err => console.error(\"Error loading hubs:\", err)\n    });\n  }\n  addHub() {\n    const hubData = {\n      ...this.newHub,\n      username: this.username,\n      email: this.email\n    };\n    this.http.post('http://localhost:3000/api/hubs/add', hubData).subscribe({\n      next: () => {\n        this.newHub = {\n          companyName: '',\n          address: '',\n          city: '',\n          state: '',\n          pincode: '',\n          gstin: '',\n          perRev: '',\n          status: 'active'\n        };\n        this.loadHubs();\n      },\n      error: err => alert(err.error.message || 'Error adding hub')\n    });\n  }\n  editHub(hub) {\n    this.editingHub = {\n      ...hub\n    };\n  }\n  saveEdit() {\n    this.http.put(`http://localhost:3000/api/hubs/${this.editingHub._id}`, this.editingHub).subscribe(() => {\n      this.loadHubs();\n      this.editingHub = null;\n    });\n  }\n  toggleStatus(hub) {\n    this.http.patch(`http://localhost:3000/api/hubs/status/${hub._id}`, {}).subscribe(() => this.loadHubs());\n  }\n};\nHubComponent = __decorate([Component({\n  selector: 'app-hubs',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './hubs.component.html',\n  styleUrls: ['./hubs.component.css']\n})], HubComponent);\nexport { HubComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}