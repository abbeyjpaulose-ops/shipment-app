{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ViewShipmentsComponent_div_8_select_13_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const h_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", h_r4._id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(h_r4.hubName);\n  }\n}\nfunction ViewShipmentsComponent_div_8_select_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"select\", 19);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_8_select_13_Template_select_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.selectedHubFilterId, $event) || (ctx_r1.selectedHubFilterId = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"ngModelChange\", function ViewShipmentsComponent_div_8_select_13_Template_select_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onHubFilterChange($event));\n    });\n    i0.ɵɵtemplate(1, ViewShipmentsComponent_div_8_select_13_option_1_Template, 2, 2, \"option\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.selectedHubFilterId);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getAllHubsFilterOptions());\n  }\n}\nfunction ViewShipmentsComponent_div_8_tr_38_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_8_tr_38_button_18_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const s_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      ctx_r1.printShipment(s_r6);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵtext(1, \" Print Booking Slip \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ViewShipmentsComponent_div_8_tr_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 22);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_8_tr_38_Template_tr_click_0_listener() {\n      const s_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.openShipmentDetails(s_r6));\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 23);\n    i0.ɵɵtemplate(18, ViewShipmentsComponent_div_8_tr_38_button_18_Template, 2, 0, \"button\", 24);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const s_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r6.consignmentNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r6.shipmentStatus);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r6.branch);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r6.routes);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.getCurrentBranchDisplay(s_r6));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r6.consignor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r6.deliveryAddress);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.getInvoiceAmountTotal(s_r6.invoices));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isDeletedStatus(s_r6.shipmentStatus));\n  }\n}\nfunction ViewShipmentsComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6)(2, \"input\", 7);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_8_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.searchText, $event) || (ctx_r1.searchText = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function ViewShipmentsComponent_div_8_Template_input_input_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 8);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_8_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterDate, $event) || (ctx_r1.filterDate = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function ViewShipmentsComponent_div_8_Template_input_change_3_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 9);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_8_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterStatus, $event) || (ctx_r1.filterStatus = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function ViewShipmentsComponent_div_8_Template_select_change_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementStart(5, \"option\", 10);\n    i0.ɵɵtext(6, \"All Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"option\", 11);\n    i0.ɵɵtext(8, \"Pending\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 12);\n    i0.ɵɵtext(10, \"Manifested\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 13);\n    i0.ɵɵtext(12, \"Delivered\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, ViewShipmentsComponent_div_8_select_13_Template, 2, 2, \"select\", 14);\n    i0.ɵɵelementStart(14, \"input\", 15);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_8_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterConsignor, $event) || (ctx_r1.filterConsignor = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function ViewShipmentsComponent_div_8_Template_input_input_14_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 16)(16, \"table\", 17)(17, \"thead\")(18, \"tr\")(19, \"th\");\n    i0.ɵɵtext(20, \"Consignment No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\");\n    i0.ɵɵtext(22, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\");\n    i0.ɵɵtext(24, \"Branch\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"th\");\n    i0.ɵɵtext(26, \"Routes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"th\");\n    i0.ɵɵtext(28, \"Current Branch\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"th\");\n    i0.ɵɵtext(30, \"Consignor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"th\");\n    i0.ɵɵtext(32, \"Delivery Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"th\");\n    i0.ɵɵtext(34, \"No. of Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"th\");\n    i0.ɵɵtext(36, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(37, \"tbody\");\n    i0.ɵɵtemplate(38, ViewShipmentsComponent_div_8_tr_38_Template, 19, 9, \"tr\", 18);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.searchText);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterDate);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterStatus);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.originLocId === \"all-hubs\");\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterConsignor);\n    i0.ɵɵadvance(24);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredShipments);\n  }\n}\nfunction ViewShipmentsComponent_div_9_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_9_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.openReturnModal());\n    });\n    i0.ɵɵtext(1, \"Return\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ViewShipmentsComponent_div_9_select_15_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const h_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", h_r11._id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(h_r11.hubName);\n  }\n}\nfunction ViewShipmentsComponent_div_9_select_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"select\", 19);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_select_15_Template_select_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.selectedHubFilterId, $event) || (ctx_r1.selectedHubFilterId = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"ngModelChange\", function ViewShipmentsComponent_div_9_select_15_Template_select_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onHubFilterChange($event));\n    });\n    i0.ɵɵtemplate(1, ViewShipmentsComponent_div_9_select_15_option_1_Template, 2, 2, \"option\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.selectedHubFilterId);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getAllHubsFilterOptions());\n  }\n}\nfunction ViewShipmentsComponent_div_9_tr_42_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_9_tr_42_button_20_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const s_r13 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      ctx_r1.printShipment(s_r13);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵtext(1, \" Print Booking Slip \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ViewShipmentsComponent_div_9_tr_42_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 22);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_9_tr_42_Template_tr_click_0_listener() {\n      const s_r13 = i0.ɵɵrestoreView(_r12).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.openShipmentDetails(s_r13));\n    });\n    i0.ɵɵelementStart(1, \"td\")(2, \"input\", 30);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_tr_42_Template_input_ngModelChange_2_listener($event) {\n      const s_r13 = i0.ɵɵrestoreView(_r12).$implicit;\n      i0.ɵɵtwoWayBindingSet(s_r13._returnSelected, $event) || (s_r13._returnSelected = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_9_tr_42_Template_input_click_2_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\", 23);\n    i0.ɵɵtemplate(20, ViewShipmentsComponent_div_9_tr_42_button_20_Template, 2, 0, \"button\", 24);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const s_r13 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", s_r13._returnSelected);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isCancelled(s_r13));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r13.consignmentNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r13.branch);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r13.routes);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.getCurrentBranchDisplay(s_r13));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r13.consignor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r13.shipmentStatus);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r13.deliveryAddress);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.getInvoiceAmountTotal(s_r13.invoices));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isDeletedStatus(s_r13.shipmentStatus));\n  }\n}\nfunction ViewShipmentsComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 26);\n    i0.ɵɵtemplate(2, ViewShipmentsComponent_div_9_button_2_Template, 2, 0, \"button\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 6)(4, \"input\", 7);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.searchText, $event) || (ctx_r1.searchText = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function ViewShipmentsComponent_div_9_Template_input_input_4_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 8);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterDate, $event) || (ctx_r1.filterDate = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function ViewShipmentsComponent_div_9_Template_input_change_5_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"select\", 9);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_Template_select_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterStatus, $event) || (ctx_r1.filterStatus = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function ViewShipmentsComponent_div_9_Template_select_change_6_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementStart(7, \"option\", 10);\n    i0.ɵɵtext(8, \"All Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 11);\n    i0.ɵɵtext(10, \"Pending\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 12);\n    i0.ɵɵtext(12, \"Manifested\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"option\", 13);\n    i0.ɵɵtext(14, \"Delivered\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, ViewShipmentsComponent_div_9_select_15_Template, 2, 2, \"select\", 14);\n    i0.ɵɵelementStart(16, \"input\", 15);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_9_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.filterConsignor, $event) || (ctx_r1.filterConsignor = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function ViewShipmentsComponent_div_9_Template_input_input_16_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.applyFilters());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 16)(18, \"table\", 17)(19, \"thead\")(20, \"tr\")(21, \"th\")(22, \"input\", 28);\n    i0.ɵɵlistener(\"change\", function ViewShipmentsComponent_div_9_Template_input_change_22_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.toggleAllReceived($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"th\");\n    i0.ɵɵtext(24, \"Consignment No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"th\");\n    i0.ɵɵtext(26, \"Branch\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"th\");\n    i0.ɵɵtext(28, \"Routes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"th\");\n    i0.ɵɵtext(30, \"Current Branch\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"th\");\n    i0.ɵɵtext(32, \"Consignor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"th\");\n    i0.ɵɵtext(34, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"th\");\n    i0.ɵɵtext(36, \"Delivery Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"th\");\n    i0.ɵɵtext(38, \"No. of Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"th\");\n    i0.ɵɵtext(40, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(41, \"tbody\");\n    i0.ɵɵtemplate(42, ViewShipmentsComponent_div_9_tr_42_Template, 21, 11, \"tr\", 18);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasSelectedReceived());\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.searchText);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterDate);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterStatus);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.originLocId === \"all-hubs\");\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.filterConsignor);\n    i0.ɵɵadvance(26);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredReceived);\n  }\n}\nfunction ViewShipmentsComponent_div_10_li_16_input_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 45);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_10_li_16_input_4_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const s_r17 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(s_r17.returnFinalAmount, $event) || (s_r17.returnFinalAmount = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtwoWayProperty(\"ngModel\", s_r17.returnFinalAmount);\n  }\n}\nfunction ViewShipmentsComponent_div_10_li_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"span\", 43)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ViewShipmentsComponent_div_10_li_16_input_4_Template, 1, 1, \"input\", 44);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const s_r17 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", s_r17.consignmentNumber, \" - \", s_r17.consignor, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showReturnFinalAmount);\n  }\n}\nfunction ViewShipmentsComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"div\", 32)(2, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_10_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeReturnModal());\n    });\n    i0.ɵɵtext(3, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h3\");\n    i0.ɵɵtext(5, \"Confirm Return\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"Mark the selected consignments as returned?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"label\", 34)(9, \"span\");\n    i0.ɵɵtext(10, \"Customer side return and paid by the customer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 35)(12, \"input\", 36);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ViewShipmentsComponent_div_10_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.showReturnFinalAmount, $event) || (ctx_r1.showReturnFinalAmount = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 37);\n    i0.ɵɵelement(14, \"span\", 38);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"ul\", 39);\n    i0.ɵɵtemplate(16, ViewShipmentsComponent_div_10_li_16_Template, 5, 3, \"li\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 41)(18, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_10_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeReturnModal());\n    });\n    i0.ɵɵtext(19, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_10_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.returnSelected());\n    });\n    i0.ɵɵtext(21, \"Return\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.showReturnFinalAmount);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getSelectedReceived());\n  }\n}\nfunction ViewShipmentsComponent_div_11_p_29_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.selectedShipmentManifestNumber, \" \\u2014 \");\n  }\n}\nfunction ViewShipmentsComponent_div_11_p_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Manifest:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 54);\n    i0.ɵɵtemplate(4, ViewShipmentsComponent_div_11_p_29_span_4_Template, 2, 1, \"span\", 3);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"href\", ctx_r1.getManifestUrl(ctx_r1.selectedShipmentManifestId), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedShipmentManifestNumber);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipmentManifestId, \" \");\n  }\n}\nfunction ViewShipmentsComponent_div_11_div_194_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"span\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 59);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 59);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r19 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r19.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"In Stock: \", product_r19.instock, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Total: \", product_r19.amount, \"\");\n  }\n}\nfunction ViewShipmentsComponent_div_11_div_194_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 55)(1, \"div\", 56);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 57);\n    i0.ɵɵtemplate(4, ViewShipmentsComponent_div_11_div_194_li_4_Template, 7, 3, \"li\", 40);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const invoice_r20 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Invoice #\", invoice_r20.number, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", invoice_r20.products);\n  }\n}\nfunction ViewShipmentsComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 47)(2, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_div_11_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeShipmentDetails());\n    });\n    i0.ɵɵtext(3, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 48)(5, \"div\")(6, \"h2\");\n    i0.ɵɵtext(7, \"Shipment Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 49);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"span\", 50);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 51)(13, \"p\")(14, \"strong\");\n    i0.ɵɵtext(15, \"Shipment ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\")(18, \"strong\");\n    i0.ɵɵtext(19, \"Consignment No.:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\")(22, \"strong\");\n    i0.ɵɵtext(23, \"Status:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\")(26, \"strong\");\n    i0.ɵɵtext(27, \"Status Details:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(29, ViewShipmentsComponent_div_11_p_29_Template, 6, 3, \"p\", 3);\n    i0.ɵɵelementStart(30, \"p\")(31, \"strong\");\n    i0.ɵɵtext(32, \"Branch:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"p\")(35, \"strong\");\n    i0.ɵɵtext(36, \"Current Branch:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"p\")(39, \"strong\");\n    i0.ɵɵtext(40, \"Current Vehicle No.:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"p\")(43, \"strong\");\n    i0.ɵɵtext(44, \"Current Vehicle Owner Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"p\")(47, \"strong\");\n    i0.ɵɵtext(48, \"Current Vehicle Owner ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"p\")(51, \"strong\");\n    i0.ɵɵtext(52, \"Consignor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"p\")(55, \"strong\");\n    i0.ɵɵtext(56, \"Consignor GST:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"p\")(59, \"strong\");\n    i0.ɵɵtext(60, \"Consignor Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(61);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(62, \"p\")(63, \"strong\");\n    i0.ɵɵtext(64, \"Consignor Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(66, \"p\")(67, \"strong\");\n    i0.ɵɵtext(68, \"Consignee:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(69);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(70, \"p\")(71, \"strong\");\n    i0.ɵɵtext(72, \"Consignee GST:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(73);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(74, \"p\")(75, \"strong\");\n    i0.ɵɵtext(76, \"Consignee Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(78, \"p\")(79, \"strong\");\n    i0.ɵɵtext(80, \"Consignee Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(81);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(82, \"p\")(83, \"strong\");\n    i0.ɵɵtext(84, \"Payment Mode:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(85);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(86, \"p\")(87, \"strong\");\n    i0.ɵɵtext(88, \"External Ref ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(89);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(90, \"p\")(91, \"strong\");\n    i0.ɵɵtext(92, \"Billing Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(93);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(94, \"p\")(95, \"strong\");\n    i0.ɵɵtext(96, \"Billing Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(97);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(98, \"p\")(99, \"strong\");\n    i0.ɵɵtext(100, \"Billing GSTIN:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(101);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(102, \"p\")(103, \"strong\");\n    i0.ɵɵtext(104, \"Billing Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(105);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(106, \"p\")(107, \"strong\");\n    i0.ɵɵtext(108, \"Billing Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(109);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(110, \"p\")(111, \"strong\");\n    i0.ɵɵtext(112, \"Pickup Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(113);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(114, \"p\")(115, \"strong\");\n    i0.ɵɵtext(116, \"Pickup Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(117);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(118, \"p\")(119, \"strong\");\n    i0.ɵɵtext(120, \"Pickup Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(121);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(122, \"p\")(123, \"strong\");\n    i0.ɵɵtext(124, \"Pickup Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(125);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(126, \"p\")(127, \"strong\");\n    i0.ɵɵtext(128, \"Pickup Pincode:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(129);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(130, \"p\")(131, \"strong\");\n    i0.ɵɵtext(132, \"Delivery Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(133);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(134, \"p\")(135, \"strong\");\n    i0.ɵɵtext(136, \"Delivery To:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(137);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(138, \"p\")(139, \"strong\");\n    i0.ɵɵtext(140, \"Delivery Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(141);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(142, \"p\")(143, \"strong\");\n    i0.ɵɵtext(144, \"Delivery Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(145);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(146, \"p\")(147, \"strong\");\n    i0.ɵɵtext(148, \"Delivery Pincode:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(149);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(150, \"p\")(151, \"strong\");\n    i0.ɵɵtext(152, \"Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(153);\n    i0.ɵɵpipe(154, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(155, \"p\")(156, \"strong\");\n    i0.ɵɵtext(157, \"Final Amount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(158);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(159, \"p\")(160, \"strong\");\n    i0.ɵɵtext(161, \"Charges - ODC:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(162);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(163, \"p\")(164, \"strong\");\n    i0.ɵɵtext(165, \"Charges - Unloading:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(166);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(167, \"p\")(168, \"strong\");\n    i0.ɵɵtext(169, \"Charges - Docket:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(170);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(171, \"p\")(172, \"strong\");\n    i0.ɵɵtext(173, \"Charges - Other:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(174);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(175, \"p\")(176, \"strong\");\n    i0.ɵɵtext(177, \"Charges - CCC:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(178);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(179, \"p\")(180, \"strong\");\n    i0.ɵɵtext(181, \"Charges - Consignor Discount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(182);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(183, \"p\")(184, \"strong\");\n    i0.ɵɵtext(185, \"Products in stock:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(186);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(187, \"p\")(188, \"strong\");\n    i0.ɵɵtext(189, \"No. of Products:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(190);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(191, \"h3\");\n    i0.ɵɵtext(192, \"Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(193, \"div\", 52);\n    i0.ɵɵtemplate(194, ViewShipmentsComponent_div_11_div_194_Template, 5, 2, \"div\", 53);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"Consignment \", ctx_r1.selectedShipment.consignmentNumber, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.selectedShipment.shipmentStatus);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment._id, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consignmentNumber, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.shipmentStatus, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.shipmentStatusDetails, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedShipmentManifestId);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getOriginBranchDisplay(ctx_r1.selectedShipment), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getCurrentBranchDisplay(ctx_r1.selectedShipment), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.currentVehicleNo, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.currentVehicleOwnerType, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.currentVehicleOwnerId, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consignor, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consignorGST, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consignorPhone, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consignorAddress, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consignee, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consigneeGST, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consigneePhone, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.consigneeAddress, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.paymentMode, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.externalRefId, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.billingType, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.billingName, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.billingGSTIN, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.billingPhone, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.billingAddress, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.pickupType, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.pickupName, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.pickupPhone, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.pickupAddress, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.pickupPincode, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.deliveryType, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getDeliveryDisplayName(ctx_r1.selectedShipment), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.deliveryPhone, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.deliveryAddress, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.deliveryPincode, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(154, 48, ctx_r1.selectedShipment.date, \"short\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment.finalAmount, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment == null ? null : ctx_r1.selectedShipment.charges == null ? null : ctx_r1.selectedShipment.charges.odc, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment == null ? null : ctx_r1.selectedShipment.charges == null ? null : ctx_r1.selectedShipment.charges.unloading, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment == null ? null : ctx_r1.selectedShipment.charges == null ? null : ctx_r1.selectedShipment.charges.docket, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment == null ? null : ctx_r1.selectedShipment.charges == null ? null : ctx_r1.selectedShipment.charges.other, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment == null ? null : ctx_r1.selectedShipment.charges == null ? null : ctx_r1.selectedShipment.charges.ccc, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedShipment == null ? null : ctx_r1.selectedShipment.charges == null ? null : ctx_r1.selectedShipment.charges.consignorDiscount, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getInStockAmountTotal(ctx_r1.selectedShipment.invoices), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getInvoiceAmountTotal(ctx_r1.selectedShipment.invoices), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.selectedShipment.invoices);\n  }\n}\nexport let ViewShipmentsComponent = /*#__PURE__*/(() => {\n  class ViewShipmentsComponent {\n    constructor(http) {\n      this.http = http;\n      this.shipments = [];\n      this.filteredShipments = [];\n      this.receivedShipments = [];\n      this.filteredReceived = [];\n      this.branches = [];\n      this.hubs = [];\n      this.originLocId = localStorage.getItem('originLocId') || 'all';\n      this.selectedHubFilterId = null;\n      this.selectedHubFilterName = '';\n      this.clientList = [];\n      this.guestList = [];\n      this.email = '';\n      this.searchText = '';\n      this.filterDate = '';\n      this.filterStatus = '';\n      this.filterConsignor = '';\n      this.activeTab = 'all';\n      this.selectedShipment = null; // ✅ for modal popup\n      this.selectedShipmentManifestId = null;\n      this.selectedShipmentManifestNumber = null;\n      this.showReturnModal = false;\n      this.showReturnFinalAmount = false;\n    }\n    ngOnInit() {\n      this.email = localStorage.getItem('email') || '';\n      this.loadShipments();\n      this.loadReceivedShipments();\n      this.loadBranches();\n      this.loadHubs();\n      this.loadClients();\n      this.loadGuests();\n    }\n    loadShipments() {\n      const storedoriginLocId = localStorage.getItem('originLocId') || 'all';\n      const params = {\n        username: localStorage.getItem('username') || ''\n      };\n      const originFilter = this.getSelectedOrigin();\n      if (originFilter) {\n        params.originType = originFilter.originType;\n        params.originLocId = originFilter.originLocId;\n      } else {\n        params.originLocId = storedoriginLocId === 'all-hubs' ? 'all' : storedoriginLocId;\n      }\n      this.http.get('http://localhost:3000/api/newshipments', {\n        params\n      }).subscribe({\n        next: res => {\n          const normalized = (res || []).map(shipment => ({\n            ...shipment,\n            branch: this.getOriginBranchDisplay(shipment),\n            invoices: this.flattenInvoices(shipment.ewaybills || shipment.invoices || []),\n            routes: this.getShipmentRoutes(shipment)\n          }));\n          this.shipments = normalized;\n          this.filteredShipments = normalized;\n        },\n        error: err => console.error('Error loading shipments:', err)\n      });\n    }\n    loadReceivedShipments() {\n      this.http.get('http://localhost:3000/api/newshipments', {\n        params: {\n          username: localStorage.getItem('username') || '',\n          originLocId: 'all'\n        }\n      }).subscribe({\n        next: res => {\n          const normalized = (res || []).map(shipment => ({\n            ...shipment,\n            branch: this.getOriginBranchDisplay(shipment),\n            invoices: this.flattenInvoices(shipment.ewaybills || shipment.invoices || []),\n            routes: this.getShipmentRoutes(shipment)\n          }));\n          this.receivedShipments = normalized;\n          this.applyFilters();\n        },\n        error: err => console.error('Error loading received shipments:', err)\n      });\n    }\n    loadBranches() {\n      this.http.get('http://localhost:3000/api/branches').subscribe({\n        next: branches => {\n          this.branches = branches || [];\n        },\n        error: err => console.error('Error loading branches:', err)\n      });\n    }\n    loadHubs() {\n      this.http.get('http://localhost:3000/api/hubs').subscribe({\n        next: hubs => {\n          this.hubs = hubs || [];\n        },\n        error: err => console.error('Error loading hubs:', err)\n      });\n    }\n    loadClients() {\n      if (!this.email) return;\n      this.http.get(`http://localhost:3000/api/clients/clientslist?emailId=${this.email}`).subscribe({\n        next: clients => {\n          this.clientList = clients || [];\n        },\n        error: err => console.error('Error loading clients:', err)\n      });\n    }\n    loadGuests() {\n      if (!this.email) return;\n      this.http.get(`http://localhost:3000/api/guests/guestslist?emailId=${this.email}`).subscribe({\n        next: guests => {\n          this.guestList = guests || [];\n        },\n        error: err => console.error('Error loading guests:', err)\n      });\n    }\n    flattenInvoices(ewaybills) {\n      return (ewaybills || []).flatMap(ewb => ewb.invoices || []);\n    }\n    getShipmentRoutes(shipment) {\n      const ewaybills = Array.isArray(shipment?.ewaybills) ? shipment.ewaybills : [];\n      const invoiceSources = Array.isArray(shipment?.invoices) ? shipment.invoices : [];\n      const candidates = [...ewaybills.map(ewb => String(ewb.routes || '').trim()), ...invoiceSources.map(inv => String(inv.routes || '').trim())].filter(route => Boolean(route));\n      const unique = Array.from(new Set(candidates));\n      return unique.join(', ') || '';\n    }\n    getProductTotal(invoices, key) {\n      if (!invoices) return 0;\n      return invoices.reduce((total, invoice) => {\n        const productSum = invoice.products?.reduce((sum, prod) => sum + Number(prod[key] || 0), 0) || 0;\n        return total + Number(productSum || 0);\n      }, 0);\n    }\n    getInStockAmountTotal(invoices) {\n      return this.getProductTotal(invoices, 'instock');\n    }\n    getInvoiceAmountTotal(invoices) {\n      let total = 0;\n      (invoices || []).forEach(inv => {\n        (inv.products || []).forEach(prod => {\n          total += Number(prod.amount || 0);\n        });\n      });\n      return total;\n    }\n    applyFilters() {\n      this.originLocId = localStorage.getItem('originLocId') || 'all';\n      const originLocId = String(this.originLocId || '').trim();\n      const hubFilterId = this.normalizeId(this.selectedHubFilterId);\n      const useHubFilter = originLocId === 'all-hubs';\n      if (useHubFilter && !hubFilterId) {\n        const storedHubId = this.normalizeId(localStorage.getItem('hubId'));\n        const storedHubName = String(localStorage.getItem('hubName') || '').trim();\n        if (storedHubId) {\n          const hub = (this.hubs || []).find(h => this.normalizeId(h?._id) === storedHubId);\n          this.selectedHubFilterId = storedHubId;\n          this.selectedHubFilterName = String(hub?.hubName || storedHubName || '').trim();\n        } else {\n          const options = this.getAllHubsFilterOptions();\n          const firstHubId = this.normalizeId(options?.[0]?._id);\n          this.selectedHubFilterId = firstHubId || null;\n          this.selectedHubFilterName = String(options?.[0]?.hubName || '').trim();\n        }\n      }\n      const effectiveHubFilterId = this.normalizeId(this.selectedHubFilterId);\n      if (effectiveHubFilterId && !this.selectedHubFilterName) {\n        const hub = (this.hubs || []).find(h => this.normalizeId(h?._id) === effectiveHubFilterId);\n        this.selectedHubFilterName = String(hub?.hubName || '').trim();\n      }\n      const effectiveHubName = this.selectedHubFilterName;\n      const storedBranchName = String(localStorage.getItem('branch') || '').trim();\n      this.filteredShipments = this.shipments.filter(s => {\n        const matchesSearch = this.searchText ? s.consignmentNumber?.toLowerCase().includes(this.searchText.toLowerCase()) || s.consignor?.toLowerCase().includes(this.searchText.toLowerCase()) : true;\n        const matchesDate = this.filterDate ? new Date(s.date).toDateString() === new Date(this.filterDate).toDateString() : true;\n        const matchesStatus = this.filterStatus ? s.shipmentStatus === this.filterStatus : true;\n        const matchesConsignor = this.filterConsignor ? s.consignor?.toLowerCase().includes(this.filterConsignor.toLowerCase()) : true;\n        const matchesHub = !useHubFilter || effectiveHubFilterId && this.matchesHubFilterForShipment(s, effectiveHubFilterId, effectiveHubName);\n        const matchesBranchColumn = (() => {\n          const originId = this.getOriginId(s);\n          const originLabel = String(s?.branch || '').trim();\n          if (!originLocId || originLocId === 'all') return true;\n          if (originLocId === 'all-hubs') {\n            if (!effectiveHubFilterId) return false;\n            const hubNameLower = String(effectiveHubName || '').trim().toLowerCase();\n            const originLower = originLabel.toLowerCase();\n            return originId === effectiveHubFilterId || hubNameLower && (originLower === hubNameLower || this.matchesBranchLabel(originLabel, effectiveHubName));\n          }\n          const selectedoriginLocId = this.normalizeId(originLocId);\n          const branchById = (this.branches || []).find(b => this.normalizeId(b?._id) === selectedoriginLocId);\n          const selectedBranchName = String(branchById?.branchName || storedBranchName || '').trim();\n          const selectedLower = selectedBranchName.toLowerCase();\n          const originLower = originLabel.toLowerCase();\n          return originId === selectedoriginLocId || selectedLower && (originLower === selectedLower || this.matchesBranchLabel(originLabel, selectedBranchName));\n        })();\n        return matchesSearch && matchesDate && matchesStatus && matchesConsignor && matchesHub && matchesBranchColumn;\n      });\n      this.filteredReceived = this.receivedShipments.filter(s => {\n        const matchesDelivery = true;\n        const matchesSearch = this.searchText ? s.consignmentNumber?.toLowerCase().includes(this.searchText.toLowerCase()) || s.consignor?.toLowerCase().includes(this.searchText.toLowerCase()) : true;\n        const matchesDate = this.filterDate ? new Date(s.date).toDateString() === new Date(this.filterDate).toDateString() : true;\n        const matchesStatus = this.filterStatus ? s.shipmentStatus === this.filterStatus : true;\n        const matchesConsignor = this.filterConsignor ? s.consignor?.toLowerCase().includes(this.filterConsignor.toLowerCase()) : true;\n        return matchesDelivery && matchesSearch && matchesDate && matchesStatus && matchesConsignor;\n      });\n    }\n    getAllHubsFilterOptions() {\n      return this.hubs || [];\n    }\n    onHubFilterChange(value) {\n      this.selectedHubFilterId = value;\n      const hub = (this.hubs || []).find(h => this.normalizeId(h?._id) === this.normalizeId(value));\n      this.selectedHubFilterName = String(hub?.hubName || '').trim();\n      if (value) {\n        localStorage.setItem('hubId', String(value));\n        localStorage.setItem('hubName', this.selectedHubFilterName);\n      }\n      this.applyFilters();\n    }\n    matchesHubIdOrName(idValue, labelValue, hubId, hubName) {\n      if (!hubId) return false;\n      const id = this.normalizeId(idValue);\n      const label = String(labelValue || '').trim();\n      const hasHubName = Boolean(hubName);\n      if (id && id === hubId) return true;\n      if (!hasHubName || !label) return false;\n      const hubNameLower = hubName.toLowerCase();\n      const labelLower = label.toLowerCase();\n      return labelLower === hubNameLower || this.matchesBranchLabel(label, hubName);\n    }\n    matchesHubFilterForShipment(shipment, hubId, hubName) {\n      const currentId = this.normalizeId(shipment?.currentLocationId || shipment?.currentBranch);\n      const currentLabel = String(shipment?.currentBranch || '').trim();\n      const originId = this.getOriginId(shipment);\n      const originLabel = String(shipment?.branch || '').trim();\n      return this.matchesHubIdOrName(currentId, currentLabel, hubId, hubName) || this.matchesHubIdOrName(originId, originLabel, hubId, hubName);\n    }\n    matchesBranchLabel(currentBranch, branchLabel) {\n      const current = String(currentBranch || '').trim().toLowerCase();\n      const label = String(branchLabel || '').trim().toLowerCase();\n      if (!current || !label) return false;\n      if (label === current) return true;\n      if (label.startsWith(`${current}-`)) return true;\n      const labelPrefix = label.split('-')[0].trim();\n      return Boolean(labelPrefix) && labelPrefix === current;\n    }\n    hasSelectedReceived() {\n      return (this.filteredReceived || []).some(s => s._returnSelected);\n    }\n    getSelectedReceived() {\n      return (this.filteredReceived || []).filter(s => s._returnSelected);\n    }\n    toggleAllReceived(event) {\n      const checked = event.target.checked;\n      (this.filteredReceived || []).forEach(s => {\n        if (this.isCancelled(s)) return;\n        s._returnSelected = checked;\n      });\n    }\n    openReturnModal() {\n      if (!this.hasSelectedReceived()) return;\n      this.getSelectedReceived().forEach(consignment => {\n        if (consignment.returnFinalAmount === undefined || consignment.returnFinalAmount === null || consignment.returnFinalAmount === '') {\n          consignment.returnFinalAmount = consignment.finalAmount ?? '';\n        }\n      });\n      this.showReturnModal = true;\n      this.showReturnFinalAmount = false;\n    }\n    closeReturnModal() {\n      this.showReturnModal = false;\n      this.showReturnFinalAmount = false;\n    }\n    returnSelected() {\n      const selected = (this.filteredReceived || []).filter(s => s._returnSelected);\n      if (!selected.length) return;\n      selected.forEach(consignment => {\n        if (this.showReturnFinalAmount) {\n          this.createCustomerReturnConsignment(consignment);\n        } else {\n          this.createBranchReturnConsignment(consignment);\n        }\n        const now = new Date().toISOString();\n        const username = localStorage.getItem('username') || '';\n        const branch = localStorage.getItem('branch') || '';\n        const statusDetailsBranch = branch ? `/${branch}` : '';\n        const updatedConsignment = {\n          ...consignment,\n          shipmentStatus: 'Returned',\n          shipmentStatusDetails: statusDetailsBranch\n        };\n        if (this.showReturnFinalAmount) {\n          updatedConsignment.finalAmount = consignment.returnFinalAmount ?? consignment.finalAmount;\n        }\n        this.http.post('http://localhost:3000/api/newshipments/updateConsignment', {\n          updatedConsignment\n        }).subscribe({\n          next: () => {\n            this.loadReceivedShipments();\n          },\n          error: err => {\n            console.error('Error returning consignment:', err);\n          }\n        });\n      });\n      selected.forEach(s => s._returnSelected = false);\n      this.showReturnModal = false;\n    }\n    isDelivered(shipment) {\n      const value = String(shipment?.shipmentStatus || '').toLowerCase();\n      return value.includes('delivered');\n    }\n    isCancelled(shipment) {\n      const status = String(shipment?.shipmentStatus || '').toLowerCase();\n      return status === 'cancelled' || status === 'returned';\n    }\n    normalizeId(value) {\n      if (!value) return '';\n      if (typeof value === 'string') return value;\n      if (value?._id) return String(value._id);\n      if (value?.$oid) return String(value.$oid);\n      return String(value);\n    }\n    getSelectedOrigin() {\n      const originLocId = this.originLocId || localStorage.getItem('originLocId') || 'all';\n      if (!originLocId || originLocId === 'all') return null;\n      if (originLocId === 'all-hubs') {\n        const hubId = this.normalizeId(this.selectedHubFilterId || localStorage.getItem('hubId'));\n        return hubId ? {\n          originType: 'hub',\n          originLocId: hubId\n        } : null;\n      }\n      const normalized = this.normalizeId(originLocId);\n      return normalized ? {\n        originType: 'branch',\n        originLocId: normalized\n      } : null;\n    }\n    getOriginId(shipment) {\n      if (!shipment) return '';\n      const raw = shipment?.originLocId || shipment?.originLocId || shipment?.originLocId || shipment?.branch;\n      return this.normalizeId(raw);\n    }\n    getCurrentBranchDisplay(shipment) {\n      const currentLocationId = this.normalizeId(shipment?.currentLocationId || shipment?.currentBranch);\n      if (!currentLocationId) return '-';\n      const branch = (this.branches || []).find(b => this.normalizeId(b?._id) === currentLocationId);\n      if (branch?.branchName) return branch.branchName;\n      const hub = (this.hubs || []).find(h => this.normalizeId(h?._id) === currentLocationId);\n      if (hub?.hubName) return hub.hubName;\n      return currentLocationId;\n    }\n    getOriginBranchDisplay(shipment) {\n      const originoriginLocId = this.getOriginId(shipment);\n      if (!originoriginLocId) return '-';\n      const branch = (this.branches || []).find(b => this.normalizeId(b?._id) === originoriginLocId);\n      if (branch?.branchName) return branch.branchName;\n      const hub = (this.hubs || []).find(h => this.normalizeId(h?._id) === originoriginLocId);\n      if (hub?.hubName) return hub.hubName;\n      return originoriginLocId;\n    }\n    getBranchAddress(shipment) {\n      if (!shipment) return '';\n      const originId = this.getOriginId(shipment);\n      if (!originId) return '';\n      const branch = (this.branches || []).find(b => this.normalizeId(b?._id) === originId);\n      if (!branch) return '';\n      const parts = [branch.address, branch.city, branch.state, branch.pinCode].map(part => String(part || '').trim()).filter(Boolean);\n      return parts.join(', ');\n    }\n    firstNonEmpty(...values) {\n      for (const value of values) {\n        if (value === undefined || value === null) continue;\n        const text = String(value).trim();\n        if (text) return text;\n      }\n      return '-';\n    }\n    resolveClientByIdOrName(id, name) {\n      const normId = this.normalizeId(id);\n      const normName = String(name || '').trim().toLowerCase();\n      return (this.clientList || []).find(c => normId && this.normalizeId(c?._id) === normId || normName && String(c?.clientName || '').trim().toLowerCase() === normName) || null;\n    }\n    resolveGuestByIdOrName(id, name) {\n      const normId = this.normalizeId(id);\n      const normName = String(name || '').trim().toLowerCase();\n      return (this.guestList || []).find(g => normId && this.normalizeId(g?._id) === normId || normName && String(g?.guestName || '').trim().toLowerCase() === normName) || null;\n    }\n    resolveBranchByIdOrName(id, name) {\n      const normId = this.normalizeId(id);\n      const normName = String(name || '').trim().toLowerCase();\n      return (this.branches || []).find(b => normId && this.normalizeId(b?._id) === normId || normName && String(b?.branchName || '').trim().toLowerCase() === normName) || null;\n    }\n    resolveHubByIdOrName(id, name) {\n      const normId = this.normalizeId(id);\n      const normName = String(name || '').trim().toLowerCase();\n      return (this.hubs || []).find(h => normId && this.normalizeId(h?._id) === normId || normName && String(h?.hubName || '').trim().toLowerCase() === normName) || null;\n    }\n    resolveClientLocation(client, locationId) {\n      if (!client) return null;\n      const normId = this.normalizeId(locationId);\n      const locations = client?.deliveryLocations || [];\n      if (!normId) return locations[0] || null;\n      return locations.find(loc => this.normalizeId(loc?.delivery_id) === normId) || null;\n    }\n    enrichShipmentDetails(shipment) {\n      const enriched = {\n        ...shipment\n      };\n      const consignor = shipment?.consignorTab === 'guest' ? this.resolveGuestByIdOrName(shipment?.consignorId, shipment?.consignor) : this.resolveClientByIdOrName(shipment?.consignorId, shipment?.consignor);\n      const consignee = shipment?.consigneeTab === 'guest' ? this.resolveGuestByIdOrName(shipment?.consigneeId, shipment?.consignee) : this.resolveClientByIdOrName(shipment?.consigneeId, shipment?.consignee);\n      enriched.consignor = this.firstNonEmpty(enriched.consignor, consignor?.clientName, consignor?.guestName);\n      enriched.consignorGST = this.firstNonEmpty(enriched.consignorGST, consignor?.GSTIN, shipment?.consignorTab === 'guest' ? 'GUEST' : '');\n      enriched.consignorPhone = this.firstNonEmpty(enriched.consignorPhone, consignor?.phoneNum);\n      const consignorLocation = this.getPrimaryLocation(consignor?.deliveryLocations);\n      enriched.consignorAddress = this.firstNonEmpty(enriched.consignorAddress, this.getLocationText(consignorLocation), this.getLocationText(consignor));\n      enriched.consignorLocations = Array.isArray(consignor?.deliveryLocations) ? consignor.deliveryLocations : [];\n      enriched.consignee = this.firstNonEmpty(enriched.consignee, consignee?.clientName, consignee?.guestName);\n      enriched.consigneeGST = this.firstNonEmpty(enriched.consigneeGST, consignee?.GSTIN, shipment?.consigneeTab === 'guest' ? 'GUEST' : '');\n      enriched.consigneePhone = this.firstNonEmpty(enriched.consigneePhone, consignee?.phoneNum);\n      enriched.consigneeAddress = this.firstNonEmpty(enriched.consigneeAddress, consignee?.address);\n      if (shipment?.billingType === 'consignor') {\n        enriched.billingName = this.firstNonEmpty(enriched.billingName, enriched.consignor);\n        enriched.billingGSTIN = this.firstNonEmpty(enriched.billingGSTIN, enriched.consignorGST);\n        enriched.billingPhone = this.firstNonEmpty(enriched.billingPhone, enriched.consignorPhone);\n        enriched.billingAddress = this.firstNonEmpty(enriched.billingAddress, enriched.consignorAddress);\n      } else {\n        const billingClient = this.resolveClientByIdOrName(shipment?.billingClientId, shipment?.billingName);\n        enriched.billingName = this.firstNonEmpty(enriched.billingName, billingClient?.clientName);\n        enriched.billingGSTIN = this.firstNonEmpty(enriched.billingGSTIN, billingClient?.GSTIN);\n        enriched.billingPhone = this.firstNonEmpty(enriched.billingPhone, billingClient?.phoneNum);\n        const billingLocation = shipment?.billingLocationId ? this.findLocationById(billingClient?.deliveryLocations, shipment.billingLocationId) : this.getPrimaryLocation(billingClient?.deliveryLocations);\n        enriched.billingAddress = this.firstNonEmpty(enriched.billingAddress, this.getLocationText(billingLocation), this.getLocationText(billingClient));\n      }\n      if (shipment?.pickupType === 'branch') {\n        const pickupBranch = this.resolveBranchByIdOrName(shipment?.pickupLocationId, shipment?.pickupName) || this.resolveBranchByIdOrName(null, shipment?.branch);\n        enriched.pickupName = this.firstNonEmpty(enriched.pickupName, pickupBranch?.branchName);\n        enriched.pickupAddress = this.firstNonEmpty(enriched.pickupAddress, pickupBranch?.address);\n        enriched.pickupPhone = this.firstNonEmpty(enriched.pickupPhone, pickupBranch?.phoneNum);\n        enriched.pickupPincode = this.firstNonEmpty(enriched.pickupPincode, pickupBranch?.pinCode);\n      } else if (shipment?.pickupType === 'consignor') {\n        enriched.pickupName = this.firstNonEmpty(enriched.pickupName, enriched.consignor);\n        enriched.pickupAddress = this.firstNonEmpty(enriched.pickupAddress, enriched.consignorAddress);\n        enriched.pickupPhone = this.firstNonEmpty(enriched.pickupPhone, enriched.consignorPhone);\n        enriched.pickupPincode = this.firstNonEmpty(enriched.pickupPincode, consignor?.pinCode);\n      }\n      const isSelfPickup = shipment?.deliveryType === 'Customer self pick up' || shipment?.deliveryType === 'branch' || shipment?.deliveryType === 'hub';\n      if (isSelfPickup) {\n        const deliveryBranch = this.resolveBranchByIdOrName(shipment?.deliveryID, shipment?.deliveryName);\n        const deliveryHub = deliveryBranch ? null : this.resolveHubByIdOrName(shipment?.deliveryID, shipment?.deliveryName);\n        enriched.deliveryName = this.firstNonEmpty(enriched.deliveryName, deliveryBranch?.branchName, deliveryHub?.hubName);\n        enriched.deliveryAddress = this.firstNonEmpty(enriched.deliveryAddress, deliveryBranch?.address, deliveryHub?.address);\n        enriched.deliveryPhone = this.firstNonEmpty(enriched.deliveryPhone, deliveryBranch?.phoneNum, deliveryHub?.phoneNum);\n        enriched.deliveryPincode = this.firstNonEmpty(enriched.deliveryPincode, deliveryBranch?.pinCode, deliveryHub?.pinCode);\n      } else {\n        const deliveryClient = this.resolveClientByIdOrName(shipment?.deliveryID, shipment?.deliveryName);\n        const deliveryGuest = this.resolveGuestByIdOrName(shipment?.deliveryID, shipment?.deliveryName);\n        const deliveryLocation = this.resolveClientLocation(deliveryClient, shipment?.deliveryLocationId);\n        enriched.deliveryName = this.firstNonEmpty(enriched.deliveryName, deliveryClient?.clientName, deliveryGuest?.guestName, enriched.consignee);\n        enriched.deliveryAddress = this.firstNonEmpty(enriched.deliveryAddress, deliveryLocation?.address, deliveryClient?.address, deliveryGuest?.address, enriched.consigneeAddress);\n        enriched.deliveryPhone = this.firstNonEmpty(enriched.deliveryPhone, deliveryClient?.phoneNum, deliveryGuest?.phoneNum, enriched.consigneePhone);\n        enriched.deliveryPincode = this.firstNonEmpty(enriched.deliveryPincode, deliveryLocation?.pinCode, deliveryClient?.pinCode, deliveryGuest?.pinCode);\n      }\n      return enriched;\n    }\n    getDeliveryDisplayName(shipment) {\n      const name = String(shipment?.deliveryName || '').trim();\n      if (name) return name;\n      const deliveryId = this.normalizeId(shipment?.deliveryID);\n      if (!deliveryId) return '-';\n      const branch = (this.branches || []).find(b => this.normalizeId(b?._id) === deliveryId);\n      if (branch?.branchName) return branch.branchName;\n      const client = (this.clientList || []).find(c => this.normalizeId(c?._id) === deliveryId);\n      if (client?.clientName) return client.clientName;\n      const guest = (this.guestList || []).find(g => this.normalizeId(g?._id) === deliveryId);\n      if (guest?.guestName) return guest.guestName;\n      return deliveryId;\n    }\n    getReturnBranchName(consignment) {\n      const deliveryName = String(this.getDeliveryDisplayName(consignment) || '').trim();\n      if (deliveryName && deliveryName !== '-') return deliveryName;\n      const currentoriginLocId = this.normalizeId(localStorage.getItem('originLocId'));\n      if (currentoriginLocId && currentoriginLocId !== 'all') {\n        const branch = (this.branches || []).find(b => this.normalizeId(b?._id) === currentoriginLocId);\n        if (branch?.branchName) return branch.branchName;\n      }\n      return String(consignment?.branch || '').trim();\n    }\n    getOriginBranchName(consignment) {\n      return String(consignment?.branch || '').trim();\n    }\n    getReturnEwaybills(consignment) {\n      const ewaybills = Array.isArray(consignment?.ewaybills) ? consignment.ewaybills : [];\n      if (ewaybills.length) return ewaybills;\n      const invoices = Array.isArray(consignment?.invoices) ? consignment.invoices : [];\n      if (!invoices.length) return [];\n      return [{\n        invoices\n      }];\n    }\n    getoriginLocIdByName(name) {\n      const match = (this.branches || []).find(b => String(b?.branchName || '').toLowerCase() === name.toLowerCase());\n      return match?._id || null;\n    }\n    printShipment(shipment) {\n      if (!shipment || this.isDeletedStatus(shipment.shipmentStatus)) {\n        return;\n      }\n      const enriched = this.enrichShipmentDetails(shipment);\n      const html = this.buildShipmentPrintHtml(enriched);\n      this.openShipmentPrintWindow(html);\n    }\n    buildShipmentPrintHtml(shipment) {\n      const formattedDate = this.formatDateForPrint(shipment.date);\n      const bookingBranch = this.safeText(shipment.branch);\n      const branchAddress = this.safeText(this.getBranchAddress(shipment));\n      const deliveryBranch = this.safeText(this.getDeliveryDisplayName(shipment));\n      const rawFromAddress = this.formatConsignorAddress(shipment);\n      const fromAddress = this.safeText(rawFromAddress);\n      const toAddress = this.safeText(this.formatFullAddress(shipment, 'delivery'));\n      const consignor = this.safeText(shipment.consignor);\n      const consignee = this.safeText(shipment.consignee);\n      const consignmentNumber = this.safeText(shipment.consignmentNumber);\n      const paymentMode = this.safeText(shipment.paymentMode || 'Paid');\n      const ewaybillNumber = this.safeText(String(shipment.ewaybills?.[0]?.ewbNumber || shipment.ewaybill || '0'), '0');\n      const balance = Number(shipment.balance ?? 0);\n      const goodsValue = Number(shipment.finalAmount ?? this.getInvoiceAmountTotal(shipment.invoices));\n      const invoiceNumber = this.safeText(shipment.invoices?.[0]?.number || shipment.invoices?.[0]?.invoicenum || '—');\n      const notes = this.safeText(this.sanitizeFooterNotes(shipment.shipmentStatusDetails || ''));\n      const productItems = (shipment.invoices || []).flatMap(inv => inv.products || []);\n      const itemCount = productItems.length || 1;\n      const getProductQuantity = prod => {\n        const raw = prod?.amount ?? prod?.qty ?? prod?.quantity ?? 1;\n        const numeric = Number(raw);\n        return this.safeText(Number.isFinite(numeric) ? numeric : 0, '0');\n      };\n      const itemRows = productItems.length ? productItems.map((prod, idx) => `\n          <tr>\n            <td class=\"center\">${idx + 1}</td>\n            <td>${this.safeText(prod.type, `Product ${idx + 1}`)}</td>\n            <td class=\"center\">${this.safeText(prod.size || prod.dimension || 'N')}</td>\n            <td class=\"center\">${getProductQuantity(prod)}</td>\n          </tr>\n        `).join('') : `\n          <tr>\n            <td class=\"center\">1</td>\n            <td>${this.safeText(shipment.packageType || 'Carton Box')}</td>\n            <td class=\"center\">N</td>\n            <td class=\"center\">${this.safeText(shipment.totalQty || 1)}</td>\n          </tr>\n        `;\n      const lrCharge = Number(shipment.charges?.odc || 0);\n      const hamali = Number(shipment.charges?.unloading || 0);\n      const freightCharge = Number(shipment.charges?.docket || 0);\n      const extraCharge = Number(shipment.charges?.other || 0) + Number(shipment.charges?.ccc || 0);\n      const taxableValue = goodsValue;\n      const netTotal = taxableValue + lrCharge + hamali + freightCharge + extraCharge;\n      return `<!doctype html>\n      <html>\n        <head>\n          <meta charset=\"utf-8\" />\n          <title>Booking Slip ${this.safeText(shipment.consignmentNumber, 'Booking Slip')}</title>\n          <style>\n            body {\n              margin: 0;\n              background: #fff;\n              font-family: 'Arial', sans-serif;\n              color: #111;\n            }\n            .slip {\n              width: 930px;\n              margin: 6px auto;\n              border: 1px solid #111;\n              padding: 10px;\n            }\n            .slip-table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 12px;\n            }\n            .slip-table th,\n            .slip-table td {\n              border: 1px solid #111;\n              padding: 6px;\n              vertical-align: top;\n            }\n            .branch-box {\n              border: 1px solid #111;\n              padding: 8px;\n              font-size: 12px;\n            }\n            .top-box {\n              border: 1px solid #111;\n              padding: 8px;\n              font-size: 12px;\n              vertical-align: middle;\n            }\n            .charges-table {\n              width: 100%;\n              border-collapse: collapse;\n            }\n            .charges-table td {\n              padding: 4px;\n              vertical-align: middle;\n              border-left: 0;\n              border-right: 0;\n            }\n            .charges-table td:first-child {\n              width: 70%;\n              padding-right: 12px;\n            }\n            .charges-table td:last-child {\n              width: 30%;\n              text-align: right;\n            }\n            .bold {\n              font-weight: 700;\n            }\n            .center {\n              text-align: center;\n            }\n            .payment-column {\n              border-left: 0;\n            }\n            .right {\n              text-align: right;\n            }\n            .items-table th {\n              font-size: 11px;\n            }\n            .items-table td {\n              font-size: 12px;\n              height: 22px;\n            }\n            .footer-note {\n              margin-top: 6px;\n              font-size: 10px;\n            }\n          </style>\n        </head>\n        <body>\n          <div class=\"slip\">\n            <table class=\"slip-table\">\n              <tr>\n                <td colspan=\"2\" class=\"top-box\">\n                  <div class=\"bold\">Branch:</div>\n                  ${bookingBranch}<br />\n                  <div class=\"bold\">Branch Address:</div>\n                  ${branchAddress}\n                </td>\n                <td colspan=\"1\" class=\"top-box center\">\n                  <div class=\"bold\">Booking Slip</div>\n                  <div style=\"font-weight: 400; font-size: 12px; margin-top: 4px;\">\n                    Booking Date: ${this.safeText(formattedDate)}\n                  </div>\n                </td>\n                <td colspan=\"2\" class=\"top-box\">\n                  <span class=\"bold\">Consignment No.:</span>&nbsp;&nbsp;${consignmentNumber}<br />\n                  <span class=\"bold\">Eway Bill:</span>&nbsp;&nbsp;${ewaybillNumber}\n                </td>\n              </tr>\n              <tr>\n                <td colspan=\"2\"><span class=\"bold\">FROM:</span> ${fromAddress}</td>\n                <td colspan=\"2\"><span class=\"bold\">TO:</span> ${toAddress}</td>\n                <td class=\"right\">\n                  <span class=\"bold\">Billing:</span> ${this.safeText(this.formatBillingAddress(shipment, rawFromAddress))}\n                </td>\n              </tr>\n              <tr>\n                <td colspan=\"2\">\n                  <div class=\"bold\">Consignor:</div>\n                  ${consignor}<br />\n                  GST: ${this.safeText(shipment.consignorGST, '0')}<br />\n                  PH: ${this.safeText(shipment.consignorPhone, '-')}\n                </td>\n                <td colspan=\"2\">\n                  <div class=\"bold\">Consignee:</div>\n                  ${consignee}<br />\n                  GST: ${this.safeText(shipment.consigneeGST, '0')}<br />\n                  PH: ${this.safeText(shipment.consigneePhone, '-')}\n                </td>\n                <td rowspan=\"2\" class=\"center payment-column\">\n                  <div class=\"bold\">Payment Mode</div>\n                  <div>${paymentMode}</div>\n                </td>\n              </tr>\n              <tr>\n                <td colspan=\"3\">\n                  <table class=\"slip-table items-table\">\n                    <thead>\n                      <tr>\n                        <th>Items</th>\n                        <th>Size</th>\n                        <th>Qty</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      ${itemRows}\n                    </tbody>\n                  </table>\n                </td>\n                <td colspan=\"2\">\n                  <table class=\"charges-table\">\n                    <tr>\n                      <td>LR Charge</td>\n                      <td class=\"right\">₹${this.formatAmount(lrCharge)}</td>\n                    </tr>\n                    <tr>\n                      <td>Loading/Unloading Charges</td>\n                      <td class=\"right\">₹${this.formatAmount(hamali)}</td>\n                    </tr>\n                    <tr>\n                      <td>Freight</td>\n                      <td class=\"right\">₹${this.formatAmount(freightCharge)}</td>\n                    </tr>\n                    <tr>\n                      <td>Extra Charge</td>\n                      <td class=\"right\">₹${this.formatAmount(extraCharge)}</td>\n                    </tr>\n                    <tr>\n                      <td>Taxable Value</td>\n                      <td class=\"right\">₹${this.formatAmount(taxableValue)}</td>\n                    </tr>\n                    <tr>\n                      <td>CGST(6%)</td>\n                      <td class=\"right\">₹0.00</td>\n                    </tr>\n                    <tr>\n                      <td>SGST(6%)</td>\n                      <td class=\"right\">₹0.00</td>\n                    </tr>\n                    <tr>\n                      <td>IGST(12%)</td>\n                      <td class=\"right\">₹0.00</td>\n                    </tr>\n                    <tr>\n                      <td class=\"bold\">Net Total</td>\n                      <td class=\"right bold\">₹${this.formatAmount(netTotal)}</td>\n                    </tr>\n                    <tr>\n                      <td>Balance</td>\n                      <td class=\"right\">₹${this.formatAmount(balance)}</td>\n                    </tr>\n                  </table>\n                </td>\n              </tr>\n              <tr>\n                <td colspan=\"2\">Delivery Mode: ${this.safeText(shipment.deliveryType, '—')}</td>\n                <td>Goods Value: ₹${this.formatAmount(goodsValue)}</td>\n                <td>Bill Invoice: ${invoiceNumber}</td>\n                <td class=\"center bold\">No. of Items: ${this.safeText(itemCount)}</td>\n              </tr>\n              <tr>\n                <td colspan=\"3\">\n                  <div class=\"bold\">Terms & Conditions</div>\n                  Consignments will be carried under OWNER's risk. Details are true to the best of our knowledge.\n                </td>\n                <td colspan=\"2\">\n                  <div class=\"bold\">Received Goods in Good Condition</div>\n                  Name: _______________________<br />\n                  Date: _______________________<br />\n                  Mobile: _______________________<br />\n                  Signature & Seal\n                </td>\n              </tr>\n              <tr>\n                <td colspan=\"5\" class=\"footer-note\">\n                  ${notes}\n                </td>\n              </tr>\n            </table>\n          </div>\n        </body>\n      </html>`;\n    }\n    openShipmentPrintWindow(html) {\n      const win = window.open('', '_blank');\n      if (!win) return;\n      win.document.open();\n      win.document.write(html);\n      win.document.close();\n      win.print();\n    }\n    formatDateForPrint(value) {\n      if (value === undefined || value === null || value === '') {\n        return '';\n      }\n      const parsed = new Date(value);\n      if (Number.isNaN(parsed.getTime())) {\n        return String(value);\n      }\n      return parsed.toLocaleString();\n    }\n    formatAmount(value) {\n      const numeric = Number(value);\n      if (!Number.isFinite(numeric)) {\n        return '0.00';\n      }\n      return numeric.toFixed(2);\n    }\n    sanitizeFooterNotes(value) {\n      if (!value) return '';\n      return String(value).replace(/\\$\\$[0-9a-fA-F]+/g, '').replace(/Visit www\\.example\\.com.*$/i, '').trim();\n    }\n    getPrimaryLocation(locations) {\n      if (!Array.isArray(locations) || !locations.length) return null;\n      return locations[0];\n    }\n    findLocationById(locations, id) {\n      if (!id || !Array.isArray(locations)) return null;\n      const target = String(id);\n      return locations.find(loc => {\n        const locId = loc?.delivery_id || loc?._id || loc?.id;\n        return locId && String(locId) === target;\n      }) || null;\n    }\n    getLocationText(loc) {\n      if (!loc) return '';\n      const address = loc?.address || loc?.location;\n      const parts = [address, loc?.city, loc?.state, this.getLocationPin(loc)].map(part => String(part || '').trim()).filter(Boolean);\n      return parts.join(', ');\n    }\n    getLocationPin(loc) {\n      return String(loc?.pinCode ?? loc?.pincode ?? loc?.pin ?? '').trim();\n    }\n    formatFullAddress(shipment, prefix) {\n      if (!shipment) return '';\n      const parts = [shipment[`${prefix}Address`], shipment[`${prefix}Street`], shipment[`${prefix}City`], shipment[`${prefix}State`], shipment[`${prefix}Pincode`]].map(part => String(part || '').trim()).filter(Boolean);\n      return parts.join(', ') || '';\n    }\n    formatConsignorAddress(shipment) {\n      if (!shipment) return '';\n      const location = shipment?.consignorLocations && shipment.consignorLocations.length ? shipment.consignorLocations[0] : null;\n      const addressParts = [shipment?.consignorAddress, location?.address, location?.location, location?.city, location?.state, location?.pinCode].map(part => String(part || '').trim()).filter(Boolean);\n      const phone = String(shipment?.consignorPhone || shipment?.pickupPhone || '').trim();\n      const base = addressParts.join(', ') || this.formatFullAddress(shipment, 'pickup') || shipment?.consignor || '';\n      return phone ? `${base} (PH: ${phone})` : base;\n    }\n    formatBillingAddress(shipment, fallbackAddress) {\n      if (!shipment) return '-';\n      const parts = [shipment?.billingAddress, shipment?.billingCity, shipment?.billingState, shipment?.billingPincode].map(part => String(part || '').trim()).filter(Boolean);\n      const manualAddress = parts.join(', ');\n      if (manualAddress) {\n        return manualAddress;\n      }\n      const fallback = String(fallbackAddress || '').trim();\n      return fallback || '-';\n    }\n    safeText(value, fallback = '—') {\n      const escaped = this.escapeHtml(value);\n      return escaped || fallback;\n    }\n    escapeHtml(value) {\n      if (value === undefined || value === null) {\n        return '';\n      }\n      return String(value).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\\"/g, '&quot;').replace(/'/g, '&#039;');\n    }\n    isDeletedStatus(status) {\n      return String(status || '').toLowerCase().includes('deleted');\n    }\n    buildReturnPayload(consignment, options) {\n      const now = new Date().toISOString();\n      const username = localStorage.getItem('username') || '';\n      const pickupFields = {\n        type: consignment.pickupType,\n        id: consignment.pickupLocationId ?? null,\n        name: consignment.pickupName,\n        address: consignment.pickupAddress,\n        phone: consignment.pickupPhone,\n        pincode: consignment.pickupPincode,\n        locationId: consignment.pickupLocationId,\n        clientId: consignment.pickupClientId\n      };\n      const deliveryFields = {\n        type: consignment.deliveryType,\n        id: consignment.deliveryID,\n        name: consignment.deliveryName,\n        address: consignment.deliveryAddress,\n        phone: consignment.deliveryPhone,\n        pincode: consignment.deliveryPincode,\n        locationId: consignment.deliveryLocationId\n      };\n      const finalPickup = options.swapAddresses ? deliveryFields : pickupFields;\n      const finalDelivery = options.swapAddresses ? pickupFields : deliveryFields;\n      const isSelfPickup = finalDelivery.type === 'Customer self pick up' || finalDelivery.type === 'branch' || finalDelivery.type === 'hub';\n      const deliveryId = options.swapAddresses && isSelfPickup ? this.getoriginLocIdByName(String(finalDelivery.name || '')) || finalDelivery.id : finalDelivery.id;\n      const rawStatusDetailsBranch = options.branchName || consignment.branch || localStorage.getItem('branch') || '';\n      const statusDetailsBranch = rawStatusDetailsBranch ? `/${rawStatusDetailsBranch}` : '';\n      const payload = {\n        username,\n        branch: options.branchName || consignment.branch,\n        originLocId: this.getOriginId(consignment) || this.getoriginLocIdByName(String(options.branchName || consignment.branch || '')) || consignment.originLocId,\n        shipmentStatus: 'Pending',\n        shipmentStatusDetails: statusDetailsBranch,\n        consignmentNumber: options.consignmentNumber,\n        date: now,\n        paymentMode: consignment.paymentMode,\n        externalRefId: consignment.externalRefId,\n        consignorTab: consignment.consignorTab,\n        consignor: consignment.consignor,\n        consignorGST: consignment.consignorGST,\n        consignorAddress: consignment.consignorAddress,\n        consignorPhone: consignment.consignorPhone,\n        consignorId: consignment.consignorId,\n        consigneeTab: consignment.consigneeTab,\n        consignee: consignment.consignee,\n        consigneeGST: consignment.consigneeGST,\n        consigneeAddress: consignment.consigneeAddress,\n        consigneePhone: consignment.consigneePhone,\n        consigneeId: consignment.consigneeId,\n        billingType: consignment.billingType,\n        billingName: consignment.billingName,\n        billingGSTIN: consignment.billingGSTIN,\n        billingAddress: consignment.billingAddress,\n        billingPhone: consignment.billingPhone,\n        billingLocationId: consignment.billingLocationId,\n        billingClientId: consignment.billingClientId,\n        pickupType: finalPickup.type,\n        pickupName: finalPickup.name,\n        pickupAddress: finalPickup.address,\n        pickupPhone: finalPickup.phone,\n        pickupPincode: finalPickup.pincode,\n        pickupLocationId: finalPickup.locationId,\n        deliveryType: finalDelivery.type,\n        deliveryID: deliveryId,\n        deliveryName: finalDelivery.name,\n        deliveryAddress: finalDelivery.address,\n        deliveryPhone: finalDelivery.phone,\n        deliveryPincode: finalDelivery.pincode,\n        deliveryLocationId: finalDelivery.locationId,\n        ewaybills: this.getReturnEwaybills(consignment),\n        charges: consignment.charges,\n        finalAmount: options.finalAmount\n      };\n      if (options.deliveryBranchName) {\n        const deliveryBranch = this.resolveBranchByIdOrName(null, options.deliveryBranchName);\n        payload.deliveryType = 'Customer self pick up';\n        payload.deliveryID = deliveryBranch?._id || payload.deliveryID;\n        payload.deliveryName = deliveryBranch?.branchName || options.deliveryBranchName;\n        payload.deliveryAddress = deliveryBranch?.address || payload.deliveryAddress;\n        payload.deliveryPhone = deliveryBranch?.phoneNum || payload.deliveryPhone;\n        payload.deliveryPincode = deliveryBranch?.pinCode || payload.deliveryPincode;\n        payload.deliveryLocationId = null;\n      }\n      return payload;\n    }\n    createBranchReturnConsignment(consignment) {\n      const deliveryBranchName = this.getReturnBranchName(consignment);\n      const originBranchName = this.getOriginBranchName(consignment);\n      const suffix = originBranchName || deliveryBranchName || String(localStorage.getItem('branch') || '').trim();\n      const annotatedNumber = `${consignment.consignmentNumber}/${suffix}/R`;\n      const payload = this.buildReturnPayload(consignment, {\n        consignmentNumber: annotatedNumber,\n        branchName: deliveryBranchName || consignment.branch,\n        finalAmount: consignment.finalAmount ?? 0,\n        swapAddresses: false,\n        deliveryBranchName: originBranchName || consignment.branch\n      });\n      this.http.post('http://localhost:3000/api/newshipments/add?summary=true', payload, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).subscribe({\n        error: err => console.error('Error creating return consignment:', err)\n      });\n    }\n    createCustomerReturnConsignment(consignment) {\n      const branchName = this.getReturnBranchName(consignment);\n      if (!branchName || branchName === 'All Branches') {\n        console.error('Missing branch for return consignment number');\n        return;\n      }\n      const username = localStorage.getItem('username') || '';\n      this.http.get(`http://localhost:3000/api/newshipments/nextConsignment?username=${encodeURIComponent(username)}&originLocId=${encodeURIComponent(this.getoriginLocIdByName(branchName) || '')}&branch=${encodeURIComponent(branchName)}`).subscribe({\n        next: res => {\n          const payload = this.buildReturnPayload(consignment, {\n            consignmentNumber: String(res.nextNumber || ''),\n            branchName,\n            finalAmount: consignment.returnFinalAmount ?? consignment.finalAmount ?? 0,\n            swapAddresses: true,\n            deliveryBranchName: this.getOriginBranchName(consignment)\n          });\n          this.http.post('http://localhost:3000/api/newshipments/add?summary=true', payload, {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).subscribe({\n            error: err => console.error('Error creating return consignment:', err)\n          });\n        },\n        error: err => console.error('Error fetching next consignment number:', err)\n      });\n    }\n    // ✅ open details modal\n    openShipmentDetails(shipment) {\n      const enriched = this.enrichShipmentDetails(shipment);\n      this.selectedShipment = enriched;\n      this.selectedShipmentManifestId = null;\n      this.selectedShipmentManifestNumber = null;\n      this.loadManifestForShipment(enriched?.consignmentNumber);\n    }\n    // ✅ close details modal\n    closeShipmentDetails() {\n      this.selectedShipment = null;\n      this.selectedShipmentManifestId = null;\n      this.selectedShipmentManifestNumber = null;\n    }\n    loadManifestForShipment(consignmentNumber) {\n      const key = String(consignmentNumber || '').trim();\n      if (!key) {\n        this.selectedShipmentManifestId = null;\n        this.selectedShipmentManifestNumber = null;\n        return;\n      }\n      this.http.get('http://localhost:3000/api/manifests', {\n        params: {\n          consignmentNumber: key\n        }\n      }).subscribe({\n        next: manifests => {\n          const manifest = Array.isArray(manifests) && manifests.length ? manifests[0] : null;\n          this.selectedShipmentManifestId = manifest?._id ? String(manifest._id) : null;\n          this.selectedShipmentManifestNumber = manifest?.manifestNumber || null;\n        },\n        error: () => {\n          this.selectedShipmentManifestId = null;\n          this.selectedShipmentManifestNumber = null;\n        }\n      });\n    }\n    getManifestUrl(id) {\n      const manifestId = String(id || '').trim();\n      return manifestId ? `/manifests/${manifestId}` : '#';\n    }\n    static {\n      this.ɵfac = function ViewShipmentsComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ViewShipmentsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ViewShipmentsComponent,\n        selectors: [[\"app-view-shipments\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 12,\n        vars: 8,\n        consts: [[1, \"shipments-container\"], [1, \"tabs\"], [\"type\", \"button\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"modal return-modal\", 4, \"ngIf\"], [\"class\", \"modal details-modal\", 4, \"ngIf\"], [1, \"filters\"], [\"type\", \"text\", \"placeholder\", \"Search by consignment no. or consignor\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [\"type\", \"date\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\"], [\"value\", \"Pending\"], [\"value\", \"Manifested\"], [\"value\", \"Delivered\"], [3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"type\", \"text\", \"placeholder\", \"Filter by consignor\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"table-wrapper\"], [1, \"shipments-table\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngModelChange\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [3, \"click\"], [1, \"action-cell\"], [\"type\", \"button\", \"class\", \"print-btn\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"print-btn\", 3, \"click\"], [1, \"actions-bar\"], [\"type\", \"button\", \"class\", \"return-btn\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"checkbox\", 3, \"change\"], [\"type\", \"button\", 1, \"return-btn\", 3, \"click\"], [\"type\", \"checkbox\", 3, \"ngModelChange\", \"click\", \"ngModel\", \"disabled\"], [1, \"modal\", \"return-modal\"], [1, \"modal-content\", \"return-content\"], [\"type\", \"button\", 1, \"details-close\", 3, \"click\"], [1, \"return-toggle\"], [1, \"toggle\"], [\"type\", \"checkbox\", 3, \"ngModelChange\", \"ngModel\"], [1, \"toggle-track\"], [1, \"toggle-thumb\"], [1, \"return-list\"], [4, \"ngFor\", \"ngForOf\"], [1, \"return-actions\"], [\"type\", \"button\", 1, \"ghost\", 3, \"click\"], [1, \"return-line\"], [\"type\", \"number\", \"min\", \"0\", \"placeholder\", \"Final amount\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"type\", \"number\", \"min\", \"0\", \"placeholder\", \"Final amount\", 3, \"ngModelChange\", \"ngModel\"], [1, \"modal\", \"details-modal\"], [1, \"modal-content\", \"details-content\"], [1, \"details-header\"], [1, \"details-sub\"], [1, \"details-status\"], [1, \"shipment-details\", \"details-grid\"], [1, \"details-products\"], [\"class\", \"details-invoice\", 4, \"ngFor\", \"ngForOf\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"href\"], [1, \"details-invoice\"], [1, \"details-invoice-title\"], [1, \"details-product-list\"], [1, \"product-name\"], [1, \"product-meta\"]],\n        template: function ViewShipmentsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n            i0.ɵɵtext(2, \"View Shipments\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"button\", 2);\n            i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_Template_button_click_4_listener() {\n              return ctx.activeTab = \"all\";\n            });\n            i0.ɵɵtext(5, \"All Shipments\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"button\", 2);\n            i0.ɵɵlistener(\"click\", function ViewShipmentsComponent_Template_button_click_6_listener() {\n              return ctx.activeTab = \"received\";\n            });\n            i0.ɵɵtext(7, \"Received Shipments\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(8, ViewShipmentsComponent_div_8_Template, 39, 6, \"div\", 3)(9, ViewShipmentsComponent_div_9_Template, 43, 7, \"div\", 3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(10, ViewShipmentsComponent_div_10_Template, 22, 2, \"div\", 4)(11, ViewShipmentsComponent_div_11_Template, 195, 51, \"div\", 5);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"all\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"received\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"all\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"received\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showReturnModal);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedShipment);\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.DatePipe, FormsModule, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.CheckboxControlValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.MinValidator, i3.NgModel],\n        styles: [\"[_nghost-%COMP%]{--page-bg: #f6f8fb;--card: #ffffff;--border: #e5e7eb;--text: #0f172a;--muted: #6b7280;--primary: #2563eb;--primary-strong: #1e3a8a}.shipments-container[_ngcontent-%COMP%]{padding:20px;color:var(--text);max-width:100%;box-sizing:border-box;overflow-x:hidden;min-width:0}.filters[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px;flex-wrap:wrap}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid var(--border);border-radius:10px;background:#fff;color:var(--text);flex:1 1 190px;min-width:0}.tabs[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 14px;border-radius:999px;border:1px solid var(--border);background:#fff;color:var(--text);cursor:pointer}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border-color:var(--primary)}.actions-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:15px}.return-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:10px;border:none;background:#ef4444;color:#fff;cursor:pointer;font-weight:600}.table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:auto;max-width:100%;box-sizing:border-box}.shipments-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden;table-layout:auto;min-width:0;font-size:12px}.shipments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .shipments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid var(--border);padding:8px;text-align:left;vertical-align:top;word-break:break-word;overflow-wrap:anywhere;white-space:normal;min-width:0}.action-cell[_ngcontent-%COMP%]{text-align:center;min-width:120px}.print-btn[_ngcontent-%COMP%]{padding:4px 10px;border-radius:8px;border:none;background:#0ea5e9;color:#fff;font-weight:600;cursor:pointer;transition:background .2s ease;white-space:nowrap;letter-spacing:-.01em}.print-btn[_ngcontent-%COMP%]:hover{background:#0284c7}.shipments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc;font-weight:600;white-space:nowrap}.shipments-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8fafc;cursor:pointer}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;width:500px;max-height:80vh;overflow-y:auto;border-radius:8px;position:relative}.close[_ngcontent-%COMP%]{position:absolute;right:15px;top:10px;font-size:24px;cursor:pointer}.details-modal[_ngcontent-%COMP%]{background:#0f172a8c}.details-content[_ngcontent-%COMP%]{background:var(--page-bg);color:var(--text);width:min(860px,92vw);max-height:85vh;border-radius:16px;border:1px solid var(--border);box-shadow:0 18px 40px #0f172a33}.details-close[_ngcontent-%COMP%]{position:absolute;right:18px;top:12px;background:transparent;border:none;font-size:24px;cursor:pointer;color:var(--muted)}.details-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:16px;gap:12px}.details-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px}.details-sub[_ngcontent-%COMP%]{margin:6px 0 0;color:var(--muted);font-size:13px}.details-status[_ngcontent-%COMP%]{background:#e0f2fe;color:#0ea5e9;padding:6px 10px;border-radius:999px;font-size:12px;font-weight:600;white-space:nowrap}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px 16px;background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:16px}.details-products[_ngcontent-%COMP%]{display:grid;gap:12px}.details-invoice[_ngcontent-%COMP%]{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px}.details-invoice-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px}.details-product-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:8px}.details-product-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:space-between;border-bottom:1px solid var(--border);padding-bottom:6px}.details-product-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.product-name[_ngcontent-%COMP%]{font-weight:600}.product-meta[_ngcontent-%COMP%]{color:var(--muted);font-size:13px}.return-modal[_ngcontent-%COMP%]{background:#0f172a8c}.return-content[_ngcontent-%COMP%]{width:min(420px,90vw);border-radius:12px;border:1px solid var(--border)}.return-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:6px 0 10px}.return-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:18px}.return-list[_ngcontent-%COMP%]{margin:8px 0 0;padding-left:18px;max-height:160px;overflow-y:auto;color:var(--muted)}.return-line[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.return-line[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:140px;padding:6px 8px;border:1px solid var(--border);border-radius:8px}.return-toggle[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:space-between;gap:12px;margin:8px 0 4px;color:var(--muted)}.toggle[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;cursor:pointer}.toggle-track[_ngcontent-%COMP%]{width:40px;height:22px;background:#e5e7eb;border-radius:999px;display:inline-flex;align-items:center;padding:2px;transition:background .2s ease}.toggle-thumb[_ngcontent-%COMP%]{width:18px;height:18px;background:#fff;border-radius:999px;box-shadow:0 1px 3px #0f172a33;transform:translate(0);transition:transform .2s ease}.toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-track[_ngcontent-%COMP%]{background:#16a34a}.toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-track[_ngcontent-%COMP%]   .toggle-thumb[_ngcontent-%COMP%]{transform:translate(18px)}@media (max-width: 700px){.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.details-product-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}@media (max-width: 1200px){.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:7px 9px;font-size:13px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .return-btn[_ngcontent-%COMP%]{padding:7px 12px;font-size:13px}.shipments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .shipments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px;font-size:13px}}@media (max-width: 992px){.filters[_ngcontent-%COMP%]{gap:8px}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 8px;font-size:12px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .return-btn[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.shipments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .shipments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px;font-size:12px}}@media (max-width: 768px){.filters[_ngcontent-%COMP%]{gap:6px}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px 7px;font-size:11px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .return-btn[_ngcontent-%COMP%]{padding:5px 8px;font-size:11px}.shipments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .shipments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;font-size:11px}}\"]\n      });\n    }\n  }\n  return ViewShipmentsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}