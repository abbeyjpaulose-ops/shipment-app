{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet ManifestComponent = class ManifestComponent {\n  constructor(http) {\n    this.http = http;\n    this.consignments = [];\n    this.selectedConsignments = new Set();\n    this.editingConsignment = null;\n  }\n  ngOnInit() {\n    this.loadConsignments();\n  }\n  loadConsignments() {\n    const email = localStorage.getItem('email');\n    this.http.get(`http://localhost:5000/api/shipments?email=${email}&status=In Transit`).subscribe({\n      next: res => {\n        this.consignments = res.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n      },\n      error: err => console.error('❌ Error loading consignments:', err)\n    });\n  }\n  toggleSelection(consignmentId) {\n    if (this.selectedConsignments.has(consignmentId)) {\n      this.selectedConsignments.delete(consignmentId);\n    } else {\n      this.selectedConsignments.add(consignmentId);\n    }\n  }\n  markAsDelivered() {\n    const ids = Array.from(this.selectedConsignments);\n    ids.forEach(id => {\n      this.http.put(`http://localhost:5000/api/shipments/${id}`, {\n        shipmentStatus: 'Delivered'\n      }).subscribe({\n        next: () => {\n          console.log(`✅ Consignment ${id} marked Delivered`);\n          this.loadConsignments();\n          this.selectedConsignments.delete(id);\n        },\n        error: err => console.error(`❌ Error updating ${id}:`, err)\n      });\n    });\n  }\n  editConsignment(c) {\n    this.editingConsignment = {\n      ...c\n    };\n  }\n  saveConsignmentEdit() {\n    if (!this.editingConsignment) return;\n    this.http.put(`http://localhost:5000/api/shipments/${this.editingConsignment._id}`, this.editingConsignment).subscribe({\n      next: () => {\n        console.log('✅ Consignment updated');\n        this.loadConsignments();\n        this.editingConsignment = null;\n      },\n      error: err => console.error('❌ Error saving consignment:', err)\n    });\n  }\n  cancelEdit() {\n    this.editingConsignment = null;\n  }\n};\nManifestComponent = __decorate([Component({\n  selector: 'app-manifestation',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './manifestation.component.html',\n  styleUrls: ['./manifestation.component.css']\n})], ManifestComponent);\nexport { ManifestComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}